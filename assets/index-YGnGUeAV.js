(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Bb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tp={exports:{}},gc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function WT(){if(yx)return gc;yx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var d=null;if(l!==void 0&&(d=""+l),a.key!==void 0&&(d=""+a.key),"key"in a){l={};for(var m in a)m!=="key"&&(l[m]=a[m])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:d,ref:a!==void 0?a:null,props:l}}return gc.Fragment=e,gc.jsx=t,gc.jsxs=t,gc}var vx;function JT(){return vx||(vx=1,Tp.exports=WT()),Tp.exports}var h=JT(),Sp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function ZT(){if(xx)return Re;xx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,F={};function P(O,se,ue){this.props=O,this.context=se,this.refs=F,this.updater=ue||S}P.prototype.isReactComponent={},P.prototype.setState=function(O,se){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,se,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=P.prototype;function Q(O,se,ue){this.props=O,this.context=se,this.refs=F,this.updater=ue||S}var U=Q.prototype=new H;U.constructor=Q,N(U,P.prototype),U.isPureReactComponent=!0;var J=Array.isArray,ne={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function I(O,se,ue,le,xe,je){return ue=je.ref,{$$typeof:n,type:O,key:se,ref:ue!==void 0?ue:null,props:je}}function R(O,se){return I(O.type,se,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function k(O){var se={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return se[ue]})}var V=/\/+/g;function B(O,se){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):se.toString(36)}function D(){}function It(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(se){O.status==="pending"&&(O.status="fulfilled",O.value=se)},function(se){O.status==="pending"&&(O.status="rejected",O.reason=se)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function st(O,se,ue,le,xe){var je=typeof O;(je==="undefined"||je==="boolean")&&(O=null);var Se=!1;if(O===null)Se=!0;else switch(je){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(O.$$typeof){case n:case e:Se=!0;break;case x:return Se=O._init,st(Se(O._payload),se,ue,le,xe)}}if(Se)return xe=xe(O),Se=le===""?"."+B(O,0):le,J(xe)?(ue="",Se!=null&&(ue=Se.replace(V,"$&/")+"/"),st(xe,se,ue,"",function(ur){return ur})):xe!=null&&(C(xe)&&(xe=R(xe,ue+(xe.key==null||O&&O.key===xe.key?"":(""+xe.key).replace(V,"$&/")+"/")+Se)),se.push(xe)),1;Se=0;var Vt=le===""?".":le+":";if(J(O))for(var tt=0;tt<O.length;tt++)le=O[tt],je=Vt+B(le,tt),Se+=st(le,se,ue,je,xe);else if(tt=E(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(le=O.next()).done;)le=le.value,je=Vt+B(le,tt++),Se+=st(le,se,ue,je,xe);else if(je==="object"){if(typeof O.then=="function")return st(It(O),se,ue,le,xe);throw se=String(O),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Se}function $(O,se,ue){if(O==null)return O;var le=[],xe=0;return st(O,le,"","",function(je){return se.call(ue,je,xe++)}),le}function ae(O){if(O._status===-1){var se=O._result;se=se(),se.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=se)}if(O._status===1)return O._result.default;throw O._result}var fe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Oe(){}return Re.Children={map:$,forEach:function(O,se,ue){$(O,function(){se.apply(this,arguments)},ue)},count:function(O){var se=0;return $(O,function(){se++}),se},toArray:function(O){return $(O,function(se){return se})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=P,Re.Fragment=t,Re.Profiler=a,Re.PureComponent=Q,Re.StrictMode=i,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ne.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,se,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=N({},O.props),xe=O.key,je=void 0;if(se!=null)for(Se in se.ref!==void 0&&(je=void 0),se.key!==void 0&&(xe=""+se.key),se)!oe.call(se,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&se.ref===void 0||(le[Se]=se[Se]);var Se=arguments.length-2;if(Se===1)le.children=ue;else if(1<Se){for(var Vt=Array(Se),tt=0;tt<Se;tt++)Vt[tt]=arguments[tt+2];le.children=Vt}return I(O.type,xe,void 0,void 0,je,le)},Re.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Re.createElement=function(O,se,ue){var le,xe={},je=null;if(se!=null)for(le in se.key!==void 0&&(je=""+se.key),se)oe.call(se,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(xe[le]=se[le]);var Se=arguments.length-2;if(Se===1)xe.children=ue;else if(1<Se){for(var Vt=Array(Se),tt=0;tt<Se;tt++)Vt[tt]=arguments[tt+2];xe.children=Vt}if(O&&O.defaultProps)for(le in Se=O.defaultProps,Se)xe[le]===void 0&&(xe[le]=Se[le]);return I(O,je,void 0,void 0,null,xe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=C,Re.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:ae}},Re.memo=function(O,se){return{$$typeof:y,type:O,compare:se===void 0?null:se}},Re.startTransition=function(O){var se=ne.T,ue={};ne.T=ue;try{var le=O(),xe=ne.S;xe!==null&&xe(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Oe,fe)}catch(je){fe(je)}finally{ne.T=se}},Re.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},Re.use=function(O){return ne.H.use(O)},Re.useActionState=function(O,se,ue){return ne.H.useActionState(O,se,ue)},Re.useCallback=function(O,se){return ne.H.useCallback(O,se)},Re.useContext=function(O){return ne.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,se){return ne.H.useDeferredValue(O,se)},Re.useEffect=function(O,se,ue){var le=ne.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(O,se)},Re.useId=function(){return ne.H.useId()},Re.useImperativeHandle=function(O,se,ue){return ne.H.useImperativeHandle(O,se,ue)},Re.useInsertionEffect=function(O,se){return ne.H.useInsertionEffect(O,se)},Re.useLayoutEffect=function(O,se){return ne.H.useLayoutEffect(O,se)},Re.useMemo=function(O,se){return ne.H.useMemo(O,se)},Re.useOptimistic=function(O,se){return ne.H.useOptimistic(O,se)},Re.useReducer=function(O,se,ue){return ne.H.useReducer(O,se,ue)},Re.useRef=function(O){return ne.H.useRef(O)},Re.useState=function(O){return ne.H.useState(O)},Re.useSyncExternalStore=function(O,se,ue){return ne.H.useSyncExternalStore(O,se,ue)},Re.useTransition=function(){return ne.H.useTransition()},Re.version="19.1.0",Re}var _x;function Gd(){return _x||(_x=1,Sp.exports=ZT()),Sp.exports}var L=Gd();const ls=Bb(L);var Ap={exports:{}},yc={},Np={exports:{}},Rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function e6(){return bx||(bx=1,function(n){function e($,ae){var fe=$.length;$.push(ae);e:for(;0<fe;){var Oe=fe-1>>>1,O=$[Oe];if(0<a(O,ae))$[Oe]=ae,$[fe]=O,fe=Oe;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ae=$[0],fe=$.pop();if(fe!==ae){$[0]=fe;e:for(var Oe=0,O=$.length,se=O>>>1;Oe<se;){var ue=2*(Oe+1)-1,le=$[ue],xe=ue+1,je=$[xe];if(0>a(le,fe))xe<O&&0>a(je,le)?($[Oe]=je,$[xe]=fe,Oe=xe):($[Oe]=le,$[ue]=fe,Oe=ue);else if(xe<O&&0>a(je,fe))$[Oe]=je,$[xe]=fe,Oe=xe;else break e}}return ae}function a($,ae){var fe=$.sortIndex-ae.sortIndex;return fe!==0?fe:$.id-ae.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var g=[],y=[],x=1,w=null,E=3,S=!1,N=!1,F=!1,P=!1,H=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function J($){for(var ae=t(y);ae!==null;){if(ae.callback===null)i(y);else if(ae.startTime<=$)i(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=t(y)}}function ne($){if(F=!1,J($),!N)if(t(g)!==null)N=!0,oe||(oe=!0,B());else{var ae=t(y);ae!==null&&st(ne,ae.startTime-$)}}var oe=!1,I=-1,R=5,C=-1;function k(){return P?!0:!(n.unstable_now()-C<R)}function V(){if(P=!1,oe){var $=n.unstable_now();C=$;var ae=!0;try{e:{N=!1,F&&(F=!1,Q(I),I=-1),S=!0;var fe=E;try{t:{for(J($),w=t(g);w!==null&&!(w.expirationTime>$&&k());){var Oe=w.callback;if(typeof Oe=="function"){w.callback=null,E=w.priorityLevel;var O=Oe(w.expirationTime<=$);if($=n.unstable_now(),typeof O=="function"){w.callback=O,J($),ae=!0;break t}w===t(g)&&i(g),J($)}else i(g);w=t(g)}if(w!==null)ae=!0;else{var se=t(y);se!==null&&st(ne,se.startTime-$),ae=!1}}break e}finally{w=null,E=fe,S=!1}ae=void 0}}finally{ae?B():oe=!1}}}var B;if(typeof U=="function")B=function(){U(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,It=D.port2;D.port1.onmessage=V,B=function(){It.postMessage(null)}}else B=function(){H(V,0)};function st($,ae){I=H(function(){$(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function($){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var fe=E;E=ae;try{return $()}finally{E=fe}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var fe=E;E=$;try{return ae()}finally{E=fe}},n.unstable_scheduleCallback=function($,ae,fe){var Oe=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Oe+fe:Oe):fe=Oe,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=fe+O,$={id:x++,callback:ae,priorityLevel:$,startTime:fe,expirationTime:O,sortIndex:-1},fe>Oe?($.sortIndex=fe,e(y,$),t(g)===null&&$===t(y)&&(F?(Q(I),I=-1):F=!0,st(ne,fe-Oe))):($.sortIndex=O,e(g,$),N||S||(N=!0,oe||(oe=!0,B()))),$},n.unstable_shouldYield=k,n.unstable_wrapCallback=function($){var ae=E;return function(){var fe=E;E=ae;try{return $.apply(this,arguments)}finally{E=fe}}}}(Rp)),Rp}var wx;function t6(){return wx||(wx=1,Np.exports=e6()),Np.exports}var Cp={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ex;function n6(){if(Ex)return tn;Ex=1;var n=Gd();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,y,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:g,containerInfo:y,implementation:x}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,tn.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(g,y,null,x)},tn.flushSync=function(g){var y=d.T,x=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=y,i.p=x,i.d.f()}},tn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},tn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},tn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,w=m(x,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,S=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:E,fetchPriority:S}):x==="script"&&i.d.X(g,{crossOrigin:w,integrity:E,fetchPriority:S,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=m(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},tn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,w=m(x,y.crossOrigin);i.d.L(g,x,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=m(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},tn.requestFormReset=function(g){i.d.r(g)},tn.unstable_batchedUpdates=function(g,y){return g(y)},tn.useFormState=function(g,y,x){return d.H.useFormState(g,y,x)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.1.0",tn}var Tx;function r6(){if(Tx)return Cp.exports;Tx=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Cp.exports=n6(),Cp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function i6(){if(Sx)return yc;Sx=1;var n=t6(),e=Gd(),t=r6();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function d(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),r;if(p===c)return m(f),s;p=p.sibling}throw Error(i(188))}if(o.return!==c.return)o=f,c=p;else{for(var b=!1,T=f.child;T;){if(T===o){b=!0,o=f,c=p;break}if(T===c){b=!0,c=f,o=p;break}T=T.sibling}if(!b){for(T=p.child;T;){if(T===o){b=!0,o=p,c=f;break}if(T===c){b=!0,c=p,o=f;break}T=T.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var x=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),U=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function It(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case P:return"Profiler";case F:return"StrictMode";case ne:return"Suspense";case oe:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case U:return(r.displayName||"Context")+".Provider";case Q:return(r._context.displayName||"Context")+".Consumer";case J:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case I:return s=r.displayName||null,s!==null?s:It(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return It(r(s))}catch{}}return null}var st=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Oe=[],O=-1;function se(r){return{current:r}}function ue(r){0>O||(r.current=Oe[O],Oe[O]=null,O--)}function le(r,s){O++,Oe[O]=r.current,r.current=s}var xe=se(null),je=se(null),Se=se(null),Vt=se(null);function tt(r,s){switch(le(Se,s),le(je,r),le(xe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?G1(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=G1(s),r=$1(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(xe),le(xe,r)}function ur(){ue(xe),ue(je),ue(Se)}function Ai(r){r.memoizedState!==null&&le(Vt,r);var s=xe.current,o=$1(s,r.type);s!==o&&(le(je,r),le(xe,o))}function zr(r){je.current===r&&(ue(xe),ue(je)),Vt.current===r&&(ue(Vt),hc._currentValue=fe)}var Is=Object.prototype.hasOwnProperty,js=n.unstable_scheduleCallback,Ds=n.unstable_cancelCallback,ll=n.unstable_shouldYield,vu=n.unstable_requestPaint,Dn=n.unstable_now,Tf=n.unstable_getCurrentPriorityLevel,cl=n.unstable_ImmediatePriority,Va=n.unstable_UserBlockingPriority,Os=n.unstable_NormalPriority,Sf=n.unstable_LowPriority,La=n.unstable_IdlePriority,ul=n.log,xu=n.unstable_setDisableYieldValue,ht=null,Ke=null;function _n(r){if(typeof ul=="function"&&xu(r),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ht,r)}catch{}}var Zt=Math.clz32?Math.clz32:Ps,_u=Math.log,Af=Math.LN2;function Ps(r){return r>>>=0,r===0?32:31-(_u(r)/Af|0)|0}var ks=256,Ms=4194304;function Jn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ua(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,p=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var T=c&134217727;return T!==0?(c=T&~p,c!==0?f=Jn(c):(b&=T,b!==0?f=Jn(b):o||(o=T&~r,o!==0&&(f=Jn(o))))):(T=c&~p,T!==0?f=Jn(T):b!==0?f=Jn(b):o||(o=c&~r,o!==0&&(f=Jn(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function Vs(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function hl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dl(){var r=ks;return ks<<=1,(ks&4194048)===0&&(ks=256),r}function fl(){var r=Ms;return Ms<<=1,(Ms&62914560)===0&&(Ms=4194304),r}function Br(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Fr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ml(r,s,o,c,f,p){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var T=r.entanglements,j=r.expirationTimes,K=r.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-Zt(o),re=1<<Z;T[Z]=0,j[Z]=-1;var Y=K[Z];if(Y!==null)for(K[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}o&=~re}c!==0&&hr(r,c,0),p!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=p&~(b&~s))}function hr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Zt(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function pl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Zt(o),f=1<<c;f&s|r[c]&s&&(r[c]|=s),o&=~f}}function Ni(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function za(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ri(){var r=ae.p;return r!==0?r:(r=window.event,r===void 0?32:hx(r.type))}function bu(r,s){var o=ae.p;try{return ae.p=r,s()}finally{ae.p=o}}var at=Math.random().toString(36).slice(2),jt="__reactFiber$"+at,_t="__reactProps$"+at,On="__reactContainer$"+at,gl="__reactEvents$"+at,Nf="__reactListeners$"+at,Ci="__reactHandles$"+at,wu="__reactResources$"+at,Ls="__reactMarker$"+at;function Ii(r){delete r[jt],delete r[_t],delete r[gl],delete r[Nf],delete r[Ci]}function Hr(r){var s=r[jt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[On]||o[jt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=X1(r);r!==null;){if(o=r[jt])return o;r=X1(r)}return s}r=o,o=r.parentNode}return null}function dr(r){if(r=r[jt]||r[On]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function fr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function on(r){var s=r[wu];return s||(s=r[wu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gt(r){r[Ls]=!0}var yl=new Set,Ba={};function Zn(r,s){qr(r,s),qr(r+"Capture",s)}function qr(r,s){for(Ba[r]=s,r=0;r<s.length;r++)yl.add(s[r])}var Eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tu={},Us={};function Su(r){return Is.call(Us,r)?!0:Is.call(Tu,r)?!1:Eu.test(r)?Us[r]=!0:(Tu[r]=!0,!1)}function ji(r,s,o){if(Su(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function mr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function qt(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var zs,Au;function Gr(r){if(zs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);zs=s&&s[1]||"",Au=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zs+r+Au}var Fa=!1;function Ha(r,s){if(!r||Fa)return"";Fa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var Y=X}Reflect.construct(r,[],re)}else{try{re.call()}catch(X){Y=X}r.call(re.prototype)}}else{try{throw Error()}catch(X){Y=X}(re=r())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),b=p[0],T=p[1];if(b&&T){var j=b.split(`
`),K=T.split(`
`);for(f=c=0;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(c===j.length||f===K.length)for(c=j.length-1,f=K.length-1;1<=c&&0<=f&&j[c]!==K[f];)f--;for(;1<=c&&0<=f;c--,f--)if(j[c]!==K[f]){if(c!==1||f!==1)do if(c--,f--,0>f||j[c]!==K[f]){var Z=`
`+j[c].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=c&&0<=f);break}}}finally{Fa=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Gr(o):""}function vl(r){switch(r.tag){case 26:case 27:case 5:return Gr(r.type);case 16:return Gr("Lazy");case 13:return Gr("Suspense");case 19:return Gr("SuspenseList");case 0:case 15:return Ha(r.type,!1);case 11:return Ha(r.type.render,!1);case 1:return Ha(r.type,!0);case 31:return Gr("Activity");default:return""}}function qa(r){try{var s="";do s+=vl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Rf(r){var s=xl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){c=""+b,p.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ga(r){r._valueTracker||(r._valueTracker=Rf(r))}function _l(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=xl(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Bs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Cf=/[\n"\\]/g;function bt(r){return r.replace(Cf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bn(r,s,o,c,f,p,b,T){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ln(s)):r.value!==""+ln(s)&&(r.value=""+ln(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?Di(r,b,ln(s)):o!=null?Di(r,b,ln(o)):c!=null&&r.removeAttribute("value"),f==null&&p!=null&&(r.defaultChecked=!!p),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.name=""+ln(T):r.removeAttribute("name")}function Fs(r,s,o,c,f,p,b,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+ln(o):"",s=s!=null?""+ln(s):o,T||s===r.value||(r.value=s),r.defaultValue=s}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=T?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function Di(r,s,o){s==="number"&&Bs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function $r(r,s,o,c){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&c&&(r[o].defaultSelected=!0)}else{for(o=""+ln(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Xe(r,s,o){if(s!=null&&(s=""+ln(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+ln(o):""}function Hs(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(st(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=ln(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function Pn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var qs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||qs.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function bl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var f in s)c=s[f],s.hasOwnProperty(f)&&o[f]!==c&&Nu(r,f,c)}else for(var p in s)s.hasOwnProperty(p)&&Nu(r,p,s[p])}function wl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(r){return jf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Kr=null;function kn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Yr=null,Qr=null;function El(r){var s=dr(r);if(s&&(r=s.stateNode)){var o=r[_t]||null;e:switch(r=s.stateNode,s.type){case"input":if(bn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var f=c[_t]||null;if(!f)throw Error(i(90));bn(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&_l(c)}break e;case"textarea":Xe(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&$r(r,!!o.multiple,s,!1)}}}var pr=!1;function Ru(r,s,o){if(pr)return r(s,o);pr=!0;try{var c=r(s);return c}finally{if(pr=!1,(Yr!==null||Qr!==null)&&(bh(),Yr&&(s=Yr,r=Qr,Qr=Yr=null,El(s),r)))for(s=0;s<r.length;s++)El(r[s])}}function Gs(r,s){var o=r.stateNode;if(o===null)return null;var c=o[_t]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(er)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Mn=!1}var gr=null,Oi=null,Xr=null;function Tl(){if(Xr)return Xr;var r,s=Oi,o=s.length,c,f="value"in gr?gr.value:gr.textContent,p=f.length;for(r=0;r<o&&s[r]===f[r];r++);var b=o-r;for(c=1;c<=b&&s[o-c]===f[p-c];c++);return Xr=f.slice(r,1<c?1-c:void 0)}function yr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function vr(){return!0}function Sl(){return!1}function Lt(r){function s(o,c,f,p,b){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(o=r[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?vr:Sl,this.isPropagationStopped=Sl,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),s}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=Lt(Ge),Ks=x({},Ge,{view:0,detail:0}),Cu=Lt(Ks),Ya,Qa,xr,Ys=x({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==xr&&(xr&&r.type==="mousemove"?(Ya=r.screenX-xr.screenX,Qa=r.screenY-xr.screenY):Qa=Ya=0,xr=r),Ya)},movementY:function(r){return"movementY"in r?r.movementY:Qa}}),Vn=Lt(Ys),Iu=x({},Ys,{dataTransfer:0}),Df=Lt(Iu),Qs=x({},Ks,{relatedTarget:0}),Xa=Lt(Qs),Al=x({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Wa=Lt(Al),ju=x({},Ge,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ja=Lt(ju),Of=x({},Ge,{data:0}),Nl=Lt(Of),Xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Ou[r])?!!s[r]:!1}function Ws(){return Rl}var Pu=x({},Ks,{key:function(r){if(r.key){var s=Xs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Du[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(r){return r.type==="keypress"?yr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Za=Lt(Pu),ku=x({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cl=Lt(ku),Wr=x({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),Mu=Lt(Wr),Vu=x({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=Lt(Vu),Uu=x({},Ys,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),eo=Lt(Uu),cn=x({},Ge,{newState:0,oldState:0}),zu=Lt(cn),Bu=[9,13,27,32],_r=er&&"CompositionEvent"in window,u=null;er&&"documentMode"in document&&(u=document.documentMode);var v=er&&"TextEvent"in window&&!u,_=er&&(!_r||u&&8<u&&11>=u),A=" ",q=!1;function W(r,s){switch(r){case"keyup":return Bu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Le=!1;function Dt(r,s){switch(r){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:(q=!0,A);case"textInput":return r=s.data,r===A&&q?null:r;default:return null}}function Ue(r,s){if(Le)return r==="compositionend"||!_r&&W(r,s)?(r=Tl(),Xr=Oi=gr=null,Le=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Ut[r.type]:s==="textarea"}function Jr(r,s,o,c){Yr?Qr?Qr.push(c):Qr=[c]:Yr=c,s=Nh(s,"onChange"),0<s.length&&(o=new Ka("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Gt=null,br=null;function Il(r){z1(r,0)}function Fu(r){var s=fr(r);if(_l(s))return r}function oy(r,s){if(r==="change")return s}var ly=!1;if(er){var Pf;if(er){var kf="oninput"in document;if(!kf){var cy=document.createElement("div");cy.setAttribute("oninput","return;"),kf=typeof cy.oninput=="function"}Pf=kf}else Pf=!1;ly=Pf&&(!document.documentMode||9<document.documentMode)}function uy(){Gt&&(Gt.detachEvent("onpropertychange",hy),br=Gt=null)}function hy(r){if(r.propertyName==="value"&&Fu(br)){var s=[];Jr(s,br,r,kn(r)),Ru(Il,s)}}function N4(r,s,o){r==="focusin"?(uy(),Gt=s,br=o,Gt.attachEvent("onpropertychange",hy)):r==="focusout"&&uy()}function R4(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Fu(br)}function C4(r,s){if(r==="click")return Fu(s)}function I4(r,s){if(r==="input"||r==="change")return Fu(s)}function j4(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var wn=typeof Object.is=="function"?Object.is:j4;function jl(r,s){if(wn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Is.call(s,f)||!wn(r[f],s[f]))return!1}return!0}function dy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fy(r,s){var o=dy(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=dy(o)}}function my(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?my(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function py(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Bs(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Bs(r.document)}return s}function Mf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var D4=er&&"documentMode"in document&&11>=document.documentMode,to=null,Vf=null,Dl=null,Lf=!1;function gy(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lf||to==null||to!==Bs(c)||(c=to,"selectionStart"in c&&Mf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Dl&&jl(Dl,c)||(Dl=c,c=Nh(Vf,"onSelect"),0<c.length&&(s=new Ka("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=to)))}function Js(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var no={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},Uf={},yy={};er&&(yy=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Zs(r){if(Uf[r])return Uf[r];if(!no[r])return r;var s=no[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in yy)return Uf[r]=s[o];return r}var vy=Zs("animationend"),xy=Zs("animationiteration"),_y=Zs("animationstart"),O4=Zs("transitionrun"),P4=Zs("transitionstart"),k4=Zs("transitioncancel"),by=Zs("transitionend"),wy=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function tr(r,s){wy.set(r,s),Zn(s,[r])}var Ey=new WeakMap;function Ln(r,s){if(typeof r=="object"&&r!==null){var o=Ey.get(r);return o!==void 0?o:(s={value:r,source:s,stack:qa(s)},Ey.set(r,s),s)}return{value:r,source:s,stack:qa(s)}}var Un=[],ro=0,Bf=0;function Hu(){for(var r=ro,s=Bf=ro=0;s<r;){var o=Un[s];Un[s++]=null;var c=Un[s];Un[s++]=null;var f=Un[s];Un[s++]=null;var p=Un[s];if(Un[s++]=null,c!==null&&f!==null){var b=c.pending;b===null?f.next=f:(f.next=b.next,b.next=f),c.pending=f}p!==0&&Ty(o,f,p)}}function qu(r,s,o,c){Un[ro++]=r,Un[ro++]=s,Un[ro++]=o,Un[ro++]=c,Bf|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Ff(r,s,o,c){return qu(r,s,o,c),Gu(r)}function io(r,s){return qu(r,null,null,s),Gu(r)}function Ty(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=r.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(f=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,f&&s!==null&&(f=31-Zt(o),r=p.hiddenUpdates,c=r[f],c===null?r[f]=[s]:c.push(s),s.lane=o|536870912),p):null}function Gu(r){if(50<rc)throw rc=0,Ym=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var so={};function M4(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(r,s,o,c){return new M4(r,s,o,c)}function Hf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Zr(r,s){var o=r.alternate;return o===null?(o=En(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Sy(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function $u(r,s,o,c,f,p){var b=0;if(c=r,typeof r=="function")Hf(r)&&(b=1);else if(typeof r=="string")b=LT(r,o,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=En(31,o,s,f),r.elementType=C,r.lanes=p,r;case N:return ea(o.children,f,p,s);case F:b=8,f|=24;break;case P:return r=En(12,o,s,f|2),r.elementType=P,r.lanes=p,r;case ne:return r=En(13,o,s,f),r.elementType=ne,r.lanes=p,r;case oe:return r=En(19,o,s,f),r.elementType=oe,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:case U:b=10;break e;case Q:b=9;break e;case J:b=11;break e;case I:b=14;break e;case R:b=16,c=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=En(b,o,s,f),s.elementType=r,s.type=c,s.lanes=p,s}function ea(r,s,o,c){return r=En(7,r,c,s),r.lanes=o,r}function qf(r,s,o){return r=En(6,r,null,s),r.lanes=o,r}function Gf(r,s,o){return s=En(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var ao=[],oo=0,Ku=null,Yu=0,zn=[],Bn=0,ta=null,ei=1,ti="";function na(r,s){ao[oo++]=Yu,ao[oo++]=Ku,Ku=r,Yu=s}function Ay(r,s,o){zn[Bn++]=ei,zn[Bn++]=ti,zn[Bn++]=ta,ta=r;var c=ei;r=ti;var f=32-Zt(c)-1;c&=~(1<<f),o+=1;var p=32-Zt(s)+f;if(30<p){var b=f-f%5;p=(c&(1<<b)-1).toString(32),c>>=b,f-=b,ei=1<<32-Zt(s)+f|o<<f|c,ti=p+r}else ei=1<<p|o<<f|c,ti=r}function $f(r){r.return!==null&&(na(r,1),Ay(r,1,0))}function Kf(r){for(;r===Ku;)Ku=ao[--oo],ao[oo]=null,Yu=ao[--oo],ao[oo]=null;for(;r===ta;)ta=zn[--Bn],zn[Bn]=null,ti=zn[--Bn],zn[Bn]=null,ei=zn[--Bn],zn[Bn]=null}var un=null,dt=null,qe=!1,ra=null,wr=!1,Yf=Error(i(519));function ia(r){var s=Error(i(418,""));throw kl(Ln(s,r)),Yf}function Ny(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[jt]=r,s[_t]=c,o){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(o=0;o<sc.length;o++)ke(sc[o],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),Fs(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ga(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),Hs(s,c.value,c.defaultValue,c.children),Ga(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||q1(s.textContent,o)?(c.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),c.onScroll!=null&&ke("scroll",s),c.onScrollEnd!=null&&ke("scrollend",s),c.onClick!=null&&(s.onclick=Rh),s=!0):s=!1,s||ia(r)}function Ry(r){for(un=r.return;un;)switch(un.tag){case 5:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:un=un.return}}function Ol(r){if(r!==un)return!1;if(!qe)return Ry(r),qe=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||up(r.type,r.memoizedProps)),o=!o),o&&dt&&ia(r),Ry(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){dt=rr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}dt=null}}else s===27?(s=dt,Qi(r.type)?(r=mp,mp=null,dt=r):dt=s):dt=un?rr(r.stateNode.nextSibling):null;return!0}function Pl(){dt=un=null,qe=!1}function Cy(){var r=ra;return r!==null&&(pn===null?pn=r:pn.push.apply(pn,r),ra=null),r}function kl(r){ra===null?ra=[r]:ra.push(r)}var Qf=se(null),sa=null,ni=null;function Pi(r,s,o){le(Qf,s._currentValue),s._currentValue=o}function ri(r){r._currentValue=Qf.current,ue(Qf)}function Xf(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function Wf(r,s,o,c){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=f;for(var j=0;j<s.length;j++)if(T.context===s[j]){p.lanes|=o,T=p.alternate,T!==null&&(T.lanes|=o),Xf(p.return,o,r),c||(b=null);break e}p=T.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),Xf(b,o,r),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===r){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ml(r,s,o,c){r=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var T=f.type;wn(f.pendingProps.value,b.value)||(r!==null?r.push(T):r=[T])}}else if(f===Vt.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(hc):r=[hc])}f=f.return}r!==null&&Wf(s,r,o,c),s.flags|=262144}function Qu(r){for(r=r.firstContext;r!==null;){if(!wn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function aa(r){sa=r,ni=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function en(r){return Iy(sa,r)}function Xu(r,s){return sa===null&&aa(r),Iy(r,s)}function Iy(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ni===null){if(r===null)throw Error(i(308));ni=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ni=ni.next=s;return o}var V4=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},L4=n.unstable_scheduleCallback,U4=n.unstable_NormalPriority,Pt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new V4,data:new Map,refCount:0}}function Vl(r){r.refCount--,r.refCount===0&&L4(U4,function(){r.controller.abort()})}var Ll=null,Zf=0,lo=0,co=null;function z4(r,s){if(Ll===null){var o=Ll=[];Zf=0,lo=tp(),co={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Zf++,s.then(jy,jy),s}function jy(){if(--Zf===0&&Ll!==null){co!==null&&(co.status="fulfilled");var r=Ll;Ll=null,lo=0,co=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function B4(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Dy=$.S;$.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&z4(r,s),Dy!==null&&Dy(r,s)};var oa=se(null);function em(){var r=oa.current;return r!==null?r:nt.pooledCache}function Wu(r,s){s===null?le(oa,oa.current):le(oa,s.pool)}function Oy(){var r=em();return r===null?null:{parent:Pt._currentValue,pool:r}}var Ul=Error(i(460)),Py=Error(i(474)),Ju=Error(i(542)),tm={then:function(){}};function ky(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Zu(){}function My(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Zu,Zu),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ly(r),r;default:if(typeof s.status=="string")s.then(Zu,Zu);else{if(r=nt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=c}},function(c){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ly(r),r}throw zl=s,Ul}}var zl=null;function Vy(){if(zl===null)throw Error(i(459));var r=zl;return zl=null,r}function Ly(r){if(r===Ul||r===Ju)throw Error(i(483))}var ki=!1;function nm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Mi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Vi(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,s=Gu(r),Ty(r,null,o),s}return qu(r,c,s,o),Gu(r)}function Bl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,pl(r,o)}}function im(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var sm=!1;function Fl(){if(sm){var r=co;if(r!==null)throw r}}function Hl(r,s,o,c){sm=!1;var f=r.updateQueue;ki=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var j=T,K=j.next;j.next=null,b===null?p=K:b.next=K,b=j;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==b&&(T===null?Z.firstBaseUpdate=K:T.next=K,Z.lastBaseUpdate=j))}if(p!==null){var re=f.baseState;b=0,Z=K=j=null,T=p;do{var Y=T.lane&-536870913,X=Y!==T.lane;if(X?(ze&Y)===Y:(c&Y)===Y){Y!==0&&Y===lo&&(sm=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=r,_e=T;Y=s;var Ze=o;switch(_e.tag){case 1:if(Ee=_e.payload,typeof Ee=="function"){re=Ee.call(Ze,re,Y);break e}re=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=_e.payload,Y=typeof Ee=="function"?Ee.call(Ze,re,Y):Ee,Y==null)break e;re=x({},re,Y);break e;case 2:ki=!0}}Y=T.callback,Y!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(K=Z=X,j=re):Z=Z.next=X,b|=Y;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;X=T,T=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(j=re),f.baseState=j,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,p===null&&(f.shared.lanes=0),Gi|=b,r.lanes=b,r.memoizedState=re}}function Uy(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function zy(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Uy(o[r],s)}var uo=se(null),eh=se(0);function By(r,s){r=ui,le(eh,r),le(uo,s),ui=r|s.baseLanes}function am(){le(eh,ui),le(uo,uo.current)}function om(){ui=eh.current,ue(uo),ue(eh)}var Li=0,Ce=null,We=null,wt=null,th=!1,ho=!1,la=!1,nh=0,ql=0,fo=null,F4=0;function yt(){throw Error(i(321))}function lm(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!wn(r[o],s[o]))return!1;return!0}function cm(r,s,o,c,f,p){return Li=p,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=r===null||r.memoizedState===null?Tv:Sv,la=!1,p=o(c,f),la=!1,ho&&(p=Hy(s,o,c,f)),Fy(r),p}function Fy(r){$.H=lh;var s=We!==null&&We.next!==null;if(Li=0,wt=We=Ce=null,th=!1,ql=0,fo=null,s)throw Error(i(300));r===null||zt||(r=r.dependencies,r!==null&&Qu(r)&&(zt=!0))}function Hy(r,s,o,c){Ce=r;var f=0;do{if(ho&&(fo=null),ql=0,ho=!1,25<=f)throw Error(i(301));if(f+=1,wt=We=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}$.H=Q4,p=s(o,c)}while(ho);return p}function H4(){var r=$.H,s=r.useState()[0];return s=typeof s.then=="function"?Gl(s):s,r=r.useState()[0],(We!==null?We.memoizedState:null)!==r&&(Ce.flags|=1024),s}function um(){var r=nh!==0;return nh=0,r}function hm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function dm(r){if(th){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}th=!1}Li=0,wt=We=Ce=null,ho=!1,ql=nh=0,fo=null}function fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ce.memoizedState=wt=r:wt=wt.next=r,wt}function Et(){if(We===null){var r=Ce.alternate;r=r!==null?r.memoizedState:null}else r=We.next;var s=wt===null?Ce.memoizedState:wt.next;if(s!==null)wt=s,We=r;else{if(r===null)throw Ce.alternate===null?Error(i(467)):Error(i(310));We=r,r={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?Ce.memoizedState=wt=r:wt=wt.next=r}return wt}function fm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(r){var s=ql;return ql+=1,fo===null&&(fo=[]),r=My(fo,r,s),s=Ce,(wt===null?s.memoizedState:wt.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?Tv:Sv),r}function rh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Gl(r);if(r.$$typeof===U)return en(r)}throw Error(i(438,String(r)))}function mm(r){var s=null,o=Ce.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ce.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=fm(),Ce.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=k;return s.index++,o}function ii(r,s){return typeof s=="function"?s(r):s}function ih(r){var s=Et();return pm(s,We,r)}function pm(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var f=r.baseQueue,p=c.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}s.baseQueue=f=p,c.pending=null}if(p=r.baseState,f===null)r.memoizedState=p;else{s=f.next;var T=b=null,j=null,K=s,Z=!1;do{var re=K.lane&-536870913;if(re!==K.lane?(ze&re)===re:(Li&re)===re){var Y=K.revertLane;if(Y===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),re===lo&&(Z=!0);else if((Li&Y)===Y){K=K.next,Y===lo&&(Z=!0);continue}else re={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(T=j=re,b=p):j=j.next=re,Ce.lanes|=Y,Gi|=Y;re=K.action,la&&o(p,re),p=K.hasEagerState?K.eagerState:o(p,re)}else Y={lane:re,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},j===null?(T=j=Y,b=p):j=j.next=Y,Ce.lanes|=re,Gi|=re;K=K.next}while(K!==null&&K!==s);if(j===null?b=p:j.next=T,!wn(p,r.memoizedState)&&(zt=!0,Z&&(o=co,o!==null)))throw o;r.memoizedState=p,r.baseState=b,r.baseQueue=j,c.lastRenderedState=p}return f===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function gm(r){var s=Et(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=r(p,b.action),b=b.next;while(b!==f);wn(p,s.memoizedState)||(zt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,c]}function qy(r,s,o){var c=Ce,f=Et(),p=qe;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!wn((We||f).memoizedState,o);b&&(f.memoizedState=o,zt=!0),f=f.queue;var T=Ky.bind(null,c,f,r);if($l(2048,8,T,[r]),f.getSnapshot!==s||b||wt!==null&&wt.memoizedState.tag&1){if(c.flags|=2048,mo(9,sh(),$y.bind(null,c,f,o,s),null),nt===null)throw Error(i(349));p||(Li&124)!==0||Gy(c,s,o)}return o}function Gy(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ce.updateQueue,s===null?(s=fm(),Ce.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function $y(r,s,o,c){s.value=o,s.getSnapshot=c,Yy(s)&&Qy(r)}function Ky(r,s,o){return o(function(){Yy(s)&&Qy(r)})}function Yy(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!wn(r,o)}catch{return!0}}function Qy(r){var s=io(r,2);s!==null&&Rn(s,r,2)}function ym(r){var s=fn();if(typeof r=="function"){var o=r;if(r=o(),la){_n(!0);try{o()}finally{_n(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:r},s}function Xy(r,s,o,c){return r.baseState=o,pm(r,We,typeof c=="function"?c:ii)}function q4(r,s,o,c,f){if(oh(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};$.T!==null?o(!0):p.isTransition=!1,c(p),o=s.pending,o===null?(p.next=s.pending=p,Wy(s,p)):(p.next=o.next,s.pending=o.next=p)}}function Wy(r,s){var o=s.action,c=s.payload,f=r.state;if(s.isTransition){var p=$.T,b={};$.T=b;try{var T=o(f,c),j=$.S;j!==null&&j(b,T),Jy(r,s,T)}catch(K){vm(r,s,K)}finally{$.T=p}}else try{p=o(f,c),Jy(r,s,p)}catch(K){vm(r,s,K)}}function Jy(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Zy(r,s,c)},function(c){return vm(r,s,c)}):Zy(r,s,o)}function Zy(r,s,o){s.status="fulfilled",s.value=o,ev(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Wy(r,o)))}function vm(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,ev(s),s=s.next;while(s!==c)}r.action=null}function ev(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function tv(r,s){return s}function nv(r,s){if(qe){var o=nt.formState;if(o!==null){e:{var c=Ce;if(qe){if(dt){t:{for(var f=dt,p=wr;f.nodeType!==8;){if(!p){f=null;break t}if(f=rr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){dt=rr(f.nextSibling),c=f.data==="F!";break e}}ia(c)}c=!1}c&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tv,lastRenderedState:s},o.queue=c,o=bv.bind(null,Ce,c),c.dispatch=o,c=ym(!1),p=Em.bind(null,Ce,!1,c.queue),c=fn(),f={state:s,dispatch:null,action:r,pending:null},c.queue=f,o=q4.bind(null,Ce,f,p,o),f.dispatch=o,c.memoizedState=r,[s,o,!1]}function rv(r){var s=Et();return iv(s,We,r)}function iv(r,s,o){if(s=pm(r,s,tv)[0],r=ih(ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Gl(s)}catch(b){throw b===Ul?Ju:b}else c=s;s=Et();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(Ce.flags|=2048,mo(9,sh(),G4.bind(null,f,o),null)),[c,p,r]}function G4(r,s){r.action=s}function sv(r){var s=Et(),o=We;if(o!==null)return iv(s,o,r);Et(),s=s.memoizedState,o=Et();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function mo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=fm(),Ce.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function sh(){return{destroy:void 0,resource:void 0}}function av(){return Et().memoizedState}function ah(r,s,o,c){var f=fn();c=c===void 0?null:c,Ce.flags|=r,f.memoizedState=mo(1|s,sh(),o,c)}function $l(r,s,o,c){var f=Et();c=c===void 0?null:c;var p=f.memoizedState.inst;We!==null&&c!==null&&lm(c,We.memoizedState.deps)?f.memoizedState=mo(s,p,o,c):(Ce.flags|=r,f.memoizedState=mo(1|s,p,o,c))}function ov(r,s){ah(8390656,8,r,s)}function lv(r,s){$l(2048,8,r,s)}function cv(r,s){return $l(4,2,r,s)}function uv(r,s){return $l(4,4,r,s)}function hv(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function dv(r,s,o){o=o!=null?o.concat([r]):null,$l(4,4,hv.bind(null,s,r),o)}function xm(){}function fv(r,s){var o=Et();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&lm(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function mv(r,s){var o=Et();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&lm(s,c[1]))return c[0];if(c=r(),la){_n(!0);try{r()}finally{_n(!1)}}return o.memoizedState=[c,s],c}function _m(r,s,o){return o===void 0||(Li&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=y1(),Ce.lanes|=r,Gi|=r,o)}function pv(r,s,o,c){return wn(o,s)?o:uo.current!==null?(r=_m(r,o,c),wn(r,s)||(zt=!0),r):(Li&42)===0?(zt=!0,r.memoizedState=o):(r=y1(),Ce.lanes|=r,Gi|=r,s)}function gv(r,s,o,c,f){var p=ae.p;ae.p=p!==0&&8>p?p:8;var b=$.T,T={};$.T=T,Em(r,!1,s,o);try{var j=f(),K=$.S;if(K!==null&&K(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=B4(j,c);Kl(r,s,Z,Nn(r))}else Kl(r,s,c,Nn(r))}catch(re){Kl(r,s,{then:function(){},status:"rejected",reason:re},Nn())}finally{ae.p=p,$.T=b}}function $4(){}function bm(r,s,o,c){if(r.tag!==5)throw Error(i(476));var f=yv(r).queue;gv(r,f,s,fe,o===null?$4:function(){return vv(r),o(c)})}function yv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function vv(r){var s=yv(r).next.queue;Kl(r,s,{},Nn())}function wm(){return en(hc)}function xv(){return Et().memoizedState}function _v(){return Et().memoizedState}function K4(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Nn();r=Mi(o);var c=Vi(s,r,o);c!==null&&(Rn(c,s,o),Bl(c,s,o)),s={cache:Jf()},r.payload=s;return}s=s.return}}function Y4(r,s,o){var c=Nn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},oh(r)?wv(s,o):(o=Ff(r,s,o,c),o!==null&&(Rn(o,r,c),Ev(o,s,c)))}function bv(r,s,o){var c=Nn();Kl(r,s,o,c)}function Kl(r,s,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(oh(r))wv(s,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var b=s.lastRenderedState,T=p(b,o);if(f.hasEagerState=!0,f.eagerState=T,wn(T,b))return qu(r,s,f,0),nt===null&&Hu(),!1}catch{}finally{}if(o=Ff(r,s,f,c),o!==null)return Rn(o,r,c),Ev(o,s,c),!0}return!1}function Em(r,s,o,c){if(c={lane:2,revertLane:tp(),action:c,hasEagerState:!1,eagerState:null,next:null},oh(r)){if(s)throw Error(i(479))}else s=Ff(r,o,c,2),s!==null&&Rn(s,r,2)}function oh(r){var s=r.alternate;return r===Ce||s!==null&&s===Ce}function wv(r,s){ho=th=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function Ev(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,pl(r,o)}}var lh={readContext:en,use:rh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt},Tv={readContext:en,use:rh,useCallback:function(r,s){return fn().memoizedState=[r,s===void 0?null:s],r},useContext:en,useEffect:ov,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,ah(4194308,4,hv.bind(null,s,r),o)},useLayoutEffect:function(r,s){return ah(4194308,4,r,s)},useInsertionEffect:function(r,s){ah(4,2,r,s)},useMemo:function(r,s){var o=fn();s=s===void 0?null:s;var c=r();if(la){_n(!0);try{r()}finally{_n(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=fn();if(o!==void 0){var f=o(s);if(la){_n(!0);try{o(s)}finally{_n(!1)}}}else f=s;return c.memoizedState=c.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},c.queue=r,r=r.dispatch=Y4.bind(null,Ce,r),[c.memoizedState,r]},useRef:function(r){var s=fn();return r={current:r},s.memoizedState=r},useState:function(r){r=ym(r);var s=r.queue,o=bv.bind(null,Ce,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:xm,useDeferredValue:function(r,s){var o=fn();return _m(o,r,s)},useTransition:function(){var r=ym(!1);return r=gv.bind(null,Ce,r.queue,!0,!1),fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Ce,f=fn();if(qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),nt===null)throw Error(i(349));(ze&124)!==0||Gy(c,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,ov(Ky.bind(null,c,p,r),[r]),c.flags|=2048,mo(9,sh(),$y.bind(null,c,p,o,s),null),o},useId:function(){var r=fn(),s=nt.identifierPrefix;if(qe){var o=ti,c=ei;o=(c&~(1<<32-Zt(c)-1)).toString(32)+o,s=""+s+"R"+o,o=nh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=F4++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:wm,useFormState:nv,useActionState:nv,useOptimistic:function(r){var s=fn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Em.bind(null,Ce,!0,o),o.dispatch=s,[r,s]},useMemoCache:mm,useCacheRefresh:function(){return fn().memoizedState=K4.bind(null,Ce)}},Sv={readContext:en,use:rh,useCallback:fv,useContext:en,useEffect:lv,useImperativeHandle:dv,useInsertionEffect:cv,useLayoutEffect:uv,useMemo:mv,useReducer:ih,useRef:av,useState:function(){return ih(ii)},useDebugValue:xm,useDeferredValue:function(r,s){var o=Et();return pv(o,We.memoizedState,r,s)},useTransition:function(){var r=ih(ii)[0],s=Et().memoizedState;return[typeof r=="boolean"?r:Gl(r),s]},useSyncExternalStore:qy,useId:xv,useHostTransitionStatus:wm,useFormState:rv,useActionState:rv,useOptimistic:function(r,s){var o=Et();return Xy(o,We,r,s)},useMemoCache:mm,useCacheRefresh:_v},Q4={readContext:en,use:rh,useCallback:fv,useContext:en,useEffect:lv,useImperativeHandle:dv,useInsertionEffect:cv,useLayoutEffect:uv,useMemo:mv,useReducer:gm,useRef:av,useState:function(){return gm(ii)},useDebugValue:xm,useDeferredValue:function(r,s){var o=Et();return We===null?_m(o,r,s):pv(o,We.memoizedState,r,s)},useTransition:function(){var r=gm(ii)[0],s=Et().memoizedState;return[typeof r=="boolean"?r:Gl(r),s]},useSyncExternalStore:qy,useId:xv,useHostTransitionStatus:wm,useFormState:sv,useActionState:sv,useOptimistic:function(r,s){var o=Et();return We!==null?Xy(o,We,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:mm,useCacheRefresh:_v},po=null,Yl=0;function ch(r){var s=Yl;return Yl+=1,po===null&&(po=[]),My(po,r,s)}function Ql(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function uh(r,s){throw s.$$typeof===w?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Av(r){var s=r._init;return s(r._payload)}function Nv(r){function s(z,M){if(r){var G=z.deletions;G===null?(z.deletions=[M],z.flags|=16):G.push(M)}}function o(z,M){if(!r)return null;for(;M!==null;)s(z,M),M=M.sibling;return null}function c(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function f(z,M){return z=Zr(z,M),z.index=0,z.sibling=null,z}function p(z,M,G){return z.index=G,r?(G=z.alternate,G!==null?(G=G.index,G<M?(z.flags|=67108866,M):G):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function b(z){return r&&z.alternate===null&&(z.flags|=67108866),z}function T(z,M,G,ee){return M===null||M.tag!==6?(M=qf(G,z.mode,ee),M.return=z,M):(M=f(M,G),M.return=z,M)}function j(z,M,G,ee){var pe=G.type;return pe===N?Z(z,M,G.props.children,ee,G.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Av(pe)===M.type)?(M=f(M,G.props),Ql(M,G),M.return=z,M):(M=$u(G.type,G.key,G.props,null,z.mode,ee),Ql(M,G),M.return=z,M)}function K(z,M,G,ee){return M===null||M.tag!==4||M.stateNode.containerInfo!==G.containerInfo||M.stateNode.implementation!==G.implementation?(M=Gf(G,z.mode,ee),M.return=z,M):(M=f(M,G.children||[]),M.return=z,M)}function Z(z,M,G,ee,pe){return M===null||M.tag!==7?(M=ea(G,z.mode,ee,pe),M.return=z,M):(M=f(M,G),M.return=z,M)}function re(z,M,G){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=qf(""+M,z.mode,G),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case E:return G=$u(M.type,M.key,M.props,null,z.mode,G),Ql(G,M),G.return=z,G;case S:return M=Gf(M,z.mode,G),M.return=z,M;case R:var ee=M._init;return M=ee(M._payload),re(z,M,G)}if(st(M)||B(M))return M=ea(M,z.mode,G,null),M.return=z,M;if(typeof M.then=="function")return re(z,ch(M),G);if(M.$$typeof===U)return re(z,Xu(z,M),G);uh(z,M)}return null}function Y(z,M,G,ee){var pe=M!==null?M.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return pe!==null?null:T(z,M,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===pe?j(z,M,G,ee):null;case S:return G.key===pe?K(z,M,G,ee):null;case R:return pe=G._init,G=pe(G._payload),Y(z,M,G,ee)}if(st(G)||B(G))return pe!==null?null:Z(z,M,G,ee,null);if(typeof G.then=="function")return Y(z,M,ch(G),ee);if(G.$$typeof===U)return Y(z,M,Xu(z,G),ee);uh(z,G)}return null}function X(z,M,G,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(G)||null,T(M,z,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case E:return z=z.get(ee.key===null?G:ee.key)||null,j(M,z,ee,pe);case S:return z=z.get(ee.key===null?G:ee.key)||null,K(M,z,ee,pe);case R:var De=ee._init;return ee=De(ee._payload),X(z,M,G,ee,pe)}if(st(ee)||B(ee))return z=z.get(G)||null,Z(M,z,ee,pe,null);if(typeof ee.then=="function")return X(z,M,G,ch(ee),pe);if(ee.$$typeof===U)return X(z,M,G,Xu(M,ee),pe);uh(M,ee)}return null}function Ee(z,M,G,ee){for(var pe=null,De=null,ge=M,be=M=0,Ft=null;ge!==null&&be<G.length;be++){ge.index>be?(Ft=ge,ge=null):Ft=ge.sibling;var He=Y(z,ge,G[be],ee);if(He===null){ge===null&&(ge=Ft);break}r&&ge&&He.alternate===null&&s(z,ge),M=p(He,M,be),De===null?pe=He:De.sibling=He,De=He,ge=Ft}if(be===G.length)return o(z,ge),qe&&na(z,be),pe;if(ge===null){for(;be<G.length;be++)ge=re(z,G[be],ee),ge!==null&&(M=p(ge,M,be),De===null?pe=ge:De.sibling=ge,De=ge);return qe&&na(z,be),pe}for(ge=c(ge);be<G.length;be++)Ft=X(ge,z,be,G[be],ee),Ft!==null&&(r&&Ft.alternate!==null&&ge.delete(Ft.key===null?be:Ft.key),M=p(Ft,M,be),De===null?pe=Ft:De.sibling=Ft,De=Ft);return r&&ge.forEach(function(es){return s(z,es)}),qe&&na(z,be),pe}function _e(z,M,G,ee){if(G==null)throw Error(i(151));for(var pe=null,De=null,ge=M,be=M=0,Ft=null,He=G.next();ge!==null&&!He.done;be++,He=G.next()){ge.index>be?(Ft=ge,ge=null):Ft=ge.sibling;var es=Y(z,ge,He.value,ee);if(es===null){ge===null&&(ge=Ft);break}r&&ge&&es.alternate===null&&s(z,ge),M=p(es,M,be),De===null?pe=es:De.sibling=es,De=es,ge=Ft}if(He.done)return o(z,ge),qe&&na(z,be),pe;if(ge===null){for(;!He.done;be++,He=G.next())He=re(z,He.value,ee),He!==null&&(M=p(He,M,be),De===null?pe=He:De.sibling=He,De=He);return qe&&na(z,be),pe}for(ge=c(ge);!He.done;be++,He=G.next())He=X(ge,z,be,He.value,ee),He!==null&&(r&&He.alternate!==null&&ge.delete(He.key===null?be:He.key),M=p(He,M,be),De===null?pe=He:De.sibling=He,De=He);return r&&ge.forEach(function(XT){return s(z,XT)}),qe&&na(z,be),pe}function Ze(z,M,G,ee){if(typeof G=="object"&&G!==null&&G.type===N&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var pe=G.key;M!==null;){if(M.key===pe){if(pe=G.type,pe===N){if(M.tag===7){o(z,M.sibling),ee=f(M,G.props.children),ee.return=z,z=ee;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Av(pe)===M.type){o(z,M.sibling),ee=f(M,G.props),Ql(ee,G),ee.return=z,z=ee;break e}o(z,M);break}else s(z,M);M=M.sibling}G.type===N?(ee=ea(G.props.children,z.mode,ee,G.key),ee.return=z,z=ee):(ee=$u(G.type,G.key,G.props,null,z.mode,ee),Ql(ee,G),ee.return=z,z=ee)}return b(z);case S:e:{for(pe=G.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===G.containerInfo&&M.stateNode.implementation===G.implementation){o(z,M.sibling),ee=f(M,G.children||[]),ee.return=z,z=ee;break e}else{o(z,M);break}else s(z,M);M=M.sibling}ee=Gf(G,z.mode,ee),ee.return=z,z=ee}return b(z);case R:return pe=G._init,G=pe(G._payload),Ze(z,M,G,ee)}if(st(G))return Ee(z,M,G,ee);if(B(G)){if(pe=B(G),typeof pe!="function")throw Error(i(150));return G=pe.call(G),_e(z,M,G,ee)}if(typeof G.then=="function")return Ze(z,M,ch(G),ee);if(G.$$typeof===U)return Ze(z,M,Xu(z,G),ee);uh(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,M!==null&&M.tag===6?(o(z,M.sibling),ee=f(M,G),ee.return=z,z=ee):(o(z,M),ee=qf(G,z.mode,ee),ee.return=z,z=ee),b(z)):o(z,M)}return function(z,M,G,ee){try{Yl=0;var pe=Ze(z,M,G,ee);return po=null,pe}catch(ge){if(ge===Ul||ge===Ju)throw ge;var De=En(29,ge,null,z.mode);return De.lanes=ee,De.return=z,De}finally{}}}var go=Nv(!0),Rv=Nv(!1),Fn=se(null),Er=null;function Ui(r){var s=r.alternate;le(kt,kt.current&1),le(Fn,r),Er===null&&(s===null||uo.current!==null||s.memoizedState!==null)&&(Er=r)}function Cv(r){if(r.tag===22){if(le(kt,kt.current),le(Fn,r),Er===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Er=r)}}else zi()}function zi(){le(kt,kt.current),le(Fn,Fn.current)}function si(r){ue(Fn),Er===r&&(Er=null),ue(kt)}var kt=se(0);function hh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||fp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Tm(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:x({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Sm={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Nn(),f=Mi(c);f.payload=s,o!=null&&(f.callback=o),s=Vi(r,f,c),s!==null&&(Rn(s,r,c),Bl(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Nn(),f=Mi(c);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Vi(r,f,c),s!==null&&(Rn(s,r,c),Bl(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Nn(),c=Mi(o);c.tag=2,s!=null&&(c.callback=s),s=Vi(r,c,o),s!==null&&(Rn(s,r,o),Bl(s,r,o))}};function Iv(r,s,o,c,f,p,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,b):s.prototype&&s.prototype.isPureReactComponent?!jl(o,c)||!jl(f,p):!0}function jv(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Sm.enqueueReplaceState(s,s.state,null)}function ca(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=x({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var dh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Dv(r){dh(r)}function Ov(r){console.error(r)}function Pv(r){dh(r)}function fh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function kv(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Am(r,s,o){return o=Mi(o),o.tag=3,o.payload={element:null},o.callback=function(){fh(r,s)},o}function Mv(r){return r=Mi(r),r.tag=3,r}function Vv(r,s,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;r.payload=function(){return f(p)},r.callback=function(){kv(s,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){kv(s,o,c),typeof f!="function"&&($i===null?$i=new Set([this]):$i.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function X4(r,s,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Ml(s,o,f,!0),o=Fn.current,o!==null){switch(o.tag){case 13:return Er===null?Xm():o.alternate===null&&ft===0&&(ft=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===tm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Jm(r,c,f)),!1;case 22:return o.flags|=65536,c===tm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Jm(r,c,f)),!1}throw Error(i(435,o.tag))}return Jm(r,c,f),Xm(),!1}if(qe)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,c!==Yf&&(r=Error(i(422),{cause:c}),kl(Ln(r,o)))):(c!==Yf&&(s=Error(i(423),{cause:c}),kl(Ln(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,c=Ln(c,o),f=Am(r.stateNode,c,f),im(r,f),ft!==4&&(ft=2)),!1;var p=Error(i(520),{cause:c});if(p=Ln(p,o),nc===null?nc=[p]:nc.push(p),ft!==4&&(ft=2),s===null)return!0;c=Ln(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Am(o.stateNode,c,r),im(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($i===null||!$i.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Mv(f),Vv(f,r,o,c),im(o,f),!1}o=o.return}while(o!==null);return!1}var Lv=Error(i(461)),zt=!1;function $t(r,s,o,c){s.child=r===null?Rv(s,null,o,c):go(s,r.child,o,c)}function Uv(r,s,o,c,f){o=o.render;var p=s.ref;if("ref"in c){var b={};for(var T in c)T!=="ref"&&(b[T]=c[T])}else b=c;return aa(s),c=cm(r,s,o,b,p,f),T=um(),r!==null&&!zt?(hm(r,s,f),ai(r,s,f)):(qe&&T&&$f(s),s.flags|=1,$t(r,s,c,f),s.child)}function zv(r,s,o,c,f){if(r===null){var p=o.type;return typeof p=="function"&&!Hf(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,Bv(r,s,p,c,f)):(r=$u(o.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!Pm(r,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:jl,o(b,c)&&r.ref===s.ref)return ai(r,s,f)}return s.flags|=1,r=Zr(p,c),r.ref=s.ref,r.return=s,s.child=r}function Bv(r,s,o,c,f){if(r!==null){var p=r.memoizedProps;if(jl(p,c)&&r.ref===s.ref)if(zt=!1,s.pendingProps=c=p,Pm(r,f))(r.flags&131072)!==0&&(zt=!0);else return s.lanes=r.lanes,ai(r,s,f)}return Nm(r,s,o,c,f)}function Fv(r,s,o){var c=s.pendingProps,f=c.children,p=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=p!==null?p.baseLanes|o:o,r!==null){for(f=s.child=r.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;s.childLanes=p&~c}else s.childLanes=0,s.child=null;return Hv(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Wu(s,p!==null?p.cachePool:null),p!==null?By(s,p):am(),Cv(s);else return s.lanes=s.childLanes=536870912,Hv(r,s,p!==null?p.baseLanes|o:o,o)}else p!==null?(Wu(s,p.cachePool),By(s,p),zi(),s.memoizedState=null):(r!==null&&Wu(s,null),am(),zi());return $t(r,s,f,o),s.child}function Hv(r,s,o,c){var f=em();return f=f===null?null:{parent:Pt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&Wu(s,null),am(),Cv(s),r!==null&&Ml(r,s,c,!0),null}function mh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Nm(r,s,o,c,f){return aa(s),o=cm(r,s,o,c,void 0,f),c=um(),r!==null&&!zt?(hm(r,s,f),ai(r,s,f)):(qe&&c&&$f(s),s.flags|=1,$t(r,s,o,f),s.child)}function qv(r,s,o,c,f,p){return aa(s),s.updateQueue=null,o=Hy(s,c,o,f),Fy(r),c=um(),r!==null&&!zt?(hm(r,s,p),ai(r,s,p)):(qe&&c&&$f(s),s.flags|=1,$t(r,s,o,p),s.child)}function Gv(r,s,o,c,f){if(aa(s),s.stateNode===null){var p=so,b=o.contextType;typeof b=="object"&&b!==null&&(p=en(b)),p=new o(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Sm,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},nm(s),b=o.contextType,p.context=typeof b=="object"&&b!==null?en(b):so,p.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Tm(s,o,b,c),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Sm.enqueueReplaceState(p,p.state,null),Hl(s,c,p,f),Fl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){p=s.stateNode;var T=s.memoizedProps,j=ca(o,T);p.props=j;var K=p.context,Z=o.contextType;b=so,typeof Z=="object"&&Z!==null&&(b=en(Z));var re=o.getDerivedStateFromProps;Z=typeof re=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||K!==b)&&jv(s,p,c,b),ki=!1;var Y=s.memoizedState;p.state=Y,Hl(s,c,p,f),Fl(),K=s.memoizedState,T||Y!==K||ki?(typeof re=="function"&&(Tm(s,o,re,c),K=s.memoizedState),(j=ki||Iv(s,o,j,c,Y,K,b))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=K),p.props=c,p.state=K,p.context=b,c=j):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,rm(r,s),b=s.memoizedProps,Z=ca(o,b),p.props=Z,re=s.pendingProps,Y=p.context,K=o.contextType,j=so,typeof K=="object"&&K!==null&&(j=en(K)),T=o.getDerivedStateFromProps,(K=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==re||Y!==j)&&jv(s,p,c,j),ki=!1,Y=s.memoizedState,p.state=Y,Hl(s,c,p,f),Fl();var X=s.memoizedState;b!==re||Y!==X||ki||r!==null&&r.dependencies!==null&&Qu(r.dependencies)?(typeof T=="function"&&(Tm(s,o,T,c),X=s.memoizedState),(Z=ki||Iv(s,o,Z,c,Y,X,j)||r!==null&&r.dependencies!==null&&Qu(r.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,X,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,X,j)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=X),p.props=c,p.state=X,p.context=j,c=Z):(typeof p.componentDidUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Y===r.memoizedState||(s.flags|=1024),c=!1)}return p=c,mh(r,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&c?(s.child=go(s,r.child,null,f),s.child=go(s,null,o,f)):$t(r,s,o,f),s.memoizedState=p.state,r=s.child):r=ai(r,s,f),r}function $v(r,s,o,c){return Pl(),s.flags|=256,$t(r,s,o,c),s.child}var Rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cm(r){return{baseLanes:r,cachePool:Oy()}}function Im(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Hn),r}function Kv(r,s,o){var c=s.pendingProps,f=!1,p=(s.flags&128)!==0,b;if((b=p)||(b=r!==null&&r.memoizedState===null?!1:(kt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(qe){if(f?Ui(s):zi(),qe){var T=dt,j;if(j=T){e:{for(j=T,T=wr;j.nodeType!==8;){if(!T){T=null;break e}if(j=rr(j.nextSibling),j===null){T=null;break e}}T=j}T!==null?(s.memoizedState={dehydrated:T,treeContext:ta!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},j=En(18,null,null,0),j.stateNode=T,j.return=s,s.child=j,un=s,dt=null,j=!0):j=!1}j||ia(s)}if(T=s.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return fp(T)?s.lanes=32:s.lanes=536870912,null;si(s)}return T=c.children,c=c.fallback,f?(zi(),f=s.mode,T=ph({mode:"hidden",children:T},f),c=ea(c,f,o,null),T.return=s,c.return=s,T.sibling=c,s.child=T,f=s.child,f.memoizedState=Cm(o),f.childLanes=Im(r,b,o),s.memoizedState=Rm,c):(Ui(s),jm(s,T))}if(j=r.memoizedState,j!==null&&(T=j.dehydrated,T!==null)){if(p)s.flags&256?(Ui(s),s.flags&=-257,s=Dm(r,s,o)):s.memoizedState!==null?(zi(),s.child=r.child,s.flags|=128,s=null):(zi(),f=c.fallback,T=s.mode,c=ph({mode:"visible",children:c.children},T),f=ea(f,T,o,null),f.flags|=2,c.return=s,f.return=s,c.sibling=f,s.child=c,go(s,r.child,null,o),c=s.child,c.memoizedState=Cm(o),c.childLanes=Im(r,b,o),s.memoizedState=Rm,s=f);else if(Ui(s),fp(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var K=b.dgst;b=K,c=Error(i(419)),c.stack="",c.digest=b,kl({value:c,source:null,stack:null}),s=Dm(r,s,o)}else if(zt||Ml(r,s,o,!1),b=(o&r.childLanes)!==0,zt||b){if(b=nt,b!==null&&(c=o&-o,c=(c&42)!==0?1:Ni(c),c=(c&(b.suspendedLanes|o))!==0?0:c,c!==0&&c!==j.retryLane))throw j.retryLane=c,io(r,c),Rn(b,r,c),Lv;T.data==="$?"||Xm(),s=Dm(r,s,o)}else T.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=j.treeContext,dt=rr(T.nextSibling),un=s,qe=!0,ra=null,wr=!1,r!==null&&(zn[Bn++]=ei,zn[Bn++]=ti,zn[Bn++]=ta,ei=r.id,ti=r.overflow,ta=s),s=jm(s,c.children),s.flags|=4096);return s}return f?(zi(),f=c.fallback,T=s.mode,j=r.child,K=j.sibling,c=Zr(j,{mode:"hidden",children:c.children}),c.subtreeFlags=j.subtreeFlags&65011712,K!==null?f=Zr(K,f):(f=ea(f,T,o,null),f.flags|=2),f.return=s,c.return=s,c.sibling=f,s.child=c,c=f,f=s.child,T=r.child.memoizedState,T===null?T=Cm(o):(j=T.cachePool,j!==null?(K=Pt._currentValue,j=j.parent!==K?{parent:K,pool:K}:j):j=Oy(),T={baseLanes:T.baseLanes|o,cachePool:j}),f.memoizedState=T,f.childLanes=Im(r,b,o),s.memoizedState=Rm,c):(Ui(s),o=r.child,r=o.sibling,o=Zr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function jm(r,s){return s=ph({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function ph(r,s){return r=En(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Dm(r,s,o){return go(s,r.child,null,o),r=jm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Yv(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Xf(r.return,s,o)}function Om(r,s,o,c,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function Qv(r,s,o){var c=s.pendingProps,f=c.revealOrder,p=c.tail;if($t(r,s,c.children,o),c=kt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Yv(r,o,s);else if(r.tag===19)Yv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(le(kt,c),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&hh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Om(s,!1,f,o,p);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&hh(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Om(s,!0,o,null,p);break;case"together":Om(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ai(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Gi|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Ml(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Zr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Zr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Pm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Qu(r)))}function W4(r,s,o){switch(s.tag){case 3:tt(s,s.stateNode.containerInfo),Pi(s,Pt,r.memoizedState.cache),Pl();break;case 27:case 5:Ai(s);break;case 4:tt(s,s.stateNode.containerInfo);break;case 10:Pi(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ui(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Kv(r,s,o):(Ui(s),r=ai(r,s,o),r!==null?r.sibling:null);Ui(s);break;case 19:var f=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Ml(r,s,o,!1),c=(o&s.childLanes)!==0),f){if(c)return Qv(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(kt,kt.current),c)break;return null;case 22:case 23:return s.lanes=0,Fv(r,s,o);case 24:Pi(s,Pt,r.memoizedState.cache)}return ai(r,s,o)}function Xv(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)zt=!0;else{if(!Pm(r,o)&&(s.flags&128)===0)return zt=!1,W4(r,s,o);zt=(r.flags&131072)!==0}else zt=!1,qe&&(s.flags&1048576)!==0&&Ay(s,Yu,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,f=c._init;if(c=f(c._payload),s.type=c,typeof c=="function")Hf(c)?(r=ca(c,r),s.tag=1,s=Gv(null,s,c,r,o)):(s.tag=0,s=Nm(null,s,c,r,o));else{if(c!=null){if(f=c.$$typeof,f===J){s.tag=11,s=Uv(null,s,c,r,o);break e}else if(f===I){s.tag=14,s=zv(null,s,c,r,o);break e}}throw s=It(c)||c,Error(i(306,s,""))}}return s;case 0:return Nm(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,f=ca(c,s.pendingProps),Gv(r,s,c,f,o);case 3:e:{if(tt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var p=s.memoizedState;f=p.element,rm(r,s),Hl(s,c,null,o);var b=s.memoizedState;if(c=b.cache,Pi(s,Pt,c),c!==p.cache&&Wf(s,[Pt],o,!0),Fl(),c=b.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=$v(r,s,c,o);break e}else if(c!==f){f=Ln(Error(i(424)),s),kl(f),s=$v(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(dt=rr(r.firstChild),un=s,qe=!0,ra=null,wr=!0,o=Rv(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Pl(),c===f){s=ai(r,s,o);break e}$t(r,s,c,o)}s=s.child}return s;case 26:return mh(r,s),r===null?(o=ex(s.type,null,s.pendingProps,null))?s.memoizedState=o:qe||(o=s.type,r=s.pendingProps,c=Ch(Se.current).createElement(o),c[jt]=s,c[_t]=r,Yt(c,o,r),gt(c),s.stateNode=c):s.memoizedState=ex(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ai(s),r===null&&qe&&(c=s.stateNode=W1(s.type,s.pendingProps,Se.current),un=s,wr=!0,f=dt,Qi(s.type)?(mp=f,dt=rr(c.firstChild)):dt=f),$t(r,s,s.pendingProps.children,o),mh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&qe&&((f=c=dt)&&(c=ST(c,s.type,s.pendingProps,wr),c!==null?(s.stateNode=c,un=s,dt=rr(c.firstChild),wr=!1,f=!0):f=!1),f||ia(s)),Ai(s),f=s.type,p=s.pendingProps,b=r!==null?r.memoizedProps:null,c=p.children,up(f,p)?c=null:b!==null&&up(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=cm(r,s,H4,null,null,o),hc._currentValue=f),mh(r,s),$t(r,s,c,o),s.child;case 6:return r===null&&qe&&((r=o=dt)&&(o=AT(o,s.pendingProps,wr),o!==null?(s.stateNode=o,un=s,dt=null,r=!0):r=!1),r||ia(s)),null;case 13:return Kv(r,s,o);case 4:return tt(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=go(s,null,c,o):$t(r,s,c,o),s.child;case 11:return Uv(r,s,s.type,s.pendingProps,o);case 7:return $t(r,s,s.pendingProps,o),s.child;case 8:return $t(r,s,s.pendingProps.children,o),s.child;case 12:return $t(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Pi(s,s.type,c.value),$t(r,s,c.children,o),s.child;case 9:return f=s.type._context,c=s.pendingProps.children,aa(s),f=en(f),c=c(f),s.flags|=1,$t(r,s,c,o),s.child;case 14:return zv(r,s,s.type,s.pendingProps,o);case 15:return Bv(r,s,s.type,s.pendingProps,o);case 19:return Qv(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=ph(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Zr(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Fv(r,s,o);case 24:return aa(s),c=en(Pt),r===null?(f=em(),f===null&&(f=nt,p=Jf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:c,cache:f},nm(s),Pi(s,Pt,f)):((r.lanes&o)!==0&&(rm(r,s),Hl(s,null,null,o),Fl()),f=r.memoizedState,p=s.memoizedState,f.parent!==c?(f={parent:c,cache:c},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Pi(s,Pt,c)):(c=p.cache,Pi(s,Pt,c),c!==f.cache&&Wf(s,[Pt],o,!0))),$t(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function oi(r){r.flags|=4}function Wv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!sx(s)){if(s=Fn.current,s!==null&&((ze&4194048)===ze?Er!==null:(ze&62914560)!==ze&&(ze&536870912)===0||s!==Er))throw zl=tm,Py;r.flags|=8192}}function gh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?fl():536870912,r.lanes|=s,_o|=s)}function Xl(r,s){if(!qe)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ct(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function J4(r,s,o){var c=s.pendingProps;switch(Kf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),ri(Pt),ur(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ol(s)?oi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cy())),ct(s),null;case 26:return o=s.memoizedState,r===null?(oi(s),o!==null?(ct(s),Wv(s,o)):(ct(s),s.flags&=-16777217)):o?o!==r.memoizedState?(oi(s),ct(s),Wv(s,o)):(ct(s),s.flags&=-16777217):(r.memoizedProps!==c&&oi(s),ct(s),s.flags&=-16777217),null;case 27:zr(s),o=Se.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&oi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ct(s),null}r=xe.current,Ol(s)?Ny(s):(r=W1(f,c,o),s.stateNode=r,oi(s))}return ct(s),null;case 5:if(zr(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&oi(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ct(s),null}if(r=xe.current,Ol(s))Ny(s);else{switch(f=Ch(Se.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}r[jt]=s,r[_t]=c;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(Yt(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&oi(s)}}return ct(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&oi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Se.current,Ol(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,f=un,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}r[jt]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||q1(r.nodeValue,o)),r||ia(s)}else r=Ch(r).createTextNode(c),r[jt]=s,s.stateNode=r}return ct(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Ol(s),c!==null&&c.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[jt]=s}else Pl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),f=!1}else f=Cy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(si(s),s):(si(s),null)}if(si(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),gh(s,s.updateQueue),ct(s),null;case 4:return ur(),r===null&&sp(s.stateNode.containerInfo),ct(s),null;case 10:return ri(s.type),ct(s),null;case 19:if(ue(kt),f=s.memoizedState,f===null)return ct(s),null;if(c=(s.flags&128)!==0,p=f.rendering,p===null)if(c)Xl(f,!1);else{if(ft!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=hh(r),p!==null){for(s.flags|=128,Xl(f,!1),r=p.updateQueue,s.updateQueue=r,gh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Sy(o,r),o=o.sibling;return le(kt,kt.current&1|2),s.child}r=r.sibling}f.tail!==null&&Dn()>xh&&(s.flags|=128,c=!0,Xl(f,!1),s.lanes=4194304)}else{if(!c)if(r=hh(p),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,gh(s,r),Xl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!qe)return ct(s),null}else 2*Dn()-f.renderingStartTime>xh&&o!==536870912&&(s.flags|=128,c=!0,Xl(f,!1),s.lanes=4194304);f.isBackwards?(p.sibling=s.child,s.child=p):(r=f.last,r!==null?r.sibling=p:s.child=p,f.last=p)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Dn(),s.sibling=null,r=kt.current,le(kt,c?r&1|2:r&1),s):(ct(s),null);case 22:case 23:return si(s),om(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),o=s.updateQueue,o!==null&&gh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&ue(oa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ri(Pt),ct(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Z4(r,s){switch(Kf(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ri(Pt),ur(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return zr(s),null;case 13:if(si(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Pl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ue(kt),null;case 4:return ur(),null;case 10:return ri(s.type),null;case 22:case 23:return si(s),om(),r!==null&&ue(oa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ri(Pt),null;case 25:return null;default:return null}}function Jv(r,s){switch(Kf(s),s.tag){case 3:ri(Pt),ur();break;case 26:case 27:case 5:zr(s);break;case 4:ur();break;case 13:si(s);break;case 19:ue(kt);break;case 10:ri(s.type);break;case 22:case 23:si(s),om(),r!==null&&ue(oa);break;case 24:ri(Pt)}}function Wl(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&r)===r){c=void 0;var p=o.create,b=o.inst;c=p(),b.destroy=c}o=o.next}while(o!==f)}}catch(T){et(s,s.return,T)}}function Bi(r,s,o){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&r)===r){var b=c.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,f=s;var j=o,K=T;try{K()}catch(Z){et(f,j,Z)}}}c=c.next}while(c!==p)}}catch(Z){et(s,s.return,Z)}}function Zv(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{zy(s,o)}catch(c){et(r,r.return,c)}}}function e1(r,s,o){o.props=ca(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){et(r,s,c)}}function Jl(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(f){et(r,s,f)}}function Tr(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){et(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){et(r,s,f)}else o.current=null}function t1(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){et(r,r.return,f)}}function km(r,s,o){try{var c=r.stateNode;_T(c,r.type,o,s),c[_t]=s}catch(f){et(r,r.return,f)}}function n1(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Qi(r.type)||r.tag===4}function Mm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||n1(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Qi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Vm(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Rh));else if(c!==4&&(c===27&&Qi(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Vm(r,s,o),r=r.sibling;r!==null;)Vm(r,s,o),r=r.sibling}function yh(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Qi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(yh(r,s,o),r=r.sibling;r!==null;)yh(r,s,o),r=r.sibling}function r1(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Yt(s,c,o),s[jt]=r,s[_t]=o}catch(p){et(r,r.return,p)}}var li=!1,vt=!1,Lm=!1,i1=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function eT(r,s){if(r=r.containerInfo,lp=kh,r=py(r),Mf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,T=-1,j=-1,K=0,Z=0,re=r,Y=null;t:for(;;){for(var X;re!==o||f!==0&&re.nodeType!==3||(T=b+f),re!==p||c!==0&&re.nodeType!==3||(j=b+c),re.nodeType===3&&(b+=re.nodeValue.length),(X=re.firstChild)!==null;)Y=re,re=X;for(;;){if(re===r)break t;if(Y===o&&++K===f&&(T=b),Y===p&&++Z===c&&(j=b),(X=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=X}o=T===-1||j===-1?null:{start:T,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(cp={focusedElem:r,selectionRange:o},kh=!1,Bt=s;Bt!==null;)if(s=Bt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Bt=r;else for(;Bt!==null;){switch(s=Bt,p=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var Ee=ca(o.type,f,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Ee,p),c.__reactInternalSnapshotBeforeUpdate=r}catch(_e){et(o,o.return,_e)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)dp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":dp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Bt=r;break}Bt=s.return}}function s1(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Fi(r,o),c&4&&Wl(5,o);break;case 1:if(Fi(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(b){et(o,o.return,b)}else{var f=ca(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){et(o,o.return,b)}}c&64&&Zv(o),c&512&&Jl(o,o.return);break;case 3:if(Fi(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{zy(r,s)}catch(b){et(o,o.return,b)}}break;case 27:s===null&&c&4&&r1(o);case 26:case 5:Fi(r,o),s===null&&c&4&&t1(o),c&512&&Jl(o,o.return);break;case 12:Fi(r,o);break;case 13:Fi(r,o),c&4&&l1(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=cT.bind(null,o),NT(r,o))));break;case 22:if(c=o.memoizedState!==null||li,!c){s=s!==null&&s.memoizedState!==null||vt,f=li;var p=vt;li=c,(vt=s)&&!p?Hi(r,o,(o.subtreeFlags&8772)!==0):Fi(r,o),li=f,vt=p}break;case 30:break;default:Fi(r,o)}}function a1(r){var s=r.alternate;s!==null&&(r.alternate=null,a1(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ii(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ot=null,mn=!1;function ci(r,s,o){for(o=o.child;o!==null;)o1(r,s,o),o=o.sibling}function o1(r,s,o){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ht,o)}catch{}switch(o.tag){case 26:vt||Tr(o,s),ci(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vt||Tr(o,s);var c=ot,f=mn;Qi(o.type)&&(ot=o.stateNode,mn=!1),ci(r,s,o),oc(o.stateNode),ot=c,mn=f;break;case 5:vt||Tr(o,s);case 6:if(c=ot,f=mn,ot=null,ci(r,s,o),ot=c,mn=f,ot!==null)if(mn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(p){et(o,s,p)}else try{ot.removeChild(o.stateNode)}catch(p){et(o,s,p)}break;case 18:ot!==null&&(mn?(r=ot,Q1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),pc(r)):Q1(ot,o.stateNode));break;case 4:c=ot,f=mn,ot=o.stateNode.containerInfo,mn=!0,ci(r,s,o),ot=c,mn=f;break;case 0:case 11:case 14:case 15:vt||Bi(2,o,s),vt||Bi(4,o,s),ci(r,s,o);break;case 1:vt||(Tr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&e1(o,s,c)),ci(r,s,o);break;case 21:ci(r,s,o);break;case 22:vt=(c=vt)||o.memoizedState!==null,ci(r,s,o),vt=c;break;default:ci(r,s,o)}}function l1(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{pc(r)}catch(o){et(s,s.return,o)}}function tT(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new i1),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new i1),s;default:throw Error(i(435,r.tag))}}function Um(r,s){var o=tT(r);s.forEach(function(c){var f=uT.bind(null,r,c);o.has(c)||(o.add(c),c.then(f,f))})}function Tn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=r,b=s,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Qi(T.type)){ot=T.stateNode,mn=!1;break e}break;case 5:ot=T.stateNode,mn=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,mn=!0;break e}T=T.return}if(ot===null)throw Error(i(160));o1(p,b,f),ot=null,mn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)c1(s,r),s=s.sibling}var nr=null;function c1(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Tn(s,r),Sn(r),c&4&&(Bi(3,r,r.return),Wl(3,r),Bi(5,r,r.return));break;case 1:Tn(s,r),Sn(r),c&512&&(vt||o===null||Tr(o,o.return)),c&64&&li&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=nr;if(Tn(s,r),Sn(r),c&512&&(vt||o===null||Tr(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ls]||p[jt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),Yt(p,c,o),p[jt]=r,gt(p),c=p;break e;case"link":var b=rx("link","href",f).get(c+(o.href||""));if(b){for(var T=0;T<b.length;T++)if(p=b[T],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(T,1);break t}}p=f.createElement(c),Yt(p,c,o),f.head.appendChild(p);break;case"meta":if(b=rx("meta","content",f).get(c+(o.content||""))){for(T=0;T<b.length;T++)if(p=b[T],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(T,1);break t}}p=f.createElement(c),Yt(p,c,o),f.head.appendChild(p);break;default:throw Error(i(468,c))}p[jt]=r,gt(p),c=p}r.stateNode=c}else ix(f,r.type,r.stateNode);else r.stateNode=nx(f,c,r.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?ix(f,r.type,r.stateNode):nx(f,c,r.memoizedProps)):c===null&&r.stateNode!==null&&km(r,r.memoizedProps,o.memoizedProps)}break;case 27:Tn(s,r),Sn(r),c&512&&(vt||o===null||Tr(o,o.return)),o!==null&&c&4&&km(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Tn(s,r),Sn(r),c&512&&(vt||o===null||Tr(o,o.return)),r.flags&32){f=r.stateNode;try{Pn(f,"")}catch(X){et(r,r.return,X)}}c&4&&r.stateNode!=null&&(f=r.memoizedProps,km(r,f,o!==null?o.memoizedProps:f)),c&1024&&(Lm=!0);break;case 6:if(Tn(s,r),Sn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(X){et(r,r.return,X)}}break;case 3:if(Dh=null,f=nr,nr=Ih(s.containerInfo),Tn(s,r),nr=f,Sn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{pc(s.containerInfo)}catch(X){et(r,r.return,X)}Lm&&(Lm=!1,u1(r));break;case 4:c=nr,nr=Ih(r.stateNode.containerInfo),Tn(s,r),Sn(r),nr=c;break;case 12:Tn(s,r),Sn(r);break;case 13:Tn(s,r),Sn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gm=Dn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Um(r,c)));break;case 22:f=r.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,K=li,Z=vt;if(li=K||f,vt=Z||j,Tn(s,r),vt=Z,li=K,Sn(r),c&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||j||li||vt||ua(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(p=j.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=j.stateNode;var re=j.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){et(j,j.return,X)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=f?"":j.memoizedProps}catch(X){et(j,j.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Um(r,o))));break;case 19:Tn(s,r),Sn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Um(r,c)));break;case 30:break;case 21:break;default:Tn(s,r),Sn(r)}}function Sn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(n1(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=Mm(r);yh(r,p,f);break;case 5:var b=o.stateNode;o.flags&32&&(Pn(b,""),o.flags&=-33);var T=Mm(r);yh(r,T,b);break;case 3:case 4:var j=o.stateNode.containerInfo,K=Mm(r);Vm(r,K,j);break;default:throw Error(i(161))}}catch(Z){et(r,r.return,Z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function u1(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;u1(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Fi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)s1(r,s.alternate,s),s=s.sibling}function ua(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Bi(4,s,s.return),ua(s);break;case 1:Tr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&e1(s,s.return,o),ua(s);break;case 27:oc(s.stateNode);case 26:case 5:Tr(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}r=r.sibling}}function Hi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,f=r,p=s,b=p.flags;switch(p.tag){case 0:case 11:case 15:Hi(f,p,o),Wl(4,p);break;case 1:if(Hi(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){et(c,c.return,K)}if(c=p,f=c.updateQueue,f!==null){var T=c.stateNode;try{var j=f.shared.hiddenCallbacks;if(j!==null)for(f.shared.hiddenCallbacks=null,f=0;f<j.length;f++)Uy(j[f],T)}catch(K){et(c,c.return,K)}}o&&b&64&&Zv(p),Jl(p,p.return);break;case 27:r1(p);case 26:case 5:Hi(f,p,o),o&&c===null&&b&4&&t1(p),Jl(p,p.return);break;case 12:Hi(f,p,o);break;case 13:Hi(f,p,o),o&&b&4&&l1(f,p);break;case 22:p.memoizedState===null&&Hi(f,p,o),Jl(p,p.return);break;case 30:break;default:Hi(f,p,o)}s=s.sibling}}function zm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Vl(o))}function Bm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Vl(r))}function Sr(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)h1(r,s,o,c),s=s.sibling}function h1(r,s,o,c){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Sr(r,s,o,c),f&2048&&Wl(9,s);break;case 1:Sr(r,s,o,c);break;case 3:Sr(r,s,o,c),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Vl(r)));break;case 12:if(f&2048){Sr(r,s,o,c),r=s.stateNode;try{var p=s.memoizedProps,b=p.id,T=p.onPostCommit;typeof T=="function"&&T(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(j){et(s,s.return,j)}}else Sr(r,s,o,c);break;case 13:Sr(r,s,o,c);break;case 23:break;case 22:p=s.stateNode,b=s.alternate,s.memoizedState!==null?p._visibility&2?Sr(r,s,o,c):Zl(r,s):p._visibility&2?Sr(r,s,o,c):(p._visibility|=2,yo(r,s,o,c,(s.subtreeFlags&10256)!==0)),f&2048&&zm(b,s);break;case 24:Sr(r,s,o,c),f&2048&&Bm(s.alternate,s);break;default:Sr(r,s,o,c)}}function yo(r,s,o,c,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=r,b=s,T=o,j=c,K=b.flags;switch(b.tag){case 0:case 11:case 15:yo(p,b,T,j,f),Wl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?yo(p,b,T,j,f):Zl(p,b):(Z._visibility|=2,yo(p,b,T,j,f)),f&&K&2048&&zm(b.alternate,b);break;case 24:yo(p,b,T,j,f),f&&K&2048&&Bm(b.alternate,b);break;default:yo(p,b,T,j,f)}s=s.sibling}}function Zl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,f=c.flags;switch(c.tag){case 22:Zl(o,c),f&2048&&zm(c.alternate,c);break;case 24:Zl(o,c),f&2048&&Bm(c.alternate,c);break;default:Zl(o,c)}s=s.sibling}}var ec=8192;function vo(r){if(r.subtreeFlags&ec)for(r=r.child;r!==null;)d1(r),r=r.sibling}function d1(r){switch(r.tag){case 26:vo(r),r.flags&ec&&r.memoizedState!==null&&zT(nr,r.memoizedState,r.memoizedProps);break;case 5:vo(r);break;case 3:case 4:var s=nr;nr=Ih(r.stateNode.containerInfo),vo(r),nr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=ec,ec=16777216,vo(r),ec=s):vo(r));break;default:vo(r)}}function f1(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function tc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Bt=c,p1(c,r)}f1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m1(r),r=r.sibling}function m1(r){switch(r.tag){case 0:case 11:case 15:tc(r),r.flags&2048&&Bi(9,r,r.return);break;case 3:tc(r);break;case 12:tc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,vh(r)):tc(r);break;default:tc(r)}}function vh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Bt=c,p1(c,r)}f1(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Bi(8,s,s.return),vh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,vh(s));break;default:vh(s)}r=r.sibling}}function p1(r,s){for(;Bt!==null;){var o=Bt;switch(o.tag){case 0:case 11:case 15:Bi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Vl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Bt=c;else e:for(o=r;Bt!==null;){c=Bt;var f=c.sibling,p=c.return;if(a1(c),c===o){Bt=null;break e}if(f!==null){f.return=p,Bt=f;break e}Bt=p}}}var nT={getCacheForType:function(r){var s=en(Pt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},rT=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Pe=null,ze=0,Qe=0,An=null,qi=!1,xo=!1,Fm=!1,ui=0,ft=0,Gi=0,ha=0,Hm=0,Hn=0,_o=0,nc=null,pn=null,qm=!1,Gm=0,xh=1/0,_h=null,$i=null,Kt=0,Ki=null,bo=null,wo=0,$m=0,Km=null,g1=null,rc=0,Ym=null;function Nn(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if($.T!==null){var r=lo;return r!==0?r:tp()}return Ri()}function y1(){Hn===0&&(Hn=(ze&536870912)===0||qe?dl():536870912);var r=Fn.current;return r!==null&&(r.flags|=32),Hn}function Rn(r,s,o){(r===nt&&(Qe===2||Qe===9)||r.cancelPendingCommit!==null)&&(Eo(r,0),Yi(r,ze,Hn,!1)),Fr(r,o),((Ye&2)===0||r!==nt)&&(r===nt&&((Ye&2)===0&&(ha|=o),ft===4&&Yi(r,ze,Hn,!1)),Ar(r))}function v1(r,s,o){if((Ye&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Vs(r,s),f=c?aT(r,s):Wm(r,s,!0),p=c;do{if(f===0){xo&&!c&&Yi(r,s,0,!1);break}else{if(o=r.current.alternate,p&&!iT(o)){f=Wm(r,s,!1),p=!1;continue}if(f===2){if(p=s,r.errorRecoveryDisabledLanes&p)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var T=r;f=nc;var j=T.current.memoizedState.isDehydrated;if(j&&(Eo(T,b).flags|=256),b=Wm(T,b,!1),b!==2){if(Fm&&!j){T.errorRecoveryDisabledLanes|=p,ha|=p,f=4;break e}p=pn,pn=f,p!==null&&(pn===null?pn=p:pn.push.apply(pn,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){Eo(r,0),Yi(r,s,0,!0);break}e:{switch(c=r,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Yi(c,s,Hn,!qi);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Gm+300-Dn(),10<f)){if(Yi(c,s,Hn,!qi),Ua(c,0,!0)!==0)break e;c.timeoutHandle=K1(x1.bind(null,c,o,pn,_h,qm,s,Hn,ha,_o,qi,p,2,-0,0),f);break e}x1(c,o,pn,_h,qm,s,Hn,ha,_o,qi,p,0,-0,0)}}break}while(!0);Ar(r)}function x1(r,s,o,c,f,p,b,T,j,K,Z,re,Y,X){if(r.timeoutHandle=-1,re=s.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(uc={stylesheets:null,count:0,unsuspend:UT},d1(s),re=BT(),re!==null)){r.cancelPendingCommit=re(A1.bind(null,r,s,p,o,c,f,b,T,j,Z,1,Y,X)),Yi(r,p,b,!K);return}A1(r,s,p,o,c,f,b,T,j)}function iT(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!wn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yi(r,s,o,c){s&=~Hm,s&=~ha,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var f=s;0<f;){var p=31-Zt(f),b=1<<p;c[p]=-1,f&=~b}o!==0&&hr(r,o,s)}function bh(){return(Ye&6)===0?(ic(0),!1):!0}function Qm(){if(Pe!==null){if(Qe===0)var r=Pe.return;else r=Pe,ni=sa=null,dm(r),po=null,Yl=0,r=Pe;for(;r!==null;)Jv(r.alternate,r),r=r.return;Pe=null}}function Eo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,wT(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Qm(),nt=r,Pe=o=Zr(r.current,null),ze=s,Qe=0,An=null,qi=!1,xo=Vs(r,s),Fm=!1,_o=Hn=Hm=ha=Gi=ft=0,pn=nc=null,qm=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var f=31-Zt(c),p=1<<f;s|=r[f],c&=~p}return ui=s,Hu(),o}function _1(r,s){Ce=null,$.H=lh,s===Ul||s===Ju?(s=Vy(),Qe=3):s===Py?(s=Vy(),Qe=4):Qe=s===Lv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,An=s,Pe===null&&(ft=1,fh(r,Ln(s,r.current)))}function b1(){var r=$.H;return $.H=lh,r===null?lh:r}function w1(){var r=$.A;return $.A=nT,r}function Xm(){ft=4,qi||(ze&4194048)!==ze&&Fn.current!==null||(xo=!0),(Gi&134217727)===0&&(ha&134217727)===0||nt===null||Yi(nt,ze,Hn,!1)}function Wm(r,s,o){var c=Ye;Ye|=2;var f=b1(),p=w1();(nt!==r||ze!==s)&&(_h=null,Eo(r,s)),s=!1;var b=ft;e:do try{if(Qe!==0&&Pe!==null){var T=Pe,j=An;switch(Qe){case 8:Qm(),b=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var K=Qe;if(Qe=0,An=null,To(r,T,j,K),o&&xo){b=0;break e}break;default:K=Qe,Qe=0,An=null,To(r,T,j,K)}}sT(),b=ft;break}catch(Z){_1(r,Z)}while(!0);return s&&r.shellSuspendCounter++,ni=sa=null,Ye=c,$.H=f,$.A=p,Pe===null&&(nt=null,ze=0,Hu()),b}function sT(){for(;Pe!==null;)E1(Pe)}function aT(r,s){var o=Ye;Ye|=2;var c=b1(),f=w1();nt!==r||ze!==s?(_h=null,xh=Dn()+500,Eo(r,s)):xo=Vs(r,s);e:do try{if(Qe!==0&&Pe!==null){s=Pe;var p=An;t:switch(Qe){case 1:Qe=0,An=null,To(r,s,p,1);break;case 2:case 9:if(ky(p)){Qe=0,An=null,T1(s);break}s=function(){Qe!==2&&Qe!==9||nt!==r||(Qe=7),Ar(r)},p.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:ky(p)?(Qe=0,An=null,T1(s)):(Qe=0,An=null,To(r,s,p,7));break;case 5:var b=null;switch(Pe.tag){case 26:b=Pe.memoizedState;case 5:case 27:var T=Pe;if(!b||sx(b)){Qe=0,An=null;var j=T.sibling;if(j!==null)Pe=j;else{var K=T.return;K!==null?(Pe=K,wh(K)):Pe=null}break t}}Qe=0,An=null,To(r,s,p,5);break;case 6:Qe=0,An=null,To(r,s,p,6);break;case 8:Qm(),ft=6;break e;default:throw Error(i(462))}}oT();break}catch(Z){_1(r,Z)}while(!0);return ni=sa=null,$.H=c,$.A=f,Ye=o,Pe!==null?0:(nt=null,ze=0,Hu(),ft)}function oT(){for(;Pe!==null&&!ll();)E1(Pe)}function E1(r){var s=Xv(r.alternate,r,ui);r.memoizedProps=r.pendingProps,s===null?wh(r):Pe=s}function T1(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=qv(o,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=qv(o,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:dm(s);default:Jv(o,s),s=Pe=Sy(s,ui),s=Xv(o,s,ui)}r.memoizedProps=r.pendingProps,s===null?wh(r):Pe=s}function To(r,s,o,c){ni=sa=null,dm(s),po=null,Yl=0;var f=s.return;try{if(X4(r,f,s,o,ze)){ft=1,fh(r,Ln(o,r.current)),Pe=null;return}}catch(p){if(f!==null)throw Pe=f,p;ft=1,fh(r,Ln(o,r.current)),Pe=null;return}s.flags&32768?(qe||c===1?r=!0:xo||(ze&536870912)!==0?r=!1:(qi=r=!0,(c===2||c===9||c===3||c===6)&&(c=Fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),S1(s,r)):wh(s)}function wh(r){var s=r;do{if((s.flags&32768)!==0){S1(s,qi);return}r=s.return;var o=J4(s.alternate,s,ui);if(o!==null){Pe=o;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=r}while(s!==null);ft===0&&(ft=5)}function S1(r,s){do{var o=Z4(r.alternate,r);if(o!==null){o.flags&=32767,Pe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Pe=r;return}Pe=r=o}while(r!==null);ft=6,Pe=null}function A1(r,s,o,c,f,p,b,T,j){r.cancelPendingCommit=null;do Eh();while(Kt!==0);if((Ye&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Bf,ml(r,o,p,b,T,j),r===nt&&(Pe=nt=null,ze=0),bo=s,Ki=r,wo=o,$m=p,Km=f,g1=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,hT(Os,function(){return j1(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,f=ae.p,ae.p=2,b=Ye,Ye|=4;try{eT(r,s,o)}finally{Ye=b,ae.p=f,$.T=c}}Kt=1,N1(),R1(),C1()}}function N1(){if(Kt===1){Kt=0;var r=Ki,s=bo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=ae.p;ae.p=2;var f=Ye;Ye|=4;try{c1(s,r);var p=cp,b=py(r.containerInfo),T=p.focusedElem,j=p.selectionRange;if(b!==T&&T&&T.ownerDocument&&my(T.ownerDocument.documentElement,T)){if(j!==null&&Mf(T)){var K=j.start,Z=j.end;if(Z===void 0&&(Z=K),"selectionStart"in T)T.selectionStart=K,T.selectionEnd=Math.min(Z,T.value.length);else{var re=T.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),Ee=T.textContent.length,_e=Math.min(j.start,Ee),Ze=j.end===void 0?_e:Math.min(j.end,Ee);!X.extend&&_e>Ze&&(b=Ze,Ze=_e,_e=b);var z=fy(T,_e),M=fy(T,Ze);if(z&&M&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==M.node||X.focusOffset!==M.offset)){var G=re.createRange();G.setStart(z.node,z.offset),X.removeAllRanges(),_e>Ze?(X.addRange(G),X.extend(M.node,M.offset)):(G.setEnd(M.node,M.offset),X.addRange(G))}}}}for(re=[],X=T;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var ee=re[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}kh=!!lp,cp=lp=null}finally{Ye=f,ae.p=c,$.T=o}}r.current=s,Kt=2}}function R1(){if(Kt===2){Kt=0;var r=Ki,s=bo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=ae.p;ae.p=2;var f=Ye;Ye|=4;try{s1(r,s.alternate,s)}finally{Ye=f,ae.p=c,$.T=o}}Kt=3}}function C1(){if(Kt===4||Kt===3){Kt=0,vu();var r=Ki,s=bo,o=wo,c=g1;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kt=5:(Kt=0,bo=Ki=null,I1(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&($i=null),za(o),s=s.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ht,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=$.T,f=ae.p,ae.p=2,$.T=null;try{for(var p=r.onRecoverableError,b=0;b<c.length;b++){var T=c[b];p(T.value,{componentStack:T.stack})}}finally{$.T=s,ae.p=f}}(wo&3)!==0&&Eh(),Ar(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Ym?rc++:(rc=0,Ym=r):rc=0,ic(0)}}function I1(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Vl(s)))}function Eh(r){return N1(),R1(),C1(),j1()}function j1(){if(Kt!==5)return!1;var r=Ki,s=$m;$m=0;var o=za(wo),c=$.T,f=ae.p;try{ae.p=32>o?32:o,$.T=null,o=Km,Km=null;var p=Ki,b=wo;if(Kt=0,bo=Ki=null,wo=0,(Ye&6)!==0)throw Error(i(331));var T=Ye;if(Ye|=4,m1(p.current),h1(p,p.current,b,o),Ye=T,ic(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ht,p)}catch{}return!0}finally{ae.p=f,$.T=c,I1(r,s)}}function D1(r,s,o){s=Ln(o,s),s=Am(r.stateNode,s,2),r=Vi(r,s,2),r!==null&&(Fr(r,2),Ar(r))}function et(r,s,o){if(r.tag===3)D1(r,r,o);else for(;s!==null;){if(s.tag===3){D1(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($i===null||!$i.has(c))){r=Ln(o,r),o=Mv(2),c=Vi(s,o,2),c!==null&&(Vv(o,c,s,r),Fr(c,2),Ar(c));break}}s=s.return}}function Jm(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new rT;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(o)||(Fm=!0,f.add(o),r=lT.bind(null,r,s,o),s.then(r,r))}function lT(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,nt===r&&(ze&o)===o&&(ft===4||ft===3&&(ze&62914560)===ze&&300>Dn()-Gm?(Ye&2)===0&&Eo(r,0):Hm|=o,_o===ze&&(_o=0)),Ar(r)}function O1(r,s){s===0&&(s=fl()),r=io(r,s),r!==null&&(Fr(r,s),Ar(r))}function cT(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),O1(r,o)}function uT(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),O1(r,o)}function hT(r,s){return js(r,s)}var Th=null,So=null,Zm=!1,Sh=!1,ep=!1,da=0;function Ar(r){r!==So&&r.next===null&&(So===null?Th=So=r:So=So.next=r),Sh=!0,Zm||(Zm=!0,fT())}function ic(r,s){if(!ep&&Sh){ep=!0;do for(var o=!1,c=Th;c!==null;){if(r!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var b=c.suspendedLanes,T=c.pingedLanes;p=(1<<31-Zt(42|r)+1)-1,p&=f&~(b&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,V1(c,p))}else p=ze,p=Ua(c,c===nt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Vs(c,p)||(o=!0,V1(c,p));c=c.next}while(o);ep=!1}}function dT(){P1()}function P1(){Sh=Zm=!1;var r=0;da!==0&&(bT()&&(r=da),da=0);for(var s=Dn(),o=null,c=Th;c!==null;){var f=c.next,p=k1(c,s);p===0?(c.next=null,o===null?Th=f:o.next=f,f===null&&(So=o)):(o=c,(r!==0||(p&3)!==0)&&(Sh=!0)),c=f}ic(r)}function k1(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var b=31-Zt(p),T=1<<b,j=f[b];j===-1?((T&o)===0||(T&c)!==0)&&(f[b]=hl(T,s)):j<=s&&(r.expiredLanes|=T),p&=~T}if(s=nt,o=ze,o=Ua(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(Qe===2||Qe===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ds(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Vs(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Ds(c),za(o)){case 2:case 8:o=Va;break;case 32:o=Os;break;case 268435456:o=La;break;default:o=Os}return c=M1.bind(null,r),o=js(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Ds(c),r.callbackPriority=2,r.callbackNode=null,2}function M1(r,s){if(Kt!==0&&Kt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Eh()&&r.callbackNode!==o)return null;var c=ze;return c=Ua(r,r===nt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(v1(r,c,s),k1(r,Dn()),r.callbackNode!=null&&r.callbackNode===o?M1.bind(null,r):null)}function V1(r,s){if(Eh())return null;v1(r,s,!0)}function fT(){ET(function(){(Ye&6)!==0?js(cl,dT):P1()})}function tp(){return da===0&&(da=dl()),da}function L1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:$a(""+r)}function U1(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function mT(r,s,o,c,f){if(s==="submit"&&o&&o.stateNode===f){var p=L1((f[_t]||null).action),b=c.submitter;b&&(s=(s=b[_t]||null)?L1(s.formAction):b.getAttribute("formAction"),s!==null&&(p=s,b=null));var T=new Ka("action","action",null,c,f);r.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(da!==0){var j=b?U1(f,b):new FormData(f);bm(o,{pending:!0,data:j,method:f.method,action:p},null,j)}}else typeof p=="function"&&(T.preventDefault(),j=b?U1(f,b):new FormData(f),bm(o,{pending:!0,data:j,method:f.method,action:p},p,j))},currentTarget:f}]})}}for(var np=0;np<zf.length;np++){var rp=zf[np],pT=rp.toLowerCase(),gT=rp[0].toUpperCase()+rp.slice(1);tr(pT,"on"+gT)}tr(vy,"onAnimationEnd"),tr(xy,"onAnimationIteration"),tr(_y,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(O4,"onTransitionRun"),tr(P4,"onTransitionStart"),tr(k4,"onTransitionCancel"),tr(by,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sc));function z1(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],f=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var b=c.length-1;0<=b;b--){var T=c[b],j=T.instance,K=T.currentTarget;if(T=T.listener,j!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=K;try{p(f)}catch(Z){dh(Z)}f.currentTarget=null,p=j}else for(b=0;b<c.length;b++){if(T=c[b],j=T.instance,K=T.currentTarget,T=T.listener,j!==p&&f.isPropagationStopped())break e;p=T,f.currentTarget=K;try{p(f)}catch(Z){dh(Z)}f.currentTarget=null,p=j}}}}function ke(r,s){var o=s[gl];o===void 0&&(o=s[gl]=new Set);var c=r+"__bubble";o.has(c)||(B1(s,r,2,!1),o.add(c))}function ip(r,s,o){var c=0;s&&(c|=4),B1(o,r,c,s)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function sp(r){if(!r[Ah]){r[Ah]=!0,yl.forEach(function(o){o!=="selectionchange"&&(yT.has(o)||ip(o,!1,r),ip(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ah]||(s[Ah]=!0,ip("selectionchange",!1,s))}}function B1(r,s,o,c){switch(hx(s)){case 2:var f=qT;break;case 8:f=GT;break;default:f=xp}o=f.bind(null,s,o,r),f=void 0,!Mn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function ap(r,s,o,c,f){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var T=c.stateNode.containerInfo;if(T===f)break;if(b===4)for(b=c.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;T!==null;){if(b=Hr(T),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){c=p=b;continue e}T=T.parentNode}}c=c.return}Ru(function(){var K=p,Z=kn(o),re=[];e:{var Y=wy.get(r);if(Y!==void 0){var X=Ka,Ee=r;switch(r){case"keypress":if(yr(o)===0)break e;case"keydown":case"keyup":X=Za;break;case"focusin":Ee="focus",X=Xa;break;case"focusout":Ee="blur",X=Xa;break;case"beforeblur":case"afterblur":X=Xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Mu;break;case vy:case xy:case _y:X=Wa;break;case by:X=Lu;break;case"scroll":case"scrollend":X=Cu;break;case"wheel":X=eo;break;case"copy":case"cut":case"paste":X=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Cl;break;case"toggle":case"beforetoggle":X=zu}var _e=(s&4)!==0,Ze=!_e&&(r==="scroll"||r==="scrollend"),z=_e?Y!==null?Y+"Capture":null:Y;_e=[];for(var M=K,G;M!==null;){var ee=M;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||z===null||(ee=Gs(M,z),ee!=null&&_e.push(ac(M,ee,G))),Ze)break;M=M.return}0<_e.length&&(Y=new X(Y,Ee,null,o,Z),re.push({event:Y,listeners:_e}))}}if((s&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Y&&o!==Kr&&(Ee=o.relatedTarget||o.fromElement)&&(Hr(Ee)||Ee[On]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(Ee=o.relatedTarget||o.toElement,X=K,Ee=Ee?Hr(Ee):null,Ee!==null&&(Ze=l(Ee),_e=Ee.tag,Ee!==Ze||_e!==5&&_e!==27&&_e!==6)&&(Ee=null)):(X=null,Ee=K),X!==Ee)){if(_e=Vn,ee="onMouseLeave",z="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(_e=Cl,ee="onPointerLeave",z="onPointerEnter",M="pointer"),Ze=X==null?Y:fr(X),G=Ee==null?Y:fr(Ee),Y=new _e(ee,M+"leave",X,o,Z),Y.target=Ze,Y.relatedTarget=G,ee=null,Hr(Z)===K&&(_e=new _e(z,M+"enter",Ee,o,Z),_e.target=G,_e.relatedTarget=Ze,ee=_e),Ze=ee,X&&Ee)t:{for(_e=X,z=Ee,M=0,G=_e;G;G=Ao(G))M++;for(G=0,ee=z;ee;ee=Ao(ee))G++;for(;0<M-G;)_e=Ao(_e),M--;for(;0<G-M;)z=Ao(z),G--;for(;M--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=Ao(_e),z=Ao(z)}_e=null}else _e=null;X!==null&&F1(re,Y,X,_e,!1),Ee!==null&&Ze!==null&&F1(re,Ze,Ee,_e,!0)}}e:{if(Y=K?fr(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var pe=oy;else if(Ot(Y))if(ly)pe=I4;else{pe=R4;var De=N4}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&wl(K.elementType)&&(pe=oy):pe=C4;if(pe&&(pe=pe(r,K))){Jr(re,pe,o,Z);break e}De&&De(r,Y,K),r==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Di(Y,"number",Y.value)}switch(De=K?fr(K):window,r){case"focusin":(Ot(De)||De.contentEditable==="true")&&(to=De,Vf=K,Dl=null);break;case"focusout":Dl=Vf=to=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,gy(re,o,Z);break;case"selectionchange":if(D4)break;case"keydown":case"keyup":gy(re,o,Z)}var ge;if(_r)e:{switch(r){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Le?W(r,o)&&(be="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(_&&o.locale!=="ko"&&(Le||be!=="onCompositionStart"?be==="onCompositionEnd"&&Le&&(ge=Tl()):(gr=Z,Oi="value"in gr?gr.value:gr.textContent,Le=!0)),De=Nh(K,be),0<De.length&&(be=new Nl(be,r,null,o,Z),re.push({event:be,listeners:De}),ge?be.data=ge:(ge=ce(o),ge!==null&&(be.data=ge)))),(ge=v?Dt(r,o):Ue(r,o))&&(be=Nh(K,"onBeforeInput"),0<be.length&&(De=new Nl("onBeforeInput","beforeinput",null,o,Z),re.push({event:De,listeners:be}),De.data=ge)),mT(re,r,K,o,Z)}z1(re,s)})}function ac(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Nh(r,s){for(var o=s+"Capture",c=[];r!==null;){var f=r,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Gs(r,o),f!=null&&c.unshift(ac(r,f,p)),f=Gs(r,s),f!=null&&c.push(ac(r,f,p))),r.tag===3)return c;r=r.return}return[]}function Ao(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function F1(r,s,o,c,f){for(var p=s._reactName,b=[];o!==null&&o!==c;){var T=o,j=T.alternate,K=T.stateNode;if(T=T.tag,j!==null&&j===c)break;T!==5&&T!==26&&T!==27||K===null||(j=K,f?(K=Gs(o,p),K!=null&&b.unshift(ac(o,K,j))):f||(K=Gs(o,p),K!=null&&b.push(ac(o,K,j)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var vT=/\r\n?/g,xT=/\u0000|\uFFFD/g;function H1(r){return(typeof r=="string"?r:""+r).replace(vT,`
`).replace(xT,"")}function q1(r,s){return s=H1(s),H1(r)===s}function Rh(){}function Je(r,s,o,c,f,p){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Pn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Pn(r,""+c);break;case"className":mr(r,"class",c);break;case"tabIndex":mr(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(r,o,c);break;case"style":bl(r,c,p);break;case"data":if(s!=="object"){mr(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=$a(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&Je(r,s,"name",f.name,f,null),Je(r,s,"formEncType",f.formEncType,f,null),Je(r,s,"formMethod",f.formMethod,f,null),Je(r,s,"formTarget",f.formTarget,f,null)):(Je(r,s,"encType",f.encType,f,null),Je(r,s,"method",f.method,f,null),Je(r,s,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=$a(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=Rh);break;case"onScroll":c!=null&&ke("scroll",r);break;case"onScrollEnd":c!=null&&ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=$a(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":ke("beforetoggle",r),ke("toggle",r),ji(r,"popover",c);break;case"xlinkActuate":qt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":qt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":qt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":qt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":qt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":qt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":qt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":qt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":qt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ji(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=If.get(o)||o,ji(r,o,c))}}function op(r,s,o,c,f,p){switch(o){case"style":bl(r,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Pn(r,c):(typeof c=="number"||typeof c=="bigint")&&Pn(r,""+c);break;case"onScroll":c!=null&&ke("scroll",r);break;case"onScrollEnd":c!=null&&ke("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Rh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=r[_t]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,f);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):ji(r,o,c)}}}function Yt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",r),ke("load",r);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Je(r,s,p,b,o,null)}}f&&Je(r,s,"srcSet",o.srcSet,o,null),c&&Je(r,s,"src",o.src,o,null);return;case"input":ke("invalid",r);var T=p=b=f=null,j=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":f=Z;break;case"type":b=Z;break;case"checked":j=Z;break;case"defaultChecked":K=Z;break;case"value":p=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Je(r,s,c,Z,o,null)}}Fs(r,p,T,j,K,b,f,!1),Ga(r);return;case"select":ke("invalid",r),c=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(T=o[f],T!=null))switch(f){case"value":p=T;break;case"defaultValue":b=T;break;case"multiple":c=T;default:Je(r,s,f,T,o,null)}s=p,o=b,r.multiple=!!c,s!=null?$r(r,!!c,s,!1):o!=null&&$r(r,!!c,o,!0);return;case"textarea":ke("invalid",r),p=f=c=null;for(b in o)if(o.hasOwnProperty(b)&&(T=o[b],T!=null))switch(b){case"value":c=T;break;case"defaultValue":f=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:Je(r,s,b,T,o,null)}Hs(r,c,f,p),Ga(r);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(c=o[j],c!=null))switch(j){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Je(r,s,j,c,o,null)}return;case"dialog":ke("beforetoggle",r),ke("toggle",r),ke("cancel",r),ke("close",r);break;case"iframe":case"object":ke("load",r);break;case"video":case"audio":for(c=0;c<sc.length;c++)ke(sc[c],r);break;case"image":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"embed":case"source":case"link":ke("error",r),ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Je(r,s,K,c,o,null)}return;default:if(wl(s)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&op(r,s,Z,c,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(c=o[T],c!=null&&Je(r,s,T,c,o,null))}function _T(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,T=null,j=null,K=null,Z=null;for(X in o){var re=o[X];if(o.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":j=re;default:c.hasOwnProperty(X)||Je(r,s,X,null,c,re)}}for(var Y in c){var X=c[Y];if(re=o[Y],c.hasOwnProperty(Y)&&(X!=null||re!=null))switch(Y){case"type":p=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":Z=X;break;case"value":b=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==re&&Je(r,s,Y,X,c,re)}}bn(r,b,T,j,K,Z,p,f);return;case"select":X=b=T=Y=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":X=j;default:c.hasOwnProperty(p)||Je(r,s,p,null,c,j)}for(f in c)if(p=c[f],j=o[f],c.hasOwnProperty(f)&&(p!=null||j!=null))switch(f){case"value":Y=p;break;case"defaultValue":T=p;break;case"multiple":b=p;default:p!==j&&Je(r,s,f,p,c,j)}s=T,o=b,c=X,Y!=null?$r(r,!!o,Y,!1):!!c!=!!o&&(s!=null?$r(r,!!o,s,!0):$r(r,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(T in o)if(f=o[T],o.hasOwnProperty(T)&&f!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(r,s,T,null,c,f)}for(b in c)if(f=c[b],p=o[b],c.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&Je(r,s,b,f,c,p)}Xe(r,Y,X);return;case"option":for(var Ee in o)if(Y=o[Ee],o.hasOwnProperty(Ee)&&Y!=null&&!c.hasOwnProperty(Ee))switch(Ee){case"selected":r.selected=!1;break;default:Je(r,s,Ee,null,c,Y)}for(j in c)if(Y=c[j],X=o[j],c.hasOwnProperty(j)&&Y!==X&&(Y!=null||X!=null))switch(j){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Je(r,s,j,Y,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)Y=o[_e],o.hasOwnProperty(_e)&&Y!=null&&!c.hasOwnProperty(_e)&&Je(r,s,_e,null,c,Y);for(K in c)if(Y=c[K],X=o[K],c.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:Je(r,s,K,Y,c,X)}return;default:if(wl(s)){for(var Ze in o)Y=o[Ze],o.hasOwnProperty(Ze)&&Y!==void 0&&!c.hasOwnProperty(Ze)&&op(r,s,Ze,void 0,c,Y);for(Z in c)Y=c[Z],X=o[Z],!c.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||op(r,s,Z,Y,c,X);return}}for(var z in o)Y=o[z],o.hasOwnProperty(z)&&Y!=null&&!c.hasOwnProperty(z)&&Je(r,s,z,null,c,Y);for(re in c)Y=c[re],X=o[re],!c.hasOwnProperty(re)||Y===X||Y==null&&X==null||Je(r,s,re,Y,c,X)}var lp=null,cp=null;function Ch(r){return r.nodeType===9?r:r.ownerDocument}function G1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $1(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function up(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hp=null;function bT(){var r=window.event;return r&&r.type==="popstate"?r===hp?!1:(hp=r,!0):(hp=null,!1)}var K1=typeof setTimeout=="function"?setTimeout:void 0,wT=typeof clearTimeout=="function"?clearTimeout:void 0,Y1=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof Y1<"u"?function(r){return Y1.resolve(null).then(r).catch(TT)}:K1;function TT(r){setTimeout(function(){throw r})}function Qi(r){return r==="head"}function Q1(r,s){var o=s,c=0,f=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<c&&8>c){o=c;var b=r.ownerDocument;if(o&1&&oc(b.documentElement),o&2&&oc(b.body),o&4)for(o=b.head,oc(o),b=o.firstChild;b;){var T=b.nextSibling,j=b.nodeName;b[Ls]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=T}}if(f===0){r.removeChild(p),pc(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=p}while(o);pc(s)}function dp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":dp(o),Ii(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function ST(r,s,o,c){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ls])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=rr(r.nextSibling),r===null)break}return null}function AT(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=rr(r.nextSibling),r===null))return null;return r}function fp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function NT(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function rr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var mp=null;function X1(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function W1(r,s,o){switch(s=Ch(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function oc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ii(r)}var qn=new Map,J1=new Set;function Ih(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var hi=ae.d;ae.d={f:RT,r:CT,D:IT,C:jT,L:DT,m:OT,X:kT,S:PT,M:MT};function RT(){var r=hi.f(),s=bh();return r||s}function CT(r){var s=dr(r);s!==null&&s.tag===5&&s.type==="form"?vv(s):hi.r(r)}var No=typeof document>"u"?null:document;function Z1(r,s,o){var c=No;if(c&&typeof s=="string"&&s){var f=bt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),J1.has(f)||(J1.add(f),r={rel:r,crossOrigin:o,href:s},c.querySelector(f)===null&&(s=c.createElement("link"),Yt(s,"link",r),gt(s),c.head.appendChild(s)))}}function IT(r){hi.D(r),Z1("dns-prefetch",r,null)}function jT(r,s){hi.C(r,s),Z1("preconnect",r,s)}function DT(r,s,o){hi.L(r,s,o);var c=No;if(c&&r&&s){var f='link[rel="preload"][as="'+bt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+bt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+bt(o.imageSizes)+'"]')):f+='[href="'+bt(r)+'"]';var p=f;switch(s){case"style":p=Ro(r);break;case"script":p=Co(r)}qn.has(p)||(r=x({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),qn.set(p,r),c.querySelector(f)!==null||s==="style"&&c.querySelector(lc(p))||s==="script"&&c.querySelector(cc(p))||(s=c.createElement("link"),Yt(s,"link",r),gt(s),c.head.appendChild(s)))}}function OT(r,s){hi.m(r,s);var o=No;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+bt(c)+'"][href="'+bt(r)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Co(r)}if(!qn.has(p)&&(r=x({rel:"modulepreload",href:r},s),qn.set(p,r),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(cc(p)))return}c=o.createElement("link"),Yt(c,"link",r),gt(c),o.head.appendChild(c)}}}function PT(r,s,o){hi.S(r,s,o);var c=No;if(c&&r){var f=on(c).hoistableStyles,p=Ro(r);s=s||"default";var b=f.get(p);if(!b){var T={loading:0,preload:null};if(b=c.querySelector(lc(p)))T.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":s},o),(o=qn.get(p))&&pp(r,o);var j=b=c.createElement("link");gt(j),Yt(j,"link",r),j._p=new Promise(function(K,Z){j.onload=K,j.onerror=Z}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jh(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:T},f.set(p,b)}}}function kT(r,s){hi.X(r,s);var o=No;if(o&&r){var c=on(o).hoistableScripts,f=Co(r),p=c.get(f);p||(p=o.querySelector(cc(f)),p||(r=x({src:r,async:!0},s),(s=qn.get(f))&&gp(r,s),p=o.createElement("script"),gt(p),Yt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function MT(r,s){hi.M(r,s);var o=No;if(o&&r){var c=on(o).hoistableScripts,f=Co(r),p=c.get(f);p||(p=o.querySelector(cc(f)),p||(r=x({src:r,async:!0,type:"module"},s),(s=qn.get(f))&&gp(r,s),p=o.createElement("script"),gt(p),Yt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function ex(r,s,o,c){var f=(f=Se.current)?Ih(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ro(o.href),o=on(f).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ro(o.href);var p=on(f).hoistableStyles,b=p.get(r);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,b),(p=f.querySelector(lc(r)))&&!p._p&&(b.instance=p,b.state.loading=5),qn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qn.set(r,o),p||VT(f,r,o,b.state))),s&&c===null)throw Error(i(528,""));return b}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Co(o),o=on(f).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ro(r){return'href="'+bt(r)+'"'}function lc(r){return'link[rel="stylesheet"]['+r+"]"}function tx(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function VT(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Yt(s,"link",o),gt(s),r.head.appendChild(s))}function Co(r){return'[src="'+bt(r)+'"]'}function cc(r){return"script[async]"+r}function nx(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+bt(o.href)+'"]');if(c)return s.instance=c,gt(c),c;var f=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),gt(c),Yt(c,"style",f),jh(c,o.precedence,r),s.instance=c;case"stylesheet":f=Ro(o.href);var p=r.querySelector(lc(f));if(p)return s.state.loading|=4,s.instance=p,gt(p),p;c=tx(o),(f=qn.get(f))&&pp(c,f),p=(r.ownerDocument||r).createElement("link"),gt(p);var b=p;return b._p=new Promise(function(T,j){b.onload=T,b.onerror=j}),Yt(p,"link",c),s.state.loading|=4,jh(p,o.precedence,r),s.instance=p;case"script":return p=Co(o.src),(f=r.querySelector(cc(p)))?(s.instance=f,gt(f),f):(c=o,(f=qn.get(p))&&(c=x({},o),gp(c,f)),r=r.ownerDocument||r,f=r.createElement("script"),gt(f),Yt(f,"link",c),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,jh(c,o.precedence,r));return s.instance}function jh(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,b=0;b<c.length;b++){var T=c[b];if(T.dataset.precedence===s)p=T;else if(p!==f)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function pp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function gp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Dh=null;function rx(r,s,o){if(Dh===null){var c=new Map,f=Dh=new Map;f.set(o,c)}else f=Dh,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var p=o[f];if(!(p[Ls]||p[jt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(s)||"";b=r+b;var T=c.get(b);T?T.push(p):c.set(b,[p])}}return c}function ix(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function LT(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function sx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var uc=null;function UT(){}function zT(r,s,o){if(uc===null)throw Error(i(475));var c=uc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Ro(o.href),p=r.querySelector(lc(f));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Oh.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=p,gt(p);return}p=r.ownerDocument||r,o=tx(o),(f=qn.get(f))&&pp(o,f),p=p.createElement("link"),gt(p);var b=p;b._p=new Promise(function(T,j){b.onload=T,b.onerror=j}),Yt(p,"link",o),s.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Oh.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function BT(){if(uc===null)throw Error(i(475));var r=uc;return r.stylesheets&&r.count===0&&yp(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&yp(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Oh(){if(this.count--,this.count===0){if(this.stylesheets)yp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ph=null;function yp(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ph=new Map,s.forEach(FT,r),Ph=null,Oh.call(r))}function FT(r,s){if(!(s.state.loading&4)){var o=Ph.get(r);if(o)var c=o.get(null);else{o=new Map,Ph.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}f=s.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||c,p===c&&o.set(null,f),o.set(b,f),this.count++,c=Oh.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var hc={$$typeof:U,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function HT(r,s,o,c,f,p,b,T){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Br(0),this.hiddenUpdates=Br(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ax(r,s,o,c,f,p,b,T,j,K,Z,re){return r=new HT(r,s,o,b,T,j,K,re),s=1,p===!0&&(s|=24),p=En(3,null,null,s),r.current=p,p.stateNode=r,s=Jf(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:s},nm(p),r}function ox(r){return r?(r=so,r):so}function lx(r,s,o,c,f,p){f=ox(f),c.context===null?c.context=f:c.pendingContext=f,c=Mi(s),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=Vi(r,c,s),o!==null&&(Rn(o,r,s),Bl(o,r,s))}function cx(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function vp(r,s){cx(r,s),(r=r.alternate)&&cx(r,s)}function ux(r){if(r.tag===13){var s=io(r,67108864);s!==null&&Rn(s,r,67108864),vp(r,67108864)}}var kh=!0;function qT(r,s,o,c){var f=$.T;$.T=null;var p=ae.p;try{ae.p=2,xp(r,s,o,c)}finally{ae.p=p,$.T=f}}function GT(r,s,o,c){var f=$.T;$.T=null;var p=ae.p;try{ae.p=8,xp(r,s,o,c)}finally{ae.p=p,$.T=f}}function xp(r,s,o,c){if(kh){var f=_p(c);if(f===null)ap(r,s,c,Mh,o),dx(r,c);else if(KT(f,r,s,o,c))c.stopPropagation();else if(dx(r,c),s&4&&-1<$T.indexOf(r)){for(;f!==null;){var p=dr(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Jn(p.pendingLanes);if(b!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var j=1<<31-Zt(b);T.entanglements[1]|=j,b&=~j}Ar(p),(Ye&6)===0&&(xh=Dn()+500,ic(0))}}break;case 13:T=io(p,2),T!==null&&Rn(T,p,2),bh(),vp(p,2)}if(p=_p(c),p===null&&ap(r,s,c,Mh,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else ap(r,s,c,null,o)}}function _p(r){return r=kn(r),bp(r)}var Mh=null;function bp(r){if(Mh=null,r=Hr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=d(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Mh=r,null}function hx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tf()){case cl:return 2;case Va:return 8;case Os:case Sf:return 32;case La:return 268435456;default:return 32}default:return 32}}var wp=!1,Xi=null,Wi=null,Ji=null,dc=new Map,fc=new Map,Zi=[],$T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dx(r,s){switch(r){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":dc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":fc.delete(s.pointerId)}}function mc(r,s,o,c,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},s!==null&&(s=dr(s),s!==null&&ux(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function KT(r,s,o,c,f){switch(s){case"focusin":return Xi=mc(Xi,r,s,o,c,f),!0;case"dragenter":return Wi=mc(Wi,r,s,o,c,f),!0;case"mouseover":return Ji=mc(Ji,r,s,o,c,f),!0;case"pointerover":var p=f.pointerId;return dc.set(p,mc(dc.get(p)||null,r,s,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,fc.set(p,mc(fc.get(p)||null,r,s,o,c,f)),!0}return!1}function fx(r){var s=Hr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=d(o),s!==null){r.blockedOn=s,bu(r.priority,function(){if(o.tag===13){var c=Nn();c=Ni(c);var f=io(o,c);f!==null&&Rn(f,o,c),vp(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=_p(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Kr=c,o.target.dispatchEvent(c),Kr=null}else return s=dr(o),s!==null&&ux(s),r.blockedOn=o,!1;s.shift()}return!0}function mx(r,s,o){Vh(r)&&o.delete(s)}function YT(){wp=!1,Xi!==null&&Vh(Xi)&&(Xi=null),Wi!==null&&Vh(Wi)&&(Wi=null),Ji!==null&&Vh(Ji)&&(Ji=null),dc.forEach(mx),fc.forEach(mx)}function Lh(r,s){r.blockedOn===s&&(r.blockedOn=null,wp||(wp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,YT)))}var Uh=null;function px(r){Uh!==r&&(Uh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Uh===r&&(Uh=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],f=r[s+2];if(typeof c!="function"){if(bp(c||o)===null)continue;break}var p=dr(o);p!==null&&(r.splice(s,3),s-=3,bm(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function pc(r){function s(j){return Lh(j,r)}Xi!==null&&Lh(Xi,r),Wi!==null&&Lh(Wi,r),Ji!==null&&Lh(Ji,r),dc.forEach(s),fc.forEach(s);for(var o=0;o<Zi.length;o++){var c=Zi[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Zi.length&&(o=Zi[0],o.blockedOn===null);)fx(o),o.blockedOn===null&&Zi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],b=f[_t]||null;if(typeof p=="function")b||px(o);else if(b){var T=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[_t]||null)T=b.formAction;else if(bp(f)!==null)continue}else T=b.action;typeof T=="function"?o[c+1]=T:(o.splice(c,3),c-=3),px(o)}}}function Ep(r){this._internalRoot=r}zh.prototype.render=Ep.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Nn();lx(o,c,r,s,null,null)},zh.prototype.unmount=Ep.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;lx(r.current,2,null,r,null,null),bh(),s[On]=null}};function zh(r){this._internalRoot=r}zh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ri();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Zi.length&&s!==0&&s<Zi[o].priority;o++);Zi.splice(o,0,r),o===0&&fx(r)}};var gx=e.version;if(gx!=="19.1.0")throw Error(i(527,gx,"19.1.0"));ae.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var QT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{ht=Bh.inject(QT),Ke=Bh}catch{}}return yc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",f=Dv,p=Ov,b=Pv,T=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(T=s.unstable_transitionCallbacks)),s=ax(r,1,!1,null,null,o,c,f,p,b,T,null),r[On]=s.current,sp(r),new Ep(s)},yc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,f="",p=Dv,b=Ov,T=Pv,j=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(j=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),s=ax(r,1,!0,s,o??null,c,f,p,b,T,j,K),s.context=ox(null),o=s.current,c=Nn(),c=Ni(c),f=Mi(c),f.callback=null,Vi(o,f,c),o=c,s.current.lanes=o,Fr(s,o),Ar(s),r[On]=s.current,sp(r),new zh(s)},yc.version="19.1.0",yc}var Ax;function s6(){if(Ax)return Ap.exports;Ax=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ap.exports=i6(),Ap.exports}var a6=s6();const o6=Bb(a6);var vc={},Nx;function l6(){if(Nx)return vc;Nx=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.parse=d,vc.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function d(E,S){const N=new l,F=E.length;if(F<2)return N;const P=(S==null?void 0:S.decode)||x;let H=0;do{const Q=E.indexOf("=",H);if(Q===-1)break;const U=E.indexOf(";",H),J=U===-1?F:U;if(Q>J){H=E.lastIndexOf(";",Q-1)+1;continue}const ne=m(E,H,Q),oe=g(E,Q,ne),I=E.slice(ne,oe);if(N[I]===void 0){let R=m(E,Q+1,J),C=g(E,J,R);const k=P(E.slice(R,C));N[I]=k}H=J+1}while(H<F);return N}function m(E,S,N){do{const F=E.charCodeAt(S);if(F!==32&&F!==9)return S}while(++S<N);return N}function g(E,S,N){for(;S>N;){const F=E.charCodeAt(--S);if(F!==32&&F!==9)return S+1}return N}function y(E,S,N){const F=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const P=F(S);if(!e.test(P))throw new TypeError(`argument val is invalid: ${S}`);let H=E+"="+P;if(!N)return H;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);H+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);H+="; Domain="+N.domain}if(N.path){if(!i.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);H+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);H+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(H+="; HttpOnly"),N.secure&&(H+="; Secure"),N.partitioned&&(H+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return H}function x(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return a.call(E)==="[object Date]"}return vc}l6();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rx="popstate";function c6(n={}){function e(i,a){let{pathname:l,search:d,hash:m}=i.location;return eg("",{pathname:l,search:d,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Fc(a)}return h6(e,t,null,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Kn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u6(){return Math.random().toString(36).substring(2,10)}function Cx(n,e){return{usr:n.state,key:n.key,idx:e}}function eg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Qo(e):e,state:t,key:e&&e.key||i||u6()}}function Fc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Qo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function h6(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,d=a.history,m="POP",g=null,y=x();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function x(){return(d.state||{idx:null}).idx}function w(){m="POP";let P=x(),H=P==null?null:P-y;y=P,g&&g({action:m,location:F.location,delta:H})}function E(P,H){m="PUSH";let Q=eg(F.location,P,H);y=x()+1;let U=Cx(Q,y),J=F.createHref(Q);try{d.pushState(U,"",J)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(J)}l&&g&&g({action:m,location:F.location,delta:1})}function S(P,H){m="REPLACE";let Q=eg(F.location,P,H);y=x();let U=Cx(Q,y),J=F.createHref(Q);d.replaceState(U,"",J),l&&g&&g({action:m,location:F.location,delta:0})}function N(P){let H=a.location.origin!=="null"?a.location.origin:a.location.href,Q=typeof P=="string"?P:Fc(P);return Q=Q.replace(/ $/,"%20"),lt(H,`No window.location.(origin|href) available to create URL for href: ${Q}`),new URL(Q,H)}let F={get action(){return m},get location(){return n(a,d)},listen(P){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Rx,w),g=P,()=>{a.removeEventListener(Rx,w),g=null}},createHref(P){return e(a,P)},createURL:N,encodeLocation(P){let H=N(P);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:S,go(P){return d.go(P)}};return F}function Fb(n,e,t="/"){return d6(n,e,t,!1)}function d6(n,e,t,i){let a=typeof e=="string"?Qo(e):e,l=_i(a.pathname||"/",t);if(l==null)return null;let d=Hb(n);f6(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let y=T6(l);m=w6(d[g],y,i)}return m}function Hb(n,e=[],t=[],i=""){let a=(l,d,m)=>{let g={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};g.relativePath.startsWith("/")&&(lt(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let y=yi([i,g.relativePath]),x=t.concat(g);l.children&&l.children.length>0&&(lt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Hb(l.children,e,x,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:_6(y,l.index),routesMeta:x})};return n.forEach((l,d)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))a(l,d);else for(let g of qb(l.path))a(l,d,g)}),e}function qb(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let d=qb(i.join("/")),m=[];return m.push(...d.map(g=>g===""?l:[l,g].join("/"))),a&&m.push(...d),m.map(g=>n.startsWith("/")&&g===""?"/":g)}function f6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:b6(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var m6=/^:[\w-]+$/,p6=3,g6=2,y6=1,v6=10,x6=-2,Ix=n=>n==="*";function _6(n,e){let t=n.split("/"),i=t.length;return t.some(Ix)&&(i+=x6),e&&(i+=g6),t.filter(a=>!Ix(a)).reduce((a,l)=>a+(m6.test(l)?p6:l===""?y6:v6),i)}function b6(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function w6(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",d=[];for(let m=0;m<i.length;++m){let g=i[m],y=m===i.length-1,x=l==="/"?e:e.slice(l.length)||"/",w=md({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),E=g.route;if(!w&&y&&t&&!i[i.length-1].route.index&&(w=md({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!w)return null;Object.assign(a,w.params),d.push({params:a,pathname:yi([l,w.pathname]),pathnameBase:R6(yi([l,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(l=yi([l,w.pathnameBase]))}return d}function md(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=E6(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],d=l.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:i.reduce((y,{paramName:x,isOptional:w},E)=>{if(x==="*"){let N=m[E]||"";d=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=m[E];return w&&!S?y[x]=void 0:y[x]=(S||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:d,pattern:n}}function E6(n,e=!1,t=!0){Kn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(i.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function T6(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _i(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function S6(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Qo(n):n;return{pathname:t?t.startsWith("/")?t:A6(t,e):e,search:C6(i),hash:I6(a)}}function A6(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ip(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N6(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Lg(n){let e=N6(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ug(n,e,t,i=!1){let a;typeof n=="string"?a=Qo(n):(a={...n},lt(!a.pathname||!a.pathname.includes("?"),Ip("?","pathname","search",a)),lt(!a.pathname||!a.pathname.includes("#"),Ip("#","pathname","hash",a)),lt(!a.search||!a.search.includes("#"),Ip("#","search","hash",a)));let l=n===""||a.pathname==="",d=l?"/":a.pathname,m;if(d==null)m=t;else{let w=e.length-1;if(!i&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),w-=1;a.pathname=E.join("/")}m=w>=0?e[w]:"/"}let g=S6(a,m),y=d&&d!=="/"&&d.endsWith("/"),x=(l||d===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var yi=n=>n.join("/").replace(/\/\/+/g,"/"),R6=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),C6=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,I6=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function j6(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Gb=["POST","PUT","PATCH","DELETE"];new Set(Gb);var D6=["GET",...Gb];new Set(D6);var Xo=L.createContext(null);Xo.displayName="DataRouter";var $d=L.createContext(null);$d.displayName="DataRouterState";var $b=L.createContext({isTransitioning:!1});$b.displayName="ViewTransition";var O6=L.createContext(new Map);O6.displayName="Fetchers";var P6=L.createContext(null);P6.displayName="Await";var lr=L.createContext(null);lr.displayName="Navigation";var ru=L.createContext(null);ru.displayName="Location";var Qn=L.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var zg=L.createContext(null);zg.displayName="RouteError";function k6(n,{relative:e}={}){lt(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=L.useContext(lr),{hash:a,pathname:l,search:d}=iu(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:yi([t,l])),i.createHref({pathname:m,search:d,hash:a})}function Wo(){return L.useContext(ru)!=null}function Lr(){return lt(Wo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ru).location}var Kb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yb(n){L.useContext(lr).static||L.useLayoutEffect(n)}function Xn(){let{isDataRoute:n}=L.useContext(Qn);return n?W6():M6()}function M6(){lt(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(Xo),{basename:e,navigator:t}=L.useContext(lr),{matches:i}=L.useContext(Qn),{pathname:a}=Lr(),l=JSON.stringify(Lg(i)),d=L.useRef(!1);return Yb(()=>{d.current=!0}),L.useCallback((g,y={})=>{if(Kn(d.current,Kb),!d.current)return;if(typeof g=="number"){t.go(g);return}let x=Ug(g,JSON.parse(l),a,y.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:yi([e,x.pathname])),(y.replace?t.replace:t.push)(x,y.state,y)},[e,t,l,a,n])}var V6=L.createContext(null);function L6(n){let e=L.useContext(Qn).outlet;return e&&L.createElement(V6.Provider,{value:n},e)}function U6(){let{matches:n}=L.useContext(Qn),e=n[n.length-1];return e?e.params:{}}function iu(n,{relative:e}={}){let{matches:t}=L.useContext(Qn),{pathname:i}=Lr(),a=JSON.stringify(Lg(t));return L.useMemo(()=>Ug(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function z6(n,e){return Qb(n,e)}function Qb(n,e,t,i){var Q;lt(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=L.useContext(lr),{matches:d}=L.useContext(Qn),m=d[d.length-1],g=m?m.params:{},y=m?m.pathname:"/",x=m?m.pathnameBase:"/",w=m&&m.route;{let U=w&&w.path||"";Xb(y,!w||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let E=Lr(),S;if(e){let U=typeof e=="string"?Qo(e):e;lt(x==="/"||((Q=U.pathname)==null?void 0:Q.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${U.pathname}" was given in the \`location\` prop.`),S=U}else S=E;let N=S.pathname||"/",F=N;if(x!=="/"){let U=x.replace(/^\//,"").split("/");F="/"+N.replace(/^\//,"").split("/").slice(U.length).join("/")}let P=!l&&t&&t.matches&&t.matches.length>0?t.matches:Fb(n,{pathname:F});Kn(w||P!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Kn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=G6(P&&P.map(U=>Object.assign({},U,{params:Object.assign({},g,U.params),pathname:yi([x,a.encodeLocation?a.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?x:yi([x,a.encodeLocation?a.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),d,t,i);return e&&H?L.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},H):H}function B6(){let n=X6(),e=j6(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:a},t):null,d)}var F6=L.createElement(B6,null),H6=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?L.createElement(Qn.Provider,{value:this.props.routeContext},L.createElement(zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function q6({routeContext:n,match:e,children:t}){let i=L.useContext(Xo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Qn.Provider,{value:n},t)}function G6(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let g=a.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let d=!1,m=-1;if(t)for(let g=0;g<a.length;g++){let y=a[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:x,errors:w}=t,E=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||E){d=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,y,x)=>{let w,E=!1,S=null,N=null;t&&(w=l&&y.route.id?l[y.route.id]:void 0,S=y.route.errorElement||F6,d&&(m<0&&x===0?(Xb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,N=null):m===x&&(E=!0,N=y.route.hydrateFallbackElement||null)));let F=e.concat(a.slice(0,x+1)),P=()=>{let H;return w?H=S:E?H=N:y.route.Component?H=L.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,L.createElement(q6,{match:y,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?L.createElement(H6,{location:t.location,revalidation:t.revalidation,component:S,error:w,children:P(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):P()},null)}function Bg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $6(n){let e=L.useContext(Xo);return lt(e,Bg(n)),e}function K6(n){let e=L.useContext($d);return lt(e,Bg(n)),e}function Y6(n){let e=L.useContext(Qn);return lt(e,Bg(n)),e}function Fg(n){let e=Y6(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Q6(){return Fg("useRouteId")}function X6(){var i;let n=L.useContext(zg),e=K6("useRouteError"),t=Fg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function W6(){let{router:n}=$6("useNavigate"),e=Fg("useNavigate"),t=L.useRef(!1);return Yb(()=>{t.current=!0}),L.useCallback(async(a,l={})=>{Kn(t.current,Kb),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var jx={};function Xb(n,e,t){!e&&!jx[n]&&(jx[n]=!0,Kn(!1,t))}L.memo(J6);function J6({routes:n,future:e,state:t}){return Qb(n,void 0,t,e)}function tg({to:n,replace:e,state:t,relative:i}){lt(Wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(lr);Kn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(Qn),{pathname:d}=Lr(),m=Xn(),g=Ug(n,Lg(l),d,i==="path"),y=JSON.stringify(g);return L.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:i})},[m,y,i,e,t]),null}function Z6(n){return L6(n.context)}function gn(n){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e3({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){lt(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:d,navigator:a,static:l,future:{}}),[d,a,l]);typeof t=="string"&&(t=Qo(t));let{pathname:g="/",search:y="",hash:x="",state:w=null,key:E="default"}=t,S=L.useMemo(()=>{let N=_i(g,d);return N==null?null:{location:{pathname:N,search:y,hash:x,state:w,key:E},navigationType:i}},[d,g,y,x,w,E,i]);return Kn(S!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${x}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:L.createElement(lr.Provider,{value:m},L.createElement(ru.Provider,{children:e,value:S}))}function t3({children:n,location:e}){return z6(ng(n),e)}function ng(n,e=[]){let t=[];return L.Children.forEach(n,(i,a)=>{if(!L.isValidElement(i))return;let l=[...e,a];if(i.type===L.Fragment){t.push.apply(t,ng(i.props.children,l));return}lt(i.type===gn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=ng(i.props.children,l)),t.push(d)}),t}var Zh="get",ed="application/x-www-form-urlencoded";function Kd(n){return n!=null&&typeof n.tagName=="string"}function n3(n){return Kd(n)&&n.tagName.toLowerCase()==="button"}function r3(n){return Kd(n)&&n.tagName.toLowerCase()==="form"}function i3(n){return Kd(n)&&n.tagName.toLowerCase()==="input"}function s3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function a3(n,e){return n.button===0&&(!e||e==="_self")&&!s3(n)}function rg(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(a=>[t,a]):[[t,i]])},[]))}function o3(n,e){let t=rg(n);return e&&e.forEach((i,a)=>{t.has(a)||e.getAll(a).forEach(l=>{t.append(a,l)})}),t}var Fh=null;function l3(){if(Fh===null)try{new FormData(document.createElement("form"),0),Fh=!1}catch{Fh=!0}return Fh}var c3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jp(n){return n!=null&&!c3.has(n)?(Kn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ed}"`),null):n}function u3(n,e){let t,i,a,l,d;if(r3(n)){let m=n.getAttribute("action");i=m?_i(m,e):null,t=n.getAttribute("method")||Zh,a=jp(n.getAttribute("enctype"))||ed,l=new FormData(n)}else if(n3(n)||i3(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||m.getAttribute("action");if(i=g?_i(g,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||Zh,a=jp(n.getAttribute("formenctype"))||jp(m.getAttribute("enctype"))||ed,l=new FormData(m,n),!l3()){let{name:y,type:x,value:w}=n;if(x==="image"){let E=y?`${y}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else y&&l.append(y,w)}}else{if(Kd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zh,i=null,a=ed,d=n}return l&&a==="text/plain"&&(d=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:d}}function Hg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function h3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function f3(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let d=await h3(l,t);return d.links?d.links():[]}return[]}));return y3(i.flat(1).filter(d3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Dx(n,e,t,i,a,l){let d=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,m=(g,y)=>{var x;return t[y].pathname!==g.pathname||((x=t[y].route.path)==null?void 0:x.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,y)=>d(g,y)||m(g,y)):l==="data"?e.filter((g,y)=>{var w;let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(d(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function m3(n,e,{includeHydrateFallback:t}={}){return p3(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function p3(n){return[...new Set(n)]}function g3(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function y3(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(g3(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function v3(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&_i(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Wb(){let n=L.useContext(Xo);return Hg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function x3(){let n=L.useContext($d);return Hg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var qg=L.createContext(void 0);qg.displayName="FrameworkContext";function Jb(){let n=L.useContext(qg);return Hg(n,"You must render this element inside a <HydratedRouter> element"),n}function _3(n,e){let t=L.useContext(qg),[i,a]=L.useState(!1),[l,d]=L.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:w}=e,E=L.useRef(null);L.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let F=H=>{H.forEach(Q=>{d(Q.isIntersecting)})},P=new IntersectionObserver(F,{threshold:.5});return E.current&&P.observe(E.current),()=>{P.disconnect()}}},[n]),L.useEffect(()=>{if(i){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[i]);let S=()=>{a(!0)},N=()=>{a(!1),d(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:xc(m,S),onBlur:xc(g,N),onMouseEnter:xc(y,S),onMouseLeave:xc(x,N),onTouchStart:xc(w,S)}]:[!1,E,{}]}function xc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function b3({page:n,...e}){let{router:t}=Wb(),i=L.useMemo(()=>Fb(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?L.createElement(E3,{page:n,matches:i,...e}):null}function w3(n){let{manifest:e,routeModules:t}=Jb(),[i,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return f3(n,e,t).then(d=>{l||a(d)}),()=>{l=!0}},[n,e,t]),i}function E3({page:n,matches:e,...t}){let i=Lr(),{manifest:a,routeModules:l}=Jb(),{basename:d}=Wb(),{loaderData:m,matches:g}=x3(),y=L.useMemo(()=>Dx(n,e,g,a,i,"data"),[n,e,g,a,i]),x=L.useMemo(()=>Dx(n,e,g,a,i,"assets"),[n,e,g,a,i]),w=L.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let N=new Set,F=!1;if(e.forEach(H=>{var U;let Q=a.routes[H.route.id];!Q||!Q.hasLoader||(!y.some(J=>J.route.id===H.route.id)&&H.route.id in m&&((U=l[H.route.id])!=null&&U.shouldRevalidate)||Q.hasClientLoader?F=!0:N.add(H.route.id))}),N.size===0)return[];let P=v3(n,d);return F&&N.size>0&&P.searchParams.set("_routes",e.filter(H=>N.has(H.route.id)).map(H=>H.route.id).join(",")),[P.pathname+P.search]},[d,m,i,a,y,e,n,l]),E=L.useMemo(()=>m3(x,a),[x,a]),S=w3(x);return L.createElement(L.Fragment,null,w.map(N=>L.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),E.map(N=>L.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),S.map(({key:N,link:F})=>L.createElement("link",{key:N,...F})))}function T3(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zb&&(window.__reactRouterVersion="7.4.1")}catch{}function S3({basename:n,children:e,window:t}){let i=L.useRef();i.current==null&&(i.current=c6({window:t,v5Compat:!0}));let a=i.current,[l,d]=L.useState({action:a.action,location:a.location}),m=L.useCallback(g=>{L.startTransition(()=>d(g))},[d]);return L.useLayoutEffect(()=>a.listen(m),[a,m]),L.createElement(e3,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var e2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ye=L.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:d,state:m,target:g,to:y,preventScrollReset:x,viewTransition:w,...E},S){let{basename:N}=L.useContext(lr),F=typeof y=="string"&&e2.test(y),P,H=!1;if(typeof y=="string"&&F&&(P=y,Zb))try{let C=new URL(window.location.href),k=y.startsWith("//")?new URL(C.protocol+y):new URL(y),V=_i(k.pathname,N);k.origin===C.origin&&V!=null?y=V+k.search+k.hash:H=!0}catch{Kn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=k6(y,{relative:a}),[U,J,ne]=_3(i,E),oe=C3(y,{replace:d,state:m,target:g,preventScrollReset:x,relative:a,viewTransition:w});function I(C){e&&e(C),C.defaultPrevented||oe(C)}let R=L.createElement("a",{...E,...ne,href:P||Q,onClick:H||l?e:I,ref:T3(S,J),target:g,"data-discover":!F&&t==="render"?"true":void 0});return U&&!F?L.createElement(L.Fragment,null,R,L.createElement(b3,{page:Q})):R});ye.displayName="Link";var A3=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:d,viewTransition:m,children:g,...y},x){let w=iu(d,{relative:y.relative}),E=Lr(),S=L.useContext($d),{navigator:N,basename:F}=L.useContext(lr),P=S!=null&&k3(w)&&m===!0,H=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,Q=E.pathname,U=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(Q=Q.toLowerCase(),U=U?U.toLowerCase():null,H=H.toLowerCase()),U&&F&&(U=_i(U,F)||U);const J=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let ne=Q===H||!a&&Q.startsWith(H)&&Q.charAt(J)==="/",oe=U!=null&&(U===H||!a&&U.startsWith(H)&&U.charAt(H.length)==="/"),I={isActive:ne,isPending:oe,isTransitioning:P},R=ne?e:void 0,C;typeof i=="function"?C=i(I):C=[i,ne?"active":null,oe?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(I):l;return L.createElement(ye,{...y,"aria-current":R,className:C,ref:x,style:k,to:d,viewTransition:m},typeof g=="function"?g(I):g)});A3.displayName="NavLink";var N3=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:d=Zh,action:m,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:w,...E},S)=>{let N=O3(),F=P3(m,{relative:y}),P=d.toLowerCase()==="get"?"get":"post",H=typeof m=="string"&&e2.test(m),Q=U=>{if(g&&g(U),U.defaultPrevented)return;U.preventDefault();let J=U.nativeEvent.submitter,ne=(J==null?void 0:J.getAttribute("formmethod"))||d;N(J||U.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:a,state:l,relative:y,preventScrollReset:x,viewTransition:w})};return L.createElement("form",{ref:S,method:P,action:F,onSubmit:i?g:Q,...E,"data-discover":!H&&n==="render"?"true":void 0})});N3.displayName="Form";function R3(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t2(n){let e=L.useContext(Xo);return lt(e,R3(n)),e}function C3(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:d}={}){let m=Xn(),g=Lr(),y=iu(n,{relative:l});return L.useCallback(x=>{if(a3(x,e)){x.preventDefault();let w=t!==void 0?t:Fc(g)===Fc(y);m(n,{replace:w,state:i,preventScrollReset:a,relative:l,viewTransition:d})}},[g,m,y,t,i,e,n,a,l,d])}function I3(n){Kn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(rg(n)),t=L.useRef(!1),i=Lr(),a=L.useMemo(()=>o3(i.search,t.current?null:e.current),[i.search]),l=Xn(),d=L.useCallback((m,g)=>{const y=rg(typeof m=="function"?m(a):m);t.current=!0,l("?"+y,g)},[l,a]);return[a,d]}var j3=0,D3=()=>`__${String(++j3)}__`;function O3(){let{router:n}=t2("useSubmit"),{basename:e}=L.useContext(lr),t=Q6();return L.useCallback(async(i,a={})=>{let{action:l,method:d,encType:m,formData:g,body:y}=u3(i,e);if(a.navigate===!1){let x=a.fetcherKey||D3();await n.fetch(x,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:y,formMethod:a.method||d,formEncType:a.encType||m,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:g,body:y,formMethod:a.method||d,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function P3(n,{relative:e}={}){let{basename:t}=L.useContext(lr),i=L.useContext(Qn);lt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...iu(n||".",{relative:e})},d=Lr();if(n==null){l.search=d.search;let m=new URLSearchParams(l.search),g=m.getAll("index");if(g.some(x=>x==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let x=m.toString();l.search=x?`?${x}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:yi([t,l.pathname])),Fc(l)}function k3(n,e={}){let t=L.useContext($b);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=t2("useViewTransitionState"),a=iu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=_i(t.currentLocation.pathname,i)||t.currentLocation.pathname,d=_i(t.nextLocation.pathname,i)||t.nextLocation.pathname;return md(a.pathname,d)!=null||md(a.pathname,l)!=null}new TextEncoder;var Dp={exports:{}},Op={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox;function M3(){if(Ox)return Op;Ox=1;var n=Gd();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,a=n.useRef,l=n.useEffect,d=n.useMemo,m=n.useDebugValue;return Op.useSyncExternalStoreWithSelector=function(g,y,x,w,E){var S=a(null);if(S.current===null){var N={hasValue:!1,value:null};S.current=N}else N=S.current;S=d(function(){function P(ne){if(!H){if(H=!0,Q=ne,ne=w(ne),E!==void 0&&N.hasValue){var oe=N.value;if(E(oe,ne))return U=oe}return U=ne}if(oe=U,t(Q,ne))return oe;var I=w(ne);return E!==void 0&&E(oe,I)?(Q=ne,oe):(Q=ne,U=I)}var H=!1,Q,U,J=x===void 0?null:x;return[function(){return P(y())},J===null?void 0:function(){return P(J())}]},[y,x,w,E]);var F=i(g,S[0],S[1]);return l(function(){N.hasValue=!0,N.value=F},[F]),m(F),F},Op}var Px;function V3(){return Px||(Px=1,Dp.exports=M3()),Dp.exports}var L3=V3();function U3(n){n()}function z3(){let n=null,e=null;return{clear(){n=null,e=null},notify(){U3(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var kx={notify(){},get:()=>[]};function B3(n,e){let t,i=kx,a=0,l=!1;function d(F){x();const P=i.subscribe(F);let H=!1;return()=>{H||(H=!0,P(),w())}}function m(){i.notify()}function g(){N.onStateChange&&N.onStateChange()}function y(){return l}function x(){a++,t||(t=n.subscribe(g),i=z3())}function w(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=kx)}function E(){l||(l=!0,x())}function S(){l&&(l=!1,w())}const N={addNestedSub:d,notifyNestedSubs:m,handleChangeWrapper:g,isSubscribed:y,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>i};return N}var F3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H3=F3(),q3=()=>typeof navigator<"u"&&navigator.product==="ReactNative",G3=q3(),$3=()=>H3||G3?L.useLayoutEffect:L.useEffect,K3=$3(),Pp=Symbol.for("react-redux-context"),kp=typeof globalThis<"u"?globalThis:{};function Y3(){if(!L.createContext)return{};const n=kp[Pp]??(kp[Pp]=new Map);let e=n.get(L.createContext);return e||(e=L.createContext(null),n.set(L.createContext,e)),e}var fs=Y3();function Q3(n){const{children:e,context:t,serverState:i,store:a}=n,l=L.useMemo(()=>{const g=B3(a);return{store:a,subscription:g,getServerState:i?()=>i:void 0}},[a,i]),d=L.useMemo(()=>a.getState(),[a]);K3(()=>{const{subscription:g}=l;return g.onStateChange=g.notifyNestedSubs,g.trySubscribe(),d!==a.getState()&&g.notifyNestedSubs(),()=>{g.tryUnsubscribe(),g.onStateChange=void 0}},[l,d]);const m=t||fs;return L.createElement(m.Provider,{value:l},e)}var X3=Q3;function Gg(n=fs){return function(){return L.useContext(n)}}var n2=Gg();function r2(n=fs){const e=n===fs?n2:Gg(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var W3=r2();function J3(n=fs){const e=n===fs?W3:r2(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Jo=J3(),Z3=(n,e)=>n===e;function eS(n=fs){const e=n===fs?n2:Gg(n),t=(i,a={})=>{const{equalityFn:l=Z3}=typeof a=="function"?{equalityFn:a}:a,d=e(),{store:m,subscription:g,getServerState:y}=d;L.useRef(!0);const x=L.useCallback({[i.name](E){return i(E)}}[i.name],[i]),w=L3.useSyncExternalStoreWithSelector(g.addNestedSub,m.getState,y||m.getState,x,l);return L.useDebugValue(w),w};return Object.assign(t,{withTypes:()=>t}),t}var Fe=eS();const tS=()=>{};var Mx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},nS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],d=n[t++],m=n[t++],g=((a&7)<<18|(l&63)<<12|(d&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=n[t++],d=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|d&63)}}return e.join("")},s2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],d=a+1<n.length,m=d?n[a+1]:0,g=a+2<n.length,y=g?n[a+2]:0,x=l>>2,w=(l&3)<<4|m>>4;let E=(m&15)<<2|y>>6,S=y&63;g||(S=64,d||(E=64)),i.push(t[x],t[w],t[E],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(i2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):nS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],m=a<n.length?t[n.charAt(a)]:0;++a;const y=a<n.length?t[n.charAt(a)]:64;++a;const w=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||m==null||y==null||w==null)throw new rS;const E=l<<2|m>>4;if(i.push(E),y!==64){const S=m<<4&240|y>>2;if(i.push(S),w!==64){const N=y<<6&192|w;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(n){const e=i2(n);return s2.encodeByteArray(e,!0)},pd=function(n){return iS(n).replace(/\./g,"")},a2=function(n){try{return s2.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=()=>sS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof Mx>"u")return;const n=Mx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&a2(n[1]);return e&&JSON.parse(e)},Yd=()=>{try{return tS()||aS()||oS()||lS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},o2=n=>{var e,t;return(t=(e=Yd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},l2=n=>{const e=o2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},c2=()=>{var n;return(n=Yd())===null||n===void 0?void 0:n.config},u2=n=>{var e;return(e=Yd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $g(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pd(JSON.stringify(t)),pd(JSON.stringify(d)),""].join(".")}const jc={};function uS(){const n={prod:[],emulator:[]};for(const e of Object.keys(jc))jc[e]?n.emulator.push(e):n.prod.push(e);return n}function hS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Vx=!1;function Kg(n,e){if(typeof window>"u"||typeof document>"u"||!Ss(window.location.host)||jc[n]===e||jc[n]||Vx)return;jc[n]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=uS().prod.length>0;function d(){const E=document.getElementById(i);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function y(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Vx=!0,d()},E}function x(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=hS(i),S=t("text"),N=document.getElementById(S)||document.createElement("span"),F=t("learnmore"),P=document.getElementById(F)||document.createElement("a"),H=t("preprendIcon"),Q=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const U=E.element;m(U),x(P,F);const J=y();g(Q,H),U.append(Q,N,P,J),document.body.appendChild(U)}l?(N.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function fS(){var n;const e=(n=Yd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yS(){const n=an();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vS(){return!fS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xS(){try{return typeof indexedDB=="object"}catch{return!1}}function _S(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="FirebaseError";class Ur extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=bS,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],d=l?wS(l,i):"Error",m=`${this.serviceName}: ${d} (${a}).`;return new Ur(a,m,i)}}function wS(n,e){return n.replace(ES,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const ES=/\{\$([^}]+)}/g;function TS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ba(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],d=e[a];if(Lx(l)&&Lx(d)){if(!ba(l,d))return!1}else if(l!==d)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Lx(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ec(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Tc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SS(n,e){const t=new AS(n,e);return t.subscribe.bind(t)}class AS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");NS(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Mp),a.error===void 0&&(a.error=Mp),a.complete===void 0&&(a.complete=Mp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n){return n&&n._delegate?n._delegate:n}class ms{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new cS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);i===m&&d.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const d=this.instances.get(a);return d&&e(d,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CS(n){return n===fa?void 0:n}function IS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const DS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},OS=Me.INFO,PS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},kS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=PS[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yg{constructor(e){this.name=e,this._logLevel=OS,this._logHandler=kS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const MS=(n,e)=>e.some(t=>n instanceof t);let Ux,zx;function VS(){return Ux||(Ux=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LS(){return zx||(zx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d2=new WeakMap,ig=new WeakMap,f2=new WeakMap,Vp=new WeakMap,Qg=new WeakMap;function US(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{t(cs(n.result)),a()},d=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&d2.set(t,n)}).catch(()=>{}),Qg.set(e,n),e}function zS(n){if(ig.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{t(),a()},d=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});ig.set(n,e)}let sg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ig.get(n);if(e==="objectStoreNames")return n.objectStoreNames||f2.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function BS(n){sg=n(sg)}function FS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Lp(this),e,...t);return f2.set(i,e.sort?e.sort():[e]),cs(i)}:LS().includes(n)?function(...e){return n.apply(Lp(this),e),cs(d2.get(this))}:function(...e){return cs(n.apply(Lp(this),e))}}function HS(n){return typeof n=="function"?FS(n):(n instanceof IDBTransaction&&zS(n),MS(n,VS())?new Proxy(n,sg):n)}function cs(n){if(n instanceof IDBRequest)return US(n);if(Vp.has(n))return Vp.get(n);const e=HS(n);return e!==n&&(Vp.set(n,e),Qg.set(e,n)),e}const Lp=n=>Qg.get(n);function qS(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const d=indexedDB.open(n,e),m=cs(d);return i&&d.addEventListener("upgradeneeded",g=>{i(cs(d.result),g.oldVersion,g.newVersion,cs(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const GS=["get","getKey","getAll","getAllKeys","count"],$S=["put","add","delete","clear"],Up=new Map;function Bx(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Up.get(e))return Up.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=$S.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||GS.includes(t)))return;const l=async function(d,...m){const g=this.transaction(d,a?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),a&&g.done]))[0]};return Up.set(e,l),l}BS(n=>({...n,get:(e,t,i)=>Bx(e,t)||n.get(e,t,i),has:(e,t)=>!!Bx(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function YS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",Fx="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Yg("@firebase/app"),QS="@firebase/app-compat",XS="@firebase/analytics-compat",WS="@firebase/analytics",JS="@firebase/app-check-compat",ZS="@firebase/app-check",eA="@firebase/auth",tA="@firebase/auth-compat",nA="@firebase/database",rA="@firebase/data-connect",iA="@firebase/database-compat",sA="@firebase/functions",aA="@firebase/functions-compat",oA="@firebase/installations",lA="@firebase/installations-compat",cA="@firebase/messaging",uA="@firebase/messaging-compat",hA="@firebase/performance",dA="@firebase/performance-compat",fA="@firebase/remote-config",mA="@firebase/remote-config-compat",pA="@firebase/storage",gA="@firebase/storage-compat",yA="@firebase/firestore",vA="@firebase/ai",xA="@firebase/firestore-compat",_A="firebase",bA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",wA={[ag]:"fire-core",[QS]:"fire-core-compat",[WS]:"fire-analytics",[XS]:"fire-analytics-compat",[ZS]:"fire-app-check",[JS]:"fire-app-check-compat",[eA]:"fire-auth",[tA]:"fire-auth-compat",[nA]:"fire-rtdb",[rA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[sA]:"fire-fn",[aA]:"fire-fn-compat",[oA]:"fire-iid",[lA]:"fire-iid-compat",[cA]:"fire-fcm",[uA]:"fire-fcm-compat",[hA]:"fire-perf",[dA]:"fire-perf-compat",[fA]:"fire-rc",[mA]:"fire-rc-compat",[pA]:"fire-gcs",[gA]:"fire-gcs-compat",[yA]:"fire-fst",[xA]:"fire-fst-compat",[vA]:"fire-vertex","fire-js":"fire-js",[_A]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new Map,EA=new Map,lg=new Map;function Hx(n,e){try{n.container.addComponent(e)}catch(t){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function wa(n){const e=n.name;if(lg.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,n);for(const t of gd.values())Hx(t,n);for(const t of EA.values())Hx(t,n);return!0}function Qd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new su("app","Firebase",TA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=bA;function m2(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:og,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw us.create("bad-app-name",{appName:String(a)});if(t||(t=c2()),!t)throw us.create("no-options");const l=gd.get(a);if(l){if(ba(t,l.options)&&ba(i,l.config))return l;throw us.create("duplicate-app",{appName:a})}const d=new jS(a);for(const g of lg.values())d.addComponent(g);const m=new SA(t,i,d);return gd.set(a,m),m}function Xg(n=og){const e=gd.get(n);if(!e&&n===og&&c2())return m2();if(!e)throw us.create("no-app",{appName:n});return e}function Ir(n,e,t){var i;let a=(i=wA[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const m=[`Unable to register library "${a}" with version "${e}":`];l&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(m.join(" "));return}wa(new ms(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firebase-heartbeat-database",NA=1,Hc="firebase-heartbeat-store";let zp=null;function p2(){return zp||(zp=qS(AA,NA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw us.create("idb-open",{originalErrorMessage:n.message})})),zp}async function RA(n){try{const t=(await p2()).transaction(Hc),i=await t.objectStore(Hc).get(g2(n));return await t.done,i}catch(e){if(e instanceof Ur)bi.warn(e.message);else{const t=us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(t.message)}}}async function qx(n,e){try{const i=(await p2()).transaction(Hc,"readwrite");await i.objectStore(Hc).put(e,g2(n)),await i.done}catch(t){if(t instanceof Ur)bi.warn(t.message);else{const i=us.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bi.warn(i.message)}}}function g2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=1024,IA=30;class jA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new OA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Gx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>IA){const d=PA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Gx(),{heartbeatsToSend:i,unsentEntries:a}=DA(this._heartbeatsCache.heartbeats),l=pd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return bi.warn(t),""}}}function Gx(){return new Date().toISOString().substring(0,10)}function DA(n,e=CA){const t=[];let i=n.slice();for(const a of n){const l=t.find(d=>d.agent===a.agent);if(l){if(l.dates.push(a.date),$x(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),$x(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class OA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xS()?_S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return qx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return qx(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $x(n){return pd(JSON.stringify({version:2,heartbeats:n})).length}function PA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(n){wa(new ms("platform-logger",e=>new KS(e),"PRIVATE")),wa(new ms("heartbeat",e=>new jA(e),"PRIVATE")),Ir(ag,Fx,n),Ir(ag,Fx,"esm2017"),Ir("fire-js","")}kA("");function Wg(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function y2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MA=y2,v2=new su("auth","Firebase",y2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Yg("@firebase/auth");function VA(n,...e){yd.logLevel<=Me.WARN&&yd.warn(`Auth (${ja}): ${n}`,...e)}function td(n,...e){yd.logLevel<=Me.ERROR&&yd.error(`Auth (${ja}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(n,...e){throw Zg(n,...e)}function vn(n,...e){return Zg(n,...e)}function Jg(n,e,t){const i=Object.assign(Object.assign({},MA()),{[e]:t});return new su("auth","Firebase",i).create(e,{appName:n.name})}function jr(n){return Jg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LA(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Yn(n,"argument-error"),Jg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return v2.create(n,...e)}function me(n,e,...t){if(!n)throw Zg(e,...t)}function pi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw td(e),new Error(e)}function wi(n,e){n||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function x2(){return Kx()==="http:"||Kx()==="https:"}function Kx(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x2()||pS()||"connection"in navigator)?navigator.onLine:!0}function zA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t){this.shortDelay=e,this.longDelay=t,wi(t>e,"Short delay should be less than long delay!"),this.isMobile=dS()||gS()}get(){return UA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n,e){wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HA=new au(3e4,6e4);function xn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Wn(n,e,t,i,a={}){return b2(n,a,async()=>{let l={},d={};i&&(e==="GET"?d=i:l={body:JSON.stringify(i)});const m=Zo(Object.assign({key:n.config.apiKey},d)).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:g},l);return mS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Ss(n.emulatorConfig.host)&&(y.credentials="include"),_2.fetch()(await w2(n,n.config.apiHost,t,m),y)})}async function b2(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},BA),e);try{const a=new GA(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw Sc(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const m=l.ok?d.errorMessage:d.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(n,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Sc(n,"email-already-in-use",d);if(g==="USER_DISABLED")throw Sc(n,"user-disabled",d);const x=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Jg(n,x,y);Yn(n,x)}}catch(a){if(a instanceof Ur)throw a;Yn(n,"network-request-failed",{message:String(a)})}}async function As(n,e,t,i,a={}){const l=await Wn(n,e,t,i,a);return"mfaPendingCredential"in l&&Yn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function w2(n,e,t,i){const a=`${e}${t}?${i}`,l=n,d=l.config.emulator?e0(n.config,a):`${n.config.apiScheme}://${a}`;return FA.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function qA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(vn(this.auth,"network-request-failed")),HA.get())})}}function Sc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=vn(n,e,i);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(n){return n!==void 0&&n.getResponse!==void 0}function Qx(n){return n!==void 0&&n.enterprise!==void 0}class E2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(n){return(await Wn(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function T2(n,e){return Wn(n,"GET","/v2/recaptchaConfig",xn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(n,e){return Wn(n,"POST","/v1/accounts:delete",e)}async function vd(n,e){return Wn(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YA(n,e=!1){const t=Ct(n),i=await t.getIdToken(e),a=t0(i);me(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,d=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Dc(Bp(a.auth_time)),issuedAtTime:Dc(Bp(a.iat)),expirationTime:Dc(Bp(a.exp)),signInProvider:d||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Bp(n){return Number(n)*1e3}function t0(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{const a=a2(t);return a?JSON.parse(a):(td("Failed to decode base64 JWT payload"),null)}catch(a){return td("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Xx(n){const e=t0(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ur&&QA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function QA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(n){var e;const t=n.auth,i=await n.getIdToken(),a=await qc(n,vd(t,{idToken:i}));me(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?S2(l.providerUserInfo):[],m=JA(n.providerData,d),g=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(m!=null&&m.length),x=g?y:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new ug(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(n,w)}async function WA(n){const e=Ct(n);await xd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JA(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function S2(n){return n.map(e=>{var{providerId:t}=e,i=Wg(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA(n,e){const t=await b2(n,{},async()=>{const i=Zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,d=await w2(n,a,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:i};return n.emulatorConfig&&Ss(n.emulatorConfig.host)&&(g.credentials="include"),_2.fetch()(d,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eN(n,e){return Wn(n,"POST","/v2/accounts:revokeToken",xn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=Xx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await ZA(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,d=new ko;return i&&(me(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),a&&(me(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),l&&(me(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class sr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ug(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await qc(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return YA(this,e)}reload(){return WA(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await xd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(jr(this.auth));const e=await this.getIdToken();return await qc(this,KA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,d,m,g,y,x;const w=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,N=(d=t.photoURL)!==null&&d!==void 0?d:void 0,F=(m=t.tenantId)!==null&&m!==void 0?m:void 0,P=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,H=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Q=(x=t.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:U,emailVerified:J,isAnonymous:ne,providerData:oe,stsTokenManager:I}=t;me(U&&I,e,"internal-error");const R=ko.fromJSON(this.name,I);me(typeof U=="string",e,"internal-error"),ts(w,e.name),ts(E,e.name),me(typeof J=="boolean",e,"internal-error"),me(typeof ne=="boolean",e,"internal-error"),ts(S,e.name),ts(N,e.name),ts(F,e.name),ts(P,e.name),ts(H,e.name),ts(Q,e.name);const C=new sr({uid:U,auth:e,email:E,emailVerified:J,displayName:w,isAnonymous:ne,photoURL:N,phoneNumber:S,tenantId:F,stsTokenManager:R,createdAt:H,lastLoginAt:Q});return oe&&Array.isArray(oe)&&(C.providerData=oe.map(k=>Object.assign({},k))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,i=!1){const a=new ko;a.updateFromServerResponse(t);const l=new sr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await xd(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?S2(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),m=new ko;m.updateFromIdToken(i);const g=new sr({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=new Map;function gi(n){wi(n instanceof Function,"Expected a class definition");let e=Wx.get(n);return e?(wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wx.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}A2.type="NONE";const Jx=A2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(n,e,t){return`firebase:${n}:${e}:${t}`}class Mo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=nd(this.userKey,a.apiKey,l),this.fullPersistenceKey=nd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await vd(this.auth,{idToken:e}).catch(()=>{});return t?sr._fromGetAccountInfoResponse(this.auth,t,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Mo(gi(Jx),e,i);const a=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||gi(Jx);const d=nd(i,e.config.apiKey,e.name);let m=null;for(const y of t)try{const x=await y._get(d);if(x){let w;if(typeof x=="string"){const E=await vd(e,{idToken:x}).catch(()=>{});if(!E)break;w=await sr._fromGetAccountInfoResponse(e,E,x)}else w=sr._fromJSON(e,x);y!==l&&(m=w),l=y;break}}catch{}const g=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Mo(l,e,i):(l=g[0],m&&await l._set(d,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(d)}catch{}})),new Mo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D2(e))return"Blackberry";if(O2(e))return"Webos";if(R2(e))return"Safari";if((e.includes("chrome/")||C2(e))&&!e.includes("edge/"))return"Chrome";if(j2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function N2(n=an()){return/firefox\//i.test(n)}function R2(n=an()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C2(n=an()){return/crios\//i.test(n)}function I2(n=an()){return/iemobile/i.test(n)}function j2(n=an()){return/android/i.test(n)}function D2(n=an()){return/blackberry/i.test(n)}function O2(n=an()){return/webos/i.test(n)}function n0(n=an()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tN(n=an()){var e;return n0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nN(){return yS()&&document.documentMode===10}function P2(n=an()){return n0(n)||j2(n)||O2(n)||D2(n)||/windows phone/i.test(n)||I2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n,e=[]){let t;switch(n){case"Browser":t=Zx(an());break;case"Worker":t=`${Zx(an())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ja}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((d,m)=>{try{const g=e(l);d(g)}catch(g){m(g)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(n,e={}){return Wn(n,"GET","/v2/passwordPolicy",xn(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=6;class aN{constructor(e){var t,i,a,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:sN,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,d,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(a=g.containsLowercaseLetter)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e_(this),this.idTokenSubscription=new e_(this),this.beforeStateQueue=new rN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await vd(this,{idToken:e}),i=await sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=a==null?void 0:a._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===m)&&(g!=null&&g.user)&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(jr(this));const t=e?Ct(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iN(this),t=new aN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await eN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gi(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[gi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(m,this,"internal-error"),m.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,a);return()=>{d=!0,g()}}else{const g=e.addObserver(t);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&VA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function cr(n){return Ct(n)}class e_{constructor(e){this.auth=e,this.observer=null,this.addObserver=SS(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lN(n){ou=n}function r0(n){return ou.loadJS(n)}function cN(){return ou.recaptchaV2Script}function uN(){return ou.recaptchaEnterpriseScript}function hN(){return ou.gapiScript}function M2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=500,fN=6e4,Hh=1e12;class mN{constructor(e){this.auth=e,this.counter=Hh,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new yN(e,this.auth.name,t||{})),this.counter++,i}reset(e){var t;const i=e||Hh;(t=this._widgets.get(i))===null||t===void 0||t.delete(),this._widgets.delete(i)}getResponse(e){var t;const i=e||Hh;return((t=this._widgets.get(i))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const i=e||Hh;return(t=this._widgets.get(i))===null||t===void 0||t.execute(),""}}class pN{constructor(){this.enterprise=new gN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class gN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yN{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const a=typeof e=="string"?document.getElementById(e):e;me(a,"argument-error",{appName:t}),this.container=a,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=vN(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},fN)},dN))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function vN(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const xN="recaptcha-enterprise",Oc="NO_RECAPTCHA";class V2{constructor(e){this.type=xN,this.auth=cr(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,m)=>{T2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new E2(g);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,d(y.siteKey)}}).catch(g=>{m(g)})})}function a(l,d,m){const g=window.grecaptcha;Qx(g)?g.enterprise.ready(()=>{g.enterprise.execute(l,{action:e}).then(y=>{d(y)}).catch(()=>{d(Oc)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pN().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{i(this.auth).then(m=>{if(!t&&Qx(window.grecaptcha))a(m,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=uN();g.length!==0&&(g+=m),r0(g).then(()=>{a(m,l,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function _c(n,e,t,i=!1,a=!1){const l=new V2(n);let d;if(a)d=Oc;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Vo(n,e,t,i,a){var l,d;if(a==="EMAIL_PASSWORD_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await _c(n,e,t,t==="getOobCode");return i(n,m)}else return i(n,e).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await _c(n,e,t,t==="getOobCode");return i(n,g)}else return Promise.reject(m)});else if(a==="PHONE_PROVIDER")if(!((d=n._getRecaptchaConfig())===null||d===void 0)&&d.isProviderEnabled("PHONE_PROVIDER")){const m=await _c(n,e,t);return i(n,m).catch(async g=>{var y;if(((y=n._getRecaptchaConfig())===null||y===void 0?void 0:y.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(g.code==="auth/missing-recaptcha-token"||g.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const x=await _c(n,e,t,!1,!0);return i(n,x)}return Promise.reject(g)})}else{const m=await _c(n,e,t,!1,!0);return i(n,m)}else return Promise.reject(a+" provider is not supported.")}async function _N(n){const e=cr(n),t=await T2(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new E2(t);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new V2(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n,e){const t=Qd(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(ba(l,e??{}))return a;Yn(a,"already-initialized")}return t.initialize({options:e})}function wN(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(gi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function EN(n,e,t){const i=cr(n);me(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=L2(e),{host:d,port:m}=TN(e),g=m===null?"":`:${m}`,y={url:`${l}//${d}${g}/`},x=Object.freeze({host:d,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){me(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),me(ba(y,i.config.emulator)&&ba(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,Ss(d)?($g(`${l}//${d}${g}`),Kg("Auth",!0)):SN()}function L2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TN(n){const e=L2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:t_(i.substr(l.length+1))}}else{const[l,d]=i.split(":");return{host:l,port:t_(d)}}}function t_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function SN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,t){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}async function AN(n,e){return Wn(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(n,e){return As(n,"POST","/v1/accounts:signInWithPassword",xn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(n,e){return As(n,"POST","/v1/accounts:signInWithEmailLink",xn(n,e))}async function CN(n,e){return As(n,"POST","/v1/accounts:signInWithEmailLink",xn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Xd{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Gc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Gc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vo(e,t,"signInWithPassword",NN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return RN(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vo(e,i,"signUpPassword",AN,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return CN(e,{idToken:t,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n,e){return As(n,"POST","/v1/accounts:signInWithIdp",xn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="http://localhost";class Ea extends Xd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Wg(t,["providerId","signInMethod"]);if(!i||!a)return null;const d=new Ea(i,a);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Lo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Lo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lo(e,t)}buildRequest(){const e={requestUri:IN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zo(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n_(n,e){return Wn(n,"POST","/v1/accounts:sendVerificationCode",xn(n,e))}async function jN(n,e){return As(n,"POST","/v1/accounts:signInWithPhoneNumber",xn(n,e))}async function DN(n,e){const t=await As(n,"POST","/v1/accounts:signInWithPhoneNumber",xn(n,e));if(t.temporaryProof)throw Sc(n,"account-exists-with-different-credential",t);return t}const ON={USER_NOT_FOUND:"user-not-found"};async function PN(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return As(n,"POST","/v1/accounts:signInWithPhoneNumber",xn(n,t),ON)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc extends Xd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Pc({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Pc({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return jN(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return DN(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return PN(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:a}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:a}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:a,temporaryProof:l}=e;return!i&&!t&&!a&&!l?null:new Pc({verificationId:t,verificationCode:i,phoneNumber:a,temporaryProof:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MN(n){const e=Ec(Tc(n)).link,t=e?Ec(Tc(e)).deep_link_id:null,i=Ec(Tc(n)).deep_link_id;return(i?Ec(Tc(i)).link:null)||i||t||e||n}class i0{constructor(e){var t,i,a,l,d,m;const g=Ec(Tc(e)),y=(t=g.apiKey)!==null&&t!==void 0?t:null,x=(i=g.oobCode)!==null&&i!==void 0?i:null,w=kN((a=g.mode)!==null&&a!==void 0?a:null);me(y&&x&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=x,this.continueUrl=(l=g.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=g.lang)!==null&&d!==void 0?d:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=MN(e);try{return new i0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(e,t){return Gc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=i0.parseLink(t);return me(i,"argument-error"),Gc._fromEmailAndCode(e,i.code,i.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends s0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends lu{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ea._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return fi.credential(t,i)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends lu{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends lu{constructor(){super("twitter.com")}static credential(e,t){return Ea._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return is.credential(t,i)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(n,e){return As(n,"POST","/v1/accounts:signUp",xn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await sr._fromIdTokenResponse(e,i,a),d=r_(i);return new Ta({user:l,providerId:d,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=r_(i);return new Ta({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function r_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends Ur{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new _d(e,t,i,a)}}function U2(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(n,l,e,i):l})}async function LN(n,e,t=!1){const i=await qc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ta._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(n,e,t=!1){const{auth:i}=n;if(dn(i.app))return Promise.reject(jr(i));const a="reauthenticate";try{const l=await qc(n,U2(i,a,e,n),t);me(l.idToken,i,"internal-error");const d=t0(l.idToken);me(d,i,"internal-error");const{sub:m}=d;return me(n.uid===m,i,"user-mismatch"),Ta._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Yn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,e,t=!1){if(dn(n.app))return Promise.reject(jr(n));const i="signIn",a=await U2(n,i,e),l=await Ta._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function B2(n,e){return z2(cr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(n){const e=cr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zN(n,e,t){if(dn(n.app))return Promise.reject(jr(n));const i=cr(n),d=await Vo(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VN,"EMAIL_PASSWORD_PROVIDER").catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&F2(n),g}),m=await Ta._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(m.user),m}function BN(n,e,t){return dn(n.app)?Promise.reject(jr(n)):B2(Ct(n),el.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&F2(n),i})}function FN(n,e,t,i){return Ct(n).onIdTokenChanged(e,t,i)}function HN(n,e,t){return Ct(n).beforeAuthStateChanged(e,t)}function qN(n,e,t,i){return Ct(n).onAuthStateChanged(e,t,i)}function H2(n){return Ct(n).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(n,e){return Wn(n,"POST","/v2/accounts/mfaEnrollment:start",xn(n,e))}const bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1e3,$N=10;class G2 extends q2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(i);!t&&this.localCache[i]===d||this.notifyListeners(i,d)},l=this.storage.getItem(i);nN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,$N):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}G2.type="LOCAL";const KN=G2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2 extends q2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$2.type="SESSION";const K2=$2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Wd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,d=this.handlersMap[a];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const m=Array.from(d).map(async y=>y(t.origin,l)),g=await YN(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,d;return new Promise((m,g)=>{const y=a0("",20);a.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},i);d={messageChannel:a,onMessage(w){const E=w;if(E.data.eventId===y)switch(E.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(E.data.response);break;default:clearTimeout(x),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(){return window}function XN(n){St().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){return typeof St().WorkerGlobalScope<"u"&&typeof St().importScripts=="function"}async function WN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ZN(){return o0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="firebaseLocalStorageDb",eR=1,wd="firebaseLocalStorage",Q2="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jd(n,e){return n.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function tR(){const n=indexedDB.deleteDatabase(Y2);return new cu(n).toPromise()}function hg(){const n=indexedDB.open(Y2,eR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wd,{keyPath:Q2})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wd)?e(i):(i.close(),await tR(),e(await hg()))})})}async function s_(n,e,t){const i=Jd(n,!0).put({[Q2]:e,value:t});return new cu(i).toPromise()}async function nR(n,e){const t=Jd(n,!1).get(e),i=await new cu(t).toPromise();return i===void 0?null:i.value}function a_(n,e){const t=Jd(n,!0).delete(e);return new cu(t).toPromise()}const rR=800,iR=3;class X2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>iR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return o0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(ZN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await WN(),!this.activeServiceWorker)return;this.sender=new QN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await s_(e,bd,"1"),await a_(e,bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>s_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>nR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>a_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Jd(a,!1).getAll();return new cu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X2.type="LOCAL";const sR=X2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n,e){return Wn(n,"POST","/v2/accounts/mfaSignIn:start",xn(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=M2("rcb"),aR=new au(3e4,6e4);class oR{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=St().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return me(lR(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Yx(St().grecaptcha)?Promise.resolve(St().grecaptcha):new Promise((i,a)=>{const l=St().setTimeout(()=>{a(vn(e,"network-request-failed"))},aR.get());St()[Fp]=()=>{St().clearTimeout(l),delete St()[Fp];const m=St().grecaptcha;if(!m||!Yx(m)){a(vn(e,"internal-error"));return}const g=m.render;m.render=(y,x)=>{const w=g(y,x);return this.counter++,w},this.hostLanguage=t,i(m)};const d=`${cN()}?${Zo({onload:Fp,render:"explicit",hl:t})}`;r0(d).catch(()=>{clearTimeout(l),a(vn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=St().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function lR(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class cR{async load(e){return new mN(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="recaptcha",uR={theme:"light",type:"image"};class hR{constructor(e,t,i=Object.assign({},uR)){this.parameters=i,this.type=kc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cr(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const a=typeof t=="string"?document.getElementById(t):t;me(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cR:new oR,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(a=>{const l=d=>{d&&(this.tokenChangeListeners.delete(l),a(d))};this.tokenChangeListeners.add(l),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),typeof e=="function")e(t);else if(typeof e=="string"){const i=St()[e];typeof i=="function"&&i(t)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(x2()&&!o0(),this.auth,"internal-error"),await dR(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await $A(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function dR(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Pc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function mR(n,e,t){if(dn(n.app))return Promise.reject(jr(n));const i=cr(n),a=await pR(i,e,Ct(t));return new fR(a,l=>B2(i,l))}async function pR(n,e,t){var i;if(!n._getRecaptchaConfig())try{await _N(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let a;if(typeof e=="string"?a={phoneNumber:e}:a=e,"session"in a){const l=a.session;if("phoneNumber"in a){me(l.type==="enroll",n,"internal-error");const d={idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Vo(n,d,"mfaSmsEnrollment",async(x,w)=>{if(w.phoneEnrollmentInfo.captchaResponse===Oc){me((t==null?void 0:t.type)===kc,x,"argument-error");const E=await Hp(x,w,t);return i_(x,E)}return i_(x,w)},"PHONE_PROVIDER").catch(x=>Promise.reject(x))).phoneSessionInfo.sessionInfo}else{me(l.type==="signin",n,"internal-error");const d=((i=a.multiFactorHint)===null||i===void 0?void 0:i.uid)||a.multiFactorUid;me(d,n,"missing-multi-factor-info");const m={mfaPendingCredential:l.credential,mfaEnrollmentId:d,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Vo(n,m,"mfaSmsSignIn",async(w,E)=>{if(E.phoneSignInInfo.captchaResponse===Oc){me((t==null?void 0:t.type)===kc,w,"argument-error");const S=await Hp(w,E,t);return o_(w,S)}return o_(w,E)},"PHONE_PROVIDER").catch(w=>Promise.reject(w))).phoneResponseInfo.sessionInfo}}else{const l={phoneNumber:a.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Vo(n,l,"sendVerificationCode",async(y,x)=>{if(x.captchaResponse===Oc){me((t==null?void 0:t.type)===kc,y,"argument-error");const w=await Hp(y,x,t);return n_(y,w)}return n_(y,x)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).sessionInfo}}finally{t==null||t._reset()}}async function Hp(n,e,t){me(t.type===kc,n,"argument-error");const i=await t.verify();me(typeof i=="string",n,"argument-error");const a=Object.assign({},e);if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.captchaResponse,m=a.phoneEnrollmentInfo.clientType,g=a.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:i,captchaResponse:d,clientType:m,recaptchaVersion:g}}),a}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.captchaResponse,d=a.phoneSignInInfo.clientType,m=a.phoneSignInInfo.recaptchaVersion;return Object.assign(a,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:l,clientType:d,recaptchaVersion:m}}),a}else return Object.assign(a,{recaptchaToken:i}),a}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(n,e){return e?gi(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0 extends Xd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gR(n){return z2(n.auth,new l0(n),n.bypassAuthState)}function yR(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),UN(t,new l0(n),n.bypassAuthState)}async function vR(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),LN(t,new l0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gR;case"linkViaPopup":case"linkViaRedirect":return vR;case"reauthViaPopup":case"reauthViaRedirect":return yR;default:Yn(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new au(2e3,1e4);async function _R(n,e,t){if(dn(n.app))return Promise.reject(vn(n,"operation-not-supported-in-this-environment"));const i=cr(n);LA(n,e,s0);const a=W2(i,t);return new pa(i,"signInViaPopup",e,a).executeNotNull()}class pa extends J2{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=a0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xR.get())};e()}}pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="pendingRedirect",rd=new Map;class wR extends J2{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=rd.get(this.auth._key());if(!e){try{const i=await ER(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ER(n,e){const t=AR(e),i=SR(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function TR(n,e){rd.set(n._key(),e)}function SR(n){return gi(n._redirectPersistence)}function AR(n){return nd(bR,n.config.apiKey,n.name)}async function NR(n,e,t=!1){if(dn(n.app))return Promise.reject(jr(n));const i=cr(n),a=W2(i,e),d=await new wR(i,a,t).execute();return d&&!t&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=10*60*1e3;class CR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Z2(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(vn(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RR&&this.cachedEventUids.clear(),this.cachedEventUids.has(l_(e))}saveEventToCache(e){this.cachedEventUids.add(l_(e)),this.lastProcessedEventTime=Date.now()}}function l_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Z2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n,e={}){return Wn(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OR=/^https?/;async function PR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jR(n);for(const t of e)try{if(kR(t))return}catch{}Yn(n,"unauthorized-domain")}function kR(n){const e=cg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===i}if(!OR.test(t))return!1;if(DR.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new au(3e4,6e4);function c_(){const n=St().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function VR(n){return new Promise((e,t)=>{var i,a,l;function d(){c_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{c_(),t(vn(n,"network-request-failed"))},timeout:MR.get()})}if(!((a=(i=St().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=St().gapi)===null||l===void 0)&&l.load)d();else{const m=M2("iframefcb");return St()[m]=()=>{gapi.load?d():t(vn(n,"network-request-failed"))},r0(`${hN()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw id=null,e})}let id=null;function LR(n){return id=id||VR(n),id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=new au(5e3,15e3),zR="__/auth/iframe",BR="emulator/auth/iframe",FR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qR(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?e0(e,BR):`https://${n.config.authDomain}/${zR}`,i={apiKey:e.apiKey,appName:n.name,v:ja},a=HR.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Zo(i).slice(1)}`}async function GR(n){const e=await LR(n),t=St().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:qR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FR,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const d=vn(n,"network-request-failed"),m=St().setTimeout(()=>{l(d)},UR.get());function g(){St().clearTimeout(m),a(i)}i.ping(g).then(g,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KR=500,YR=600,QR="_blank",XR="http://localhost";class u_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WR(n,e,t,i=KR,a=YR){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const g=Object.assign(Object.assign({},$R),{width:i.toString(),height:a.toString(),top:l,left:d}),y=an().toLowerCase();t&&(m=C2(y)?QR:t),N2(y)&&(e=e||XR,g.scrollbars="yes");const x=Object.entries(g).reduce((E,[S,N])=>`${E}${S}=${N},`,"");if(tN(y)&&m!=="_self")return JR(e||"",m),new u_(null);const w=window.open(e||"",m,x);me(w,n,"popup-blocked");try{w.focus()}catch{}return new u_(w)}function JR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="__/auth/handler",e5="emulator/auth/handler",t5=encodeURIComponent("fac");async function h_(n,e,t,i,a,l){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ja,eventId:a};if(e instanceof s0){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",TS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))d[x]=w}if(e instanceof lu){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(d.scopes=x.join(","))}n.tenantId&&(d.tid=n.tenantId);const m=d;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const g=await n._getAppCheckToken(),y=g?`#${t5}=${encodeURIComponent(g)}`:"";return`${n5(n)}?${Zo(m).slice(1)}${y}`}function n5({config:n}){return n.emulator?e0(n,e5):`https://${n.authDomain}/${ZR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="webStorageSupport";class r5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K2,this._completeRedirectFn=NR,this._overrideRedirectResult=TR}async _openPopup(e,t,i,a){var l;wi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await h_(e,t,i,cg(),a);return WR(e,d,a0())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await h_(e,t,i,cg(),a);return XN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(wi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await GR(e),i=new CR(e);return t.register("authEvent",a=>(me(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qp,{type:qp},a=>{var l;const d=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[qp];d!==void 0&&t(!!d),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return P2()||R2()||n0()}}const i5=r5;var d_="@firebase/auth",f_="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function o5(n){wa(new ms("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=i.options;me(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:d,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k2(n)},y=new oN(i,a,l,g);return wN(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),wa(new ms("auth-internal",e=>{const t=cr(e.getProvider("auth").getImmediate());return(i=>new s5(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(d_,f_,a5(n)),Ir(d_,f_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l5=5*60,c5=u2("authIdTokenMaxAge")||l5;let m_=null;const u5=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>c5)return;const a=t==null?void 0:t.token;m_!==a&&(m_=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function h5(n=Xg()){const e=Qd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bN(n,{popupRedirectResolver:i5,persistence:[sR,KN,K2]}),i=u2("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const d=u5(l.toString());HN(t,d,()=>d(t.currentUser)),FN(t,m=>d(m))}}const a=o2("auth");return a&&EN(t,`http://${a}`),t}function d5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=vn("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",d5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});o5("Browser");var p_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,ew;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function C(){}C.prototype=R.prototype,I.D=R.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(k,V,B){for(var D=Array(arguments.length-2),It=2;It<arguments.length;It++)D[It-2]=arguments[It];return R.prototype[V].apply(k,D)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,R,C){C||(C=0);var k=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)k[V]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(V=0;16>V;++V)k[V]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=I.g[0],C=I.g[1],V=I.g[2];var B=I.g[3],D=R+(B^C&(V^B))+k[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=B+(V^R&(C^V))+k[1]+3905402710&4294967295,B=R+(D<<12&4294967295|D>>>20),D=V+(C^B&(R^C))+k[2]+606105819&4294967295,V=B+(D<<17&4294967295|D>>>15),D=C+(R^V&(B^R))+k[3]+3250441966&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(B^C&(V^B))+k[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=B+(V^R&(C^V))+k[5]+1200080426&4294967295,B=R+(D<<12&4294967295|D>>>20),D=V+(C^B&(R^C))+k[6]+2821735955&4294967295,V=B+(D<<17&4294967295|D>>>15),D=C+(R^V&(B^R))+k[7]+4249261313&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(B^C&(V^B))+k[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=B+(V^R&(C^V))+k[9]+2336552879&4294967295,B=R+(D<<12&4294967295|D>>>20),D=V+(C^B&(R^C))+k[10]+4294925233&4294967295,V=B+(D<<17&4294967295|D>>>15),D=C+(R^V&(B^R))+k[11]+2304563134&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(B^C&(V^B))+k[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=B+(V^R&(C^V))+k[13]+4254626195&4294967295,B=R+(D<<12&4294967295|D>>>20),D=V+(C^B&(R^C))+k[14]+2792965006&4294967295,V=B+(D<<17&4294967295|D>>>15),D=C+(R^V&(B^R))+k[15]+1236535329&4294967295,C=V+(D<<22&4294967295|D>>>10),D=R+(V^B&(C^V))+k[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^V&(R^C))+k[6]+3225465664&4294967295,B=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(B^R))+k[11]+643717713&4294967295,V=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(V^B))+k[0]+3921069994&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(V^B&(C^V))+k[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^V&(R^C))+k[10]+38016083&4294967295,B=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(B^R))+k[15]+3634488961&4294967295,V=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(V^B))+k[4]+3889429448&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(V^B&(C^V))+k[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^V&(R^C))+k[14]+3275163606&4294967295,B=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(B^R))+k[3]+4107603335&4294967295,V=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(V^B))+k[8]+1163531501&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(V^B&(C^V))+k[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=B+(C^V&(R^C))+k[2]+4243563512&4294967295,B=R+(D<<9&4294967295|D>>>23),D=V+(R^C&(B^R))+k[7]+1735328473&4294967295,V=B+(D<<14&4294967295|D>>>18),D=C+(B^R&(V^B))+k[12]+2368359562&4294967295,C=V+(D<<20&4294967295|D>>>12),D=R+(C^V^B)+k[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^V)+k[8]+2272392833&4294967295,B=R+(D<<11&4294967295|D>>>21),D=V+(B^R^C)+k[11]+1839030562&4294967295,V=B+(D<<16&4294967295|D>>>16),D=C+(V^B^R)+k[14]+4259657740&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(C^V^B)+k[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^V)+k[4]+1272893353&4294967295,B=R+(D<<11&4294967295|D>>>21),D=V+(B^R^C)+k[7]+4139469664&4294967295,V=B+(D<<16&4294967295|D>>>16),D=C+(V^B^R)+k[10]+3200236656&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(C^V^B)+k[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^V)+k[0]+3936430074&4294967295,B=R+(D<<11&4294967295|D>>>21),D=V+(B^R^C)+k[3]+3572445317&4294967295,V=B+(D<<16&4294967295|D>>>16),D=C+(V^B^R)+k[6]+76029189&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(C^V^B)+k[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=B+(R^C^V)+k[12]+3873151461&4294967295,B=R+(D<<11&4294967295|D>>>21),D=V+(B^R^C)+k[15]+530742520&4294967295,V=B+(D<<16&4294967295|D>>>16),D=C+(V^B^R)+k[2]+3299628645&4294967295,C=V+(D<<23&4294967295|D>>>9),D=R+(V^(C|~B))+k[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~V))+k[7]+1126891415&4294967295,B=R+(D<<10&4294967295|D>>>22),D=V+(R^(B|~C))+k[14]+2878612391&4294967295,V=B+(D<<15&4294967295|D>>>17),D=C+(B^(V|~R))+k[5]+4237533241&4294967295,C=V+(D<<21&4294967295|D>>>11),D=R+(V^(C|~B))+k[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~V))+k[3]+2399980690&4294967295,B=R+(D<<10&4294967295|D>>>22),D=V+(R^(B|~C))+k[10]+4293915773&4294967295,V=B+(D<<15&4294967295|D>>>17),D=C+(B^(V|~R))+k[1]+2240044497&4294967295,C=V+(D<<21&4294967295|D>>>11),D=R+(V^(C|~B))+k[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~V))+k[15]+4264355552&4294967295,B=R+(D<<10&4294967295|D>>>22),D=V+(R^(B|~C))+k[6]+2734768916&4294967295,V=B+(D<<15&4294967295|D>>>17),D=C+(B^(V|~R))+k[13]+1309151649&4294967295,C=V+(D<<21&4294967295|D>>>11),D=R+(V^(C|~B))+k[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=B+(C^(R|~V))+k[11]+3174756917&4294967295,B=R+(D<<10&4294967295|D>>>22),D=V+(R^(B|~C))+k[2]+718787259&4294967295,V=B+(D<<15&4294967295|D>>>17),D=C+(B^(V|~R))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+B&4294967295}i.prototype.u=function(I,R){R===void 0&&(R=I.length);for(var C=R-this.blockSize,k=this.B,V=this.h,B=0;B<R;){if(V==0)for(;B<=C;)a(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<R;)if(k[V++]=I.charCodeAt(B++),V==this.blockSize){a(this,k),V=0;break}}else for(;B<R;)if(k[V++]=I[B++],V==this.blockSize){a(this,k),V=0;break}}this.h=V,this.o+=R},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;var C=8*this.o;for(R=I.length-8;R<I.length;++R)I[R]=C&255,C/=256;for(this.u(I),I=Array(16),R=C=0;4>R;++R)for(var k=0;32>k;k+=8)I[C++]=this.g[R]>>>k&255;return I};function l(I,R){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=R(I)}function d(I,R){this.h=R;for(var C=[],k=!0,V=I.length-1;0<=V;V--){var B=I[V]|0;k&&B==R||(C[V]=B,k=!1)}this.g=C}var m={};function g(I){return-128<=I&&128>I?l(I,function(R){return new d([R|0],0>R?-1:0)}):new d([I|0],0>I?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(0>I)return P(y(-I));for(var R=[],C=1,k=0;I>=C;k++)R[k]=I/C|0,C*=4294967296;return new d(R,0)}function x(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return P(x(I.substring(1),R));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(R,8)),k=w,V=0;V<I.length;V+=8){var B=Math.min(8,I.length-V),D=parseInt(I.substring(V,V+B),R);8>B?(B=y(Math.pow(R,B)),k=k.j(B).add(y(D))):(k=k.j(C),k=k.add(y(D)))}return k}var w=g(0),E=g(1),S=g(16777216);n=d.prototype,n.m=function(){if(F(this))return-P(this).m();for(var I=0,R=1,C=0;C<this.g.length;C++){var k=this.i(C);I+=(0<=k?k:4294967296+k)*R,R*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N(this))return"0";if(F(this))return"-"+P(this).toString(I);for(var R=y(Math.pow(I,6)),C=this,k="";;){var V=J(C,R).g;C=H(C,V.j(R));var B=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=V,N(C))return B+k;for(;6>B.length;)B="0"+B;k=B+k}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function N(I){if(I.h!=0)return!1;for(var R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function F(I){return I.h==-1}n.l=function(I){return I=H(this,I),F(I)?-1:N(I)?0:1};function P(I){for(var R=I.g.length,C=[],k=0;k<R;k++)C[k]=~I.g[k];return new d(C,~I.h).add(E)}n.abs=function(){return F(this)?P(this):this},n.add=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],k=0,V=0;V<=R;V++){var B=k+(this.i(V)&65535)+(I.i(V)&65535),D=(B>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);k=D>>>16,B&=65535,D&=65535,C[V]=D<<16|B}return new d(C,C[C.length-1]&-2147483648?-1:0)};function H(I,R){return I.add(P(R))}n.j=function(I){if(N(this)||N(I))return w;if(F(this))return F(I)?P(this).j(P(I)):P(P(this).j(I));if(F(I))return P(this.j(P(I)));if(0>this.l(S)&&0>I.l(S))return y(this.m()*I.m());for(var R=this.g.length+I.g.length,C=[],k=0;k<2*R;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<I.g.length;V++){var B=this.i(k)>>>16,D=this.i(k)&65535,It=I.i(V)>>>16,st=I.i(V)&65535;C[2*k+2*V]+=D*st,Q(C,2*k+2*V),C[2*k+2*V+1]+=B*st,Q(C,2*k+2*V+1),C[2*k+2*V+1]+=D*It,Q(C,2*k+2*V+1),C[2*k+2*V+2]+=B*It,Q(C,2*k+2*V+2)}for(k=0;k<R;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=R;k<2*R;k++)C[k]=0;return new d(C,0)};function Q(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function U(I,R){this.g=I,this.h=R}function J(I,R){if(N(R))throw Error("division by zero");if(N(I))return new U(w,w);if(F(I))return R=J(P(I),R),new U(P(R.g),P(R.h));if(F(R))return R=J(I,P(R)),new U(P(R.g),R.h);if(30<I.g.length){if(F(I)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var C=E,k=R;0>=k.l(I);)C=ne(C),k=ne(k);var V=oe(C,1),B=oe(k,1);for(k=oe(k,2),C=oe(C,2);!N(k);){var D=B.add(k);0>=D.l(I)&&(V=V.add(C),B=D),k=oe(k,1),C=oe(C,1)}return R=H(I,V.j(R)),new U(V,R)}for(V=w;0<=I.l(R);){for(C=Math.max(1,Math.floor(I.m()/R.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),B=y(C),D=B.j(R);F(D)||0<D.l(I);)C-=k,B=y(C),D=B.j(R);N(B)&&(B=E),V=V.add(B),I=H(I,D)}return new U(V,I)}n.A=function(I){return J(this,I).h},n.and=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)&I.i(k);return new d(C,this.h&I.h)},n.or=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)|I.i(k);return new d(C,this.h|I.h)},n.xor=function(I){for(var R=Math.max(this.g.length,I.g.length),C=[],k=0;k<R;k++)C[k]=this.i(k)^I.i(k);return new d(C,this.h^I.h)};function ne(I){for(var R=I.g.length+1,C=[],k=0;k<R;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new d(C,I.h)}function oe(I,R){var C=R>>5;R%=32;for(var k=I.g.length-C,V=[],B=0;B<k;B++)V[B]=0<R?I.i(B+C)>>>R|I.i(B+C+1)<<32-R:I.i(B+C);return new d(V,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,ew=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,hs=d}).apply(typeof p_<"u"?p_:typeof self<"u"?self:typeof window<"u"?window:{});var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tw,Ac,nw,sd,dg,rw,iw,sw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,_){return u==Array.prototype||u==Object.prototype||(u[v]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qh=="object"&&qh];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function a(u,v){if(v)e:{var _=i;u=u.split(".");for(var A=0;A<u.length-1;A++){var q=u[A];if(!(q in _))break e;_=_[q]}u=u[u.length-1],A=_[u],v=v(A),v!=A&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}function l(u,v){u instanceof String&&(u+="");var _=0,A=!1,q={next:function(){if(!A&&_<u.length){var W=_++;return{value:v(W,u[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(u){return u||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function y(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function x(u,v,_){return u.call.apply(u.bind,arguments)}function w(u,v,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),u.apply(v,q)}}return function(){return u.apply(v,arguments)}}function E(u,v,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:w,E.apply(null,arguments)}function S(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function N(u,v){function _(){}_.prototype=v.prototype,u.aa=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,q,W){for(var ce=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ce[Le-2]=arguments[Le];return v.prototype[q].apply(A,ce)}}function F(u){const v=u.length;if(0<v){const _=Array(v);for(let A=0;A<v;A++)_[A]=u[A];return _}return[]}function P(u,v){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const q=u.length||0,W=A.length||0;u.length=q+W;for(let ce=0;ce<W;ce++)u[q+ce]=A[ce]}else u.push(A)}}class H{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Q(u){return/^[\s\xa0]*$/.test(u)}function U(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function J(u){return J[" "](u),u}J[" "]=function(){};var ne=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function oe(u,v,_){for(const A in u)v.call(_,u[A],A,u)}function I(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function R(u){const v={};for(const _ in u)v[_]=u[_];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,v){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)u[_]=A[_];for(let W=0;W<C.length;W++)_=C[W],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function V(u){var v=1;u=u.split(":");const _=[];for(;0<v&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function B(u){m.setTimeout(()=>{throw u},0)}function D(){var u=Oe;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class It{constructor(){this.h=this.g=null}add(v,_){const A=st.get();A.set(v,_),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new H(()=>new $,u=>u.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,fe=!1,Oe=new It,O=()=>{const u=m.Promise.resolve(void 0);ae=()=>{u.then(se)}};var se=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){B(_)}var v=st;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,v),m.removeEventListener("test",_,v)}catch{}return u}();function je(u,v){if(le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(ne){e:{try{J(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else _=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement);this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Se[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&je.aa.h.call(this)}}N(je,le);var Se={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function ur(u,v,_,A,q){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!A,this.ha=q,this.key=++tt,this.da=this.fa=!1}function Ai(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function zr(u){this.src=u,this.g={},this.h=0}zr.prototype.add=function(u,v,_,A,q){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var ce=js(u,v,A,q);return-1<ce?(v=u[ce],_||(v.fa=!1)):(v=new ur(v,this.src,W,!!A,q),v.fa=_,u.push(v)),v};function Is(u,v){var _=v.type;if(_ in u.g){var A=u.g[_],q=Array.prototype.indexOf.call(A,v,void 0),W;(W=0<=q)&&Array.prototype.splice.call(A,q,1),W&&(Ai(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function js(u,v,_,A){for(var q=0;q<u.length;++q){var W=u[q];if(!W.da&&W.listener==v&&W.capture==!!_&&W.ha==A)return q}return-1}var Ds="closure_lm_"+(1e6*Math.random()|0),ll={};function vu(u,v,_,A,q){if(Array.isArray(v)){for(var W=0;W<v.length;W++)vu(u,v[W],_,A,q);return null}return _=xu(_),u&&u[Vt]?u.K(v,_,y(A)?!!A.capture:!1,q):Dn(u,v,_,!1,A,q)}function Dn(u,v,_,A,q,W){if(!v)throw Error("Invalid event type");var ce=y(q)?!!q.capture:!!q,Le=La(u);if(Le||(u[Ds]=Le=new zr(u)),_=Le.add(v,_,A,ce,W),_.proxy)return _;if(A=Tf(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)xe||(q=ce),q===void 0&&(q=!1),u.addEventListener(v.toString(),A,q);else if(u.attachEvent)u.attachEvent(Os(v.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Tf(){function u(_){return v.call(u.src,u.listener,_)}const v=Sf;return u}function cl(u,v,_,A,q){if(Array.isArray(v))for(var W=0;W<v.length;W++)cl(u,v[W],_,A,q);else A=y(A)?!!A.capture:!!A,_=xu(_),u&&u[Vt]?(u=u.i,v=String(v).toString(),v in u.g&&(W=u.g[v],_=js(W,_,A,q),-1<_&&(Ai(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete u.g[v],u.h--)))):u&&(u=La(u))&&(v=u.g[v.toString()],u=-1,v&&(u=js(v,_,A,q)),(_=-1<u?v[u]:null)&&Va(_))}function Va(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Vt])Is(v.i,u);else{var _=u.type,A=u.proxy;v.removeEventListener?v.removeEventListener(_,A,u.capture):v.detachEvent?v.detachEvent(Os(_),A):v.addListener&&v.removeListener&&v.removeListener(A),(_=La(v))?(Is(_,u),_.h==0&&(_.src=null,v[Ds]=null)):Ai(u)}}}function Os(u){return u in ll?ll[u]:ll[u]="on"+u}function Sf(u,v){if(u.da)u=!0;else{v=new je(v,this);var _=u.listener,A=u.ha||u.src;u.fa&&Va(u),u=_.call(A,v)}return u}function La(u){return u=u[Ds],u instanceof zr?u:null}var ul="__closure_events_fn_"+(1e9*Math.random()>>>0);function xu(u){return typeof u=="function"?u:(u[ul]||(u[ul]=function(v){return u.handleEvent(v)}),u[ul])}function ht(){ue.call(this),this.i=new zr(this),this.M=this,this.F=null}N(ht,ue),ht.prototype[Vt]=!0,ht.prototype.removeEventListener=function(u,v,_,A){cl(this,u,v,_,A)};function Ke(u,v){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=v.type||v,typeof v=="string")v=new le(v,u);else if(v instanceof le)v.target=v.target||u;else{var q=v;v=new le(A,u),k(v,q)}if(q=!0,_)for(var W=_.length-1;0<=W;W--){var ce=v.g=_[W];q=_n(ce,A,!0,v)&&q}if(ce=v.g=u,q=_n(ce,A,!0,v)&&q,q=_n(ce,A,!1,v)&&q,_)for(W=0;W<_.length;W++)ce=v.g=_[W],q=_n(ce,A,!1,v)&&q}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var _=u.g[v],A=0;A<_.length;A++)Ai(_[A]);delete u.g[v],u.h--}}this.F=null},ht.prototype.K=function(u,v,_,A){return this.i.add(String(u),v,!1,_,A)},ht.prototype.L=function(u,v,_,A){return this.i.add(String(u),v,!0,_,A)};function _n(u,v,_,A){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,W=0;W<v.length;++W){var ce=v[W];if(ce&&!ce.da&&ce.capture==_){var Le=ce.listener,Dt=ce.ha||ce.src;ce.fa&&Is(u.i,ce),q=Le.call(Dt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Zt(u,v,_){if(typeof u=="function")_&&(u=E(u,_));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(u,v||0)}function _u(u){u.g=Zt(()=>{u.g=null,u.i&&(u.i=!1,_u(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class Af extends ue{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(u){ue.call(this),this.h=u,this.g={}}N(Ps,ue);var ks=[];function Ms(u){oe(u.g,function(v,_){this.g.hasOwnProperty(_)&&Va(v)},u),u.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),Ms(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=m.JSON.stringify,Ua=m.JSON.parse,Vs=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function hl(){}hl.prototype.h=null;function dl(u){return u.h||(u.h=u.i())}function fl(){}var Br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fr(){le.call(this,"d")}N(Fr,le);function ml(){le.call(this,"c")}N(ml,le);var hr={},pl=null;function Ni(){return pl=pl||new ht}hr.La="serverreachability";function za(u){le.call(this,hr.La,u)}N(za,le);function Ri(u){const v=Ni();Ke(v,new za(v))}hr.STAT_EVENT="statevent";function bu(u,v){le.call(this,hr.STAT_EVENT,u),this.stat=v}N(bu,le);function at(u){const v=Ni();Ke(v,new bu(v,u))}hr.Ma="timingevent";function jt(u,v){le.call(this,hr.Ma,u),this.size=v}N(jt,le);function _t(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},v)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function gl(u,v,_,A,q,W){u.info(function(){if(u.g)if(W)for(var ce="",Le=W.split("&"),Dt=0;Dt<Le.length;Dt++){var Ue=Le[Dt].split("=");if(1<Ue.length){var Ut=Ue[0];Ue=Ue[1];var Ot=Ut.split("_");ce=2<=Ot.length&&Ot[1]=="type"?ce+(Ut+"="+Ue+"&"):ce+(Ut+"=redacted&")}}else ce=null;else ce=W;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+v+`
`+_+`
`+ce})}function Nf(u,v,_,A,q,W,ce){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+v+`
`+_+`
`+W+" "+ce})}function Ci(u,v,_,A){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ls(u,_)+(A?" "+A:"")})}function wu(u,v){u.info(function(){return"TIMEOUT: "+v})}On.prototype.info=function(){};function Ls(u,v){if(!u.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var W=q[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ce=1;ce<q.length;ce++)q[ce]=""}}}}return Jn(_)}catch{return v}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function fr(){}N(fr,hl),fr.prototype.g=function(){return new XMLHttpRequest},fr.prototype.i=function(){return{}},dr=new fr;function on(u,v,_,A){this.j=u,this.i=v,this.l=_,this.R=A||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}var yl={},Ba={};function Zn(u,v,_){u.L=1,u.v=Hs(bn(v)),u.m=_,u.P=!0,qr(u,null)}function qr(u,v){u.F=Date.now(),Us(u),u.A=bn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),El(_.i,"t",A),u.C=0,_=u.j.J,u.h=new gt,u.g=Lu(u.j,_?v:null,!u.m),0<u.O&&(u.M=new Af(E(u.Y,u,u.g),u.O)),v=u.U,_=u.g,A=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(ks[0]=q.toString()),q=ks);for(var W=0;W<q.length;W++){var ce=vu(_,q[W],A||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),Ri(),gl(u.i,u.u,u.A,u.l,u.R,u.m)}on.prototype.ca=function(u){u=u.target;const v=this.M;v&&Vn(u)==3?v.j():this.Y(u)},on.prototype.Y=function(u){try{if(u==this.g)e:{const Ot=Vn(this.g);var v=this.g.Ba();const Jr=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||Ot!=4||v==7||(v==8||0>=Jr?Ri(3):Ri(2)),ji(this);var _=this.g.Z();this.X=_;t:if(Eu(this)){var A=Iu(this.g);u="";var q=A.length,W=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),mr(this);var ce="";break t}this.h.i=new m.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,u+=this.h.i.decode(A[v],{stream:!(W&&v==q-1)});A.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Nf(this.i,this.u,this.A,this.l,this.R,Ot,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Dt=this.g;if((Le=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Le)){var Ue=Le;break t}}Ue=null}if(_=Ue)Ci(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zs(this,_);else{this.o=!1,this.s=3,at(12),qt(this),mr(this);break e}}if(this.P){_=!0;let Gt;for(;!this.J&&this.C<ce.length;)if(Gt=Tu(this,ce),Gt==Ba){Ot==4&&(this.s=4,at(14),_=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==yl){this.s=4,at(15),Ci(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Ci(this.i,this.l,Gt,null),zs(this,Gt);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||ce.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)Ci(this.i,this.l,ce,"[Invalid Chunked Response]"),qt(this),mr(this);else if(0<ce.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ws(Ut),Ut.M=!0,at(11))}}else Ci(this.i,this.l,ce,null),zs(this,ce);Ot==4&&qt(this),this.o&&!this.J&&(Ot==4?ku(this.j,this):(this.o=!1,Us(this)))}else Df(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),qt(this),mr(this)}}}catch{}finally{}};function Eu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Tu(u,v){var _=u.C,A=v.indexOf(`
`,_);return A==-1?Ba:(_=Number(v.substring(_,A)),isNaN(_)?yl:(A+=1,A+_>v.length?Ba:(v=v.slice(A,A+_),u.C=A+_,v)))}on.prototype.cancel=function(){this.J=!0,qt(this)};function Us(u){u.S=Date.now()+u.I,Su(u,u.I)}function Su(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_t(E(u.ba,u),v)}function ji(u){u.B&&(m.clearTimeout(u.B),u.B=null)}on.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(wu(this.i,this.A),this.L!=2&&(Ri(),at(17)),qt(this),this.s=2,mr(this)):Su(this,this.S-u)};function mr(u){u.j.G==0||u.J||ku(u.j,u)}function qt(u){ji(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,Ms(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function zs(u,v){try{var _=u.j;if(_.G!=0&&(_.g==u||vl(_.h,u))){if(!u.K&&vl(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Za(_),Wa(_);else break e;Rl(_),at(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=_t(E(_.Za,_),6e3));if(1>=Ha(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Wr(_,11)}else if((u.K||_.g==u)&&Za(_),!Q(v))for(q=_.Da.g.parse(v),v=0;v<q.length;v++){let Ue=q[v];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const Ut=Ue[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const Ot=Ue[4];Ot!=null&&(_.Aa=Ot,_.j.info("SVER="+_.Aa));const Jr=Ue[5];Jr!=null&&typeof Jr=="number"&&0<Jr&&(A=1.5*Jr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Gt=u.g;if(Gt){const br=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var W=A.h;W.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(qa(W,W.h),W.h=null))}if(A.D){const Il=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(A.ya=Il,Xe(A.I,A.D,Il))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ce=u;if(A.qa=Vu(A,A.J?A.ia:null,A.W),ce.K){ln(A.h,ce);var Le=ce,Dt=A.L;Dt&&(Le.I=Dt),Le.B&&(ji(Le),Us(Le)),A.g=ce}else Ou(A);0<_.i.length&&Ja(_)}else Ue[0]!="stop"&&Ue[0]!="close"||Wr(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Wr(_,7):Al(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}Ri(4)}catch{}}var Au=class{constructor(u,v){this.g=u,this.map=v}};function Gr(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ha(u){return u.h?1:u.g?u.g.size:0}function vl(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function qa(u,v){u.g?u.g.add(v):u.h=v}function ln(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Gr.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.D);return v}return F(u.i)}function Rf(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var v=[],_=u.length,A=0;A<_;A++)v.push(u[A]);return v}v=[],_=0;for(A in u)v[_++]=u[A];return v}function Ga(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var v=[];u=u.length;for(var _=0;_<u;_++)v.push(_);return v}v=[],_=0;for(const A in u)v[_++]=A;return v}}}function _l(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var _=Ga(u),A=Rf(u),q=A.length,W=0;W<q;W++)v.call(void 0,A[W],_&&_[W],u)}var Bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cf(u,v){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),q=null;if(0<=A){var W=u[_].substring(0,A);q=u[_].substring(A+1)}else W=u[_];v(W,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function bt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof bt){this.h=u.h,Fs(this,u.j),this.o=u.o,this.g=u.g,Di(this,u.s),this.l=u.l;var v=u.i,_=new Kr;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),$r(this,_),this.m=u.m}else u&&(v=String(u).match(Bs))?(this.h=!1,Fs(this,v[1]||"",!0),this.o=Pn(v[2]||""),this.g=Pn(v[3]||"",!0),Di(this,v[4]),this.l=Pn(v[5]||"",!0),$r(this,v[6]||"",!0),this.m=Pn(v[7]||"")):(this.h=!1,this.i=new Kr(null,this.h))}bt.prototype.toString=function(){var u=[],v=this.j;v&&u.push(qs(v,bl,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push(qs(v,bl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(qs(_,_.charAt(0)=="/"?If:wl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",qs(_,$a)),u.join("")};function bn(u){return new bt(u)}function Fs(u,v,_){u.j=_?Pn(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Di(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function $r(u,v,_){v instanceof Kr?(u.i=v,Ru(u.i,u.h)):(_||(v=qs(v,jf)),u.i=new Kr(v,u.h))}function Xe(u,v,_){u.i.set(v,_)}function Hs(u){return Xe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Pn(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qs(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,Nu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Nu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var bl=/[#\/\?@]/g,wl=/[#\?:]/g,If=/[#\?]/g,jf=/[#\?@]/g,$a=/#/g;function Kr(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function kn(u){u.g||(u.g=new Map,u.h=0,u.i&&Cf(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}n=Kr.prototype,n.add=function(u,v){kn(this),this.i=null,u=pr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function Yr(u,v){kn(u),v=pr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Qr(u,v){return kn(u),v=pr(u,v),u.g.has(v)}n.forEach=function(u,v){kn(this),this.g.forEach(function(_,A){_.forEach(function(q){u.call(v,q,A,this)},this)},this)},n.na=function(){kn(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let A=0;A<v.length;A++){const q=u[A];for(let W=0;W<q.length;W++)_.push(v[A])}return _},n.V=function(u){kn(this);let v=[];if(typeof u=="string")Qr(this,u)&&(v=v.concat(this.g.get(pr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)v=v.concat(u[_])}return v},n.set=function(u,v){return kn(this),this.i=null,u=pr(this,u),Qr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},n.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function El(u,v,_){Yr(u,v),0<_.length&&(u.i=null,u.g.set(pr(u,v),F(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var A=v[_];const W=encodeURIComponent(String(A)),ce=this.V(A);for(A=0;A<ce.length;A++){var q=W;ce[A]!==""&&(q+="="+encodeURIComponent(String(ce[A]))),u.push(q)}}return this.i=u.join("&")};function pr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Ru(u,v){v&&!u.j&&(kn(u),u.i=null,u.g.forEach(function(_,A){var q=A.toLowerCase();A!=q&&(Yr(this,A),El(this,q,_))},u)),u.j=v}function Gs(u,v){const _=new On;if(m.Image){const A=new Image;A.onload=S(Mn,_,"TestLoadImage: loaded",!0,v,A),A.onerror=S(Mn,_,"TestLoadImage: error",!1,v,A),A.onabort=S(Mn,_,"TestLoadImage: abort",!1,v,A),A.ontimeout=S(Mn,_,"TestLoadImage: timeout",!1,v,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else v(!1)}function er(u,v){const _=new On,A=new AbortController,q=setTimeout(()=>{A.abort(),Mn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:A.signal}).then(W=>{clearTimeout(q),W.ok?Mn(_,"TestPingServer: ok",!0,v):Mn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Mn(_,"TestPingServer: error",!1,v)})}function Mn(u,v,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function $s(){this.g=new Vs}function gr(u,v,_){const A=_||"";try{_l(u,function(q,W){let ce=q;y(q)&&(ce=Jn(q)),v.push(A+W+"="+encodeURIComponent(ce))})}catch(q){throw v.push(A+"type="+encodeURIComponent("_badmap")),q}}function Oi(u){this.l=u.Ub||null,this.j=u.eb||!1}N(Oi,hl),Oi.prototype.g=function(){return new Xr(this.l,this.j)},Oi.prototype.i=function(u){return function(){return u}}({});function Xr(u,v){ht.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Xr,ht),n=Xr.prototype,n.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,vr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?yr(this):vr(this),this.readyState==3&&Tl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,yr(this))},n.Qa=function(u){this.g&&(this.response=u,yr(this))},n.ga=function(){this.g&&yr(this)};function yr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,vr(u)}n.setRequestHeader=function(u,v){this.u.append(u,v)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function vr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sl(u){let v="";return oe(u,function(_,A){v+=A,v+=":",v+=_,v+=`\r
`}),v}function Lt(u,v,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Sl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Xe(u,v,_))}function Ge(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Ge,ht);var Ka=/^https?$/i,Ks=["POST","PUT"];n=Ge.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,v,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?dl(this.o):dl(dr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(W){Cu(this,W);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())_.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),q=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ks,v,void 0))||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ce]of _)this.g.setRequestHeader(W,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){Cu(this,W)}};function Cu(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,Ya(u),xr(u)}function Ya(u){u.A||(u.A=!0,Ke(u,"complete"),Ke(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ke(this,"complete"),Ke(this,"abort"),xr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xr(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Vn(u)!=4||u.Z()!=2)){if(u.u&&Vn(u)==4)Zt(u.Ea,0,u);else if(Ke(u,"readystatechange"),Vn(u)==4){u.h=!1;try{const ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var A;if(A=ce===0){var q=String(u.D).match(Bs)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),A=!Ka.test(q?q.toLowerCase():"")}_=A}if(_)Ke(u,"complete"),Ke(u,"success");else{u.m=6;try{var W=2<Vn(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Ya(u)}}finally{xr(u)}}}}function xr(u,v){if(u.g){Ys(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||Ke(u,"ready");try{_.onreadystatechange=A}catch{}}}function Ys(u){u.I&&(m.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Vn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Ua(v)}};function Iu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(u){const v={};u=(u.g&&2<=Vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(Q(u[A]))continue;var _=V(u[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=v[q]||[];v[q]=W,W.push(_)}I(v,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function Xa(u){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qs("baseRetryDelayMs",5e3,u),this.cb=Qs("retryDelaySeedMs",1e4,u),this.Wa=Qs("forwardChannelMaxRetries",2,u),this.wa=Qs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Gr(u&&u.concurrentRequestLimit),this.Da=new $s,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xa.prototype,n.la=8,n.G=1,n.connect=function(u,v,_,A){at(0),this.W=u,this.H=v||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Vu(this,null,this.W),Ja(this)};function Al(u){if(ju(u),u.G==3){var v=u.U++,_=bn(u.I);if(Xe(_,"SID",u.K),Xe(_,"RID",v),Xe(_,"TYPE","terminate"),Xs(u,_),v=new on(u,u.j,v),v.L=2,v.v=Hs(bn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=v.v,_=!0),_||(v.g=Lu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Us(v)}Mu(u)}function Wa(u){u.g&&(Ws(u),u.g.cancel(),u.g=null)}function ju(u){Wa(u),u.u&&(m.clearTimeout(u.u),u.u=null),Za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Ja(u){if(!Fa(u.h)&&!u.s){u.s=!0;var v=u.Ga;ae||O(),fe||(ae(),fe=!0),Oe.add(v,u),u.B=0}}function Of(u,v){return Ha(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_t(E(u.Ga,u,v),Cl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new on(this,this.j,u);let W=this.o;if(this.S&&(W?(W=R(W),k(W,this.S)):W=this.S),this.m!==null||this.O||(q.H=W,W=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Du(this,q,v),_=bn(this.I),Xe(_,"RID",u),Xe(_,"CVER",22),this.D&&Xe(_,"X-HTTP-Session-Id",this.D),Xs(this,_),W&&(this.O?v="headers="+encodeURIComponent(String(Sl(W)))+"&"+v:this.m&&Lt(_,this.m,W)),qa(this.h,q),this.Ua&&Xe(_,"TYPE","init"),this.P?(Xe(_,"$req",v),Xe(_,"SID","null"),q.T=!0,Zn(q,_,null)):Zn(q,_,v),this.G=2}}else this.G==3&&(u?Nl(this,u):this.i.length==0||Fa(this.h)||Nl(this))};function Nl(u,v){var _;v?_=v.l:_=u.U++;const A=bn(u.I);Xe(A,"SID",u.K),Xe(A,"RID",_),Xe(A,"AID",u.T),Xs(u,A),u.m&&u.o&&Lt(A,u.m,u.o),_=new on(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),v&&(u.i=v.D.concat(u.i)),v=Du(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qa(u.h,_),Zn(_,A,v)}function Xs(u,v){u.H&&oe(u.H,function(_,A){Xe(v,A,_)}),u.l&&_l({},function(_,A){Xe(v,A,_)})}function Du(u,v,_){_=Math.min(u.i.length,_);var A=u.l?E(u.l.Na,u.l,u):null;e:{var q=u.i;let W=-1;for(;;){const ce=["count="+_];W==-1?0<_?(W=q[0].g,ce.push("ofs="+W)):W=0:ce.push("ofs="+W);let Le=!0;for(let Dt=0;Dt<_;Dt++){let Ue=q[Dt].g;const Ut=q[Dt].map;if(Ue-=W,0>Ue)W=Math.max(0,q[Dt].g-100),Le=!1;else try{gr(Ut,ce,"req"+Ue+"_")}catch{A&&A(Ut)}}if(Le){A=ce.join("&");break e}}}return u=u.i.splice(0,_),v.D=u,A}function Ou(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;ae||O(),fe||(ae(),fe=!0),Oe.add(v,u),u.v=0}}function Rl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_t(E(u.Fa,u),Cl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_t(E(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Wa(this),Pu(this))};function Ws(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Pu(u){u.g=new on(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=bn(u.qa);Xe(v,"RID","rpc"),Xe(v,"SID",u.K),Xe(v,"AID",u.T),Xe(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xe(v,"TO",u.ja),Xe(v,"TYPE","xmlhttp"),Xs(u,v),u.m&&u.o&&Lt(v,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Hs(bn(v)),_.m=null,_.P=!0,qr(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Wa(this),Rl(this),at(19))};function Za(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function ku(u,v){var _=null;if(u.g==v){Za(u),Ws(u),u.g=null;var A=2}else if(vl(u.h,v))_=v.D,ln(u.h,v),A=1;else return;if(u.G!=0){if(v.o)if(A==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var q=u.B;A=Ni(),Ke(A,new jt(A,_)),Ja(u)}else Ou(u);else if(q=v.s,q==3||q==0&&0<v.X||!(A==1&&Of(u,v)||A==2&&Rl(u)))switch(_&&0<_.length&&(v=u.h,v.i=v.i.concat(_)),q){case 1:Wr(u,5);break;case 4:Wr(u,10);break;case 3:Wr(u,6);break;default:Wr(u,2)}}}function Cl(u,v){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*v}function Wr(u,v){if(u.j.info("Error code "+v),v==2){var _=E(u.fb,u),A=u.Xa;const q=!A;A=new bt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Fs(A,"https"),Hs(A),q?Gs(A.toString(),_):er(A.toString(),_)}else at(2);u.G=0,u.l&&u.l.sa(v),Mu(u),ju(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Mu(u){if(u.G=0,u.ka=[],u.l){const v=xl(u.h);(v.length!=0||u.i.length!=0)&&(P(u.ka,v),P(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function Vu(u,v,_){var A=_ instanceof bt?bn(_):new bt(_);if(A.g!="")v&&(A.g=v+"."+A.g),Di(A,A.s);else{var q=m.location;A=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var W=new bt(null);A&&Fs(W,A),v&&(W.g=v),q&&Di(W,q),_&&(W.l=_),A=W}return _=u.D,v=u.ya,_&&v&&Xe(A,_,v),Xe(A,"VER",u.la),Xs(u,A),A}function Lu(u,v,_){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new Ge(new Oi({eb:_})):new Ge(u.pa),v.Ha(u.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}n=Uu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eo(){}eo.prototype.g=function(u,v){return new cn(u,v)};function cn(u,v){ht.call(this),this.g=new Xa(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!Q(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Q(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new _r(this)}N(cn,ht),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Al(this.g)},cn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Jn(u),u=_);v.i.push(new Au(v.Ya++,u)),v.G==3&&Ja(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,cn.aa.N.call(this)};function zu(u){Fr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}N(zu,Fr);function Bu(){ml.call(this),this.status=1}N(Bu,ml);function _r(u){this.g=u}N(_r,Uu),_r.prototype.ua=function(){Ke(this.g,"a")},_r.prototype.ta=function(u){Ke(this.g,new zu(u))},_r.prototype.sa=function(u){Ke(this.g,new Bu)},_r.prototype.ra=function(){Ke(this.g,"b")},eo.prototype.createWebChannel=eo.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,sw=function(){return new eo},iw=function(){return Ni()},rw=hr,dg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,sd=Ii,Hr.COMPLETE="complete",nw=Hr,fl.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Ac=fl,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,tw=Ge}).apply(typeof qh<"u"?qh:typeof self<"u"?self:typeof window<"u"?window:{});const g_="@firebase/firestore",y_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new Yg("@firebase/firestore");function jo(){return Sa.logLevel}function de(n,...e){if(Sa.logLevel<=Me.DEBUG){const t=e.map(c0);Sa.debug(`Firestore (${tl}): ${n}`,...t)}}function Ei(n,...e){if(Sa.logLevel<=Me.ERROR){const t=e.map(c0);Sa.error(`Firestore (${tl}): ${n}`,...t)}}function ps(n,...e){if(Sa.logLevel<=Me.WARN){const t=e.map(c0);Sa.warn(`Firestore (${tl}): ${n}`,...t)}}function c0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,aw(n,i,t)}function aw(n,e,t){let i=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ei(i),new Error(i)}function $e(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||aw(e,a,i)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ur{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class f5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rn.UNAUTHENTICATED))}shutdown(){}}class m5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class p5{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0,42304);let i=this.i;const a=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vi,e.enqueueRetryable(()=>a(this.currentUser))};const d=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vi)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string",31837,{l:i}),new ow(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class g5{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class y5{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new g5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0,3512);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new v_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new v_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=x5(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ie(n,e){return n<e?-1:n>e?1:0}function fg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Ie(i,a);{const l=lw(),d=_5(l.encode(x_(n,t)),l.encode(x_(e,t)));return d!==0?d:Ie(i,a)}}t+=i>65535?2:1}return Ie(n.length,e.length)}function x_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ie(n[t],e[t]);return Ie(n.length,e.length)}function Bo(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="__name__";class Nr{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Nr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ie(e.length,t.length)}static compareSegments(e,t){const i=Nr.isNumericId(e),a=Nr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Nr.extractNumericId(e).compare(Nr.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class rt extends Nr{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const b5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Nr{construct(e,t,i){return new Wt(e,t,i)}static isValidIdentifier(e){return b5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===__}static keyField(){return new Wt([__])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else m==="`"?(d=!d,a++):m!=="."||d?(i+=m,a++):(l(),a++)}if(l(),d)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(rt.fromString(e))}static fromName(e){return new ve(rt.fromString(e).popFirst(5))}static empty(){return new ve(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e,t){if(!t)throw new he(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function w5(n,e,t,i){if(e===!0&&i===!0)throw new he(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function b_(n){if(!ve.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w_(n){if(ve.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Zd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function gs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zd(n);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function E5(n,e){if(e<=0)throw new he(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(n,e){const t={typeString:n};return e&&(t.value=e),t}function uu(n,e){if(!uw(n))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const d=n[i];if(a&&typeof d!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&d!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new he(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=-62135596800,T_=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*T_);return new it(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<E_)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T_}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-E_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new it(0,0))}static max(){return new Ae(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=-1;function T5(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(i===1e9?new it(t+1,0):new it(t,i));return new ys(a,ve.empty(),e)}function S5(n){return new ys(n.readTime,n.key,$c)}class ys{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ys(Ae.min(),ve.empty(),$c)}static max(){return new ys(Ae.max(),ve.empty(),$c)}}function A5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Ie(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==N5)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,i)=>{t(e)})}static reject(e){return new ie((t,i)=>{i(e)})}static waitFor(e){return new ie((t,i)=>{let a=0,l=0,d=!1;e.forEach(m=>{++a,m.next(()=>{++l,d&&l===a&&t()},g=>i(g))}),d=!0,l===a&&t()})}static or(e){let t=ie.resolve(!1);for(const i of e)t=t.next(a=>a?ie.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ie((i,a)=>{const l=e.length,d=new Array(l);let m=0;for(let g=0;g<l;g++){const y=g;t(e[y]).next(x=>{d[y]=x,++m,m===l&&i(d)},x=>a(x))}})}static doWhile(e,t){return new ie((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function C5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function rl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ef.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=-1;function tf(n){return n==null}function Ed(n){return n===0&&1/n==-1/0}function I5(n){return typeof n=="number"&&Number.isInteger(n)&&!Ed(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="";function j5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=S_(e)),e=D5(n.get(t),e);return S_(e)}function D5(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case hw:t+="";break;default:t+=l}}return t}function S_(n){return n+hw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Da(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gh(this.root,e,this.comparator,!0)}}class Gh{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Xt.RED,this.left=a??Xt.EMPTY,this.right=l??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Xt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Xt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new ar([])}unionWith(e){let t=new Mt(Wt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ar(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new fw("Invalid base64 string: "+l):l}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let d=0;d<a.length;++d)l+=String.fromCharCode(a[d]);return l}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const O5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(n){if($e(!!n,39018),typeof n=="string"){let e=0;const t=O5.exec(n);if($e(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xt(n.seconds),nanos:xt(n.nanos)}}function xt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xs(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="server_timestamp",pw="__type__",gw="__previous_value__",yw="__local_write_time__";function d0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pw])===null||t===void 0?void 0:t.stringValue)===mw}function nf(n){const e=n.mapValue.fields[gw];return d0(e)?nf(e):e}function Kc(n){const e=vs(n.mapValue.fields[yw].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,t,i,a,l,d,m,g,y,x){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x}}const Td="(default)";class Yc{constructor(e,t){this.projectId=e,this.database=t||Td}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===Td}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="__type__",k5="__max__",$h={mapValue:{}},xw="__vector__",Sd="value";function _s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?d0(n)?4:V5(n)?9007199254740991:M5(n)?10:11:we(28295,{value:n})}function Vr(n,e){if(n===e)return!0;const t=_s(n);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kc(n).isEqual(Kc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const d=vs(a.timestampValue),m=vs(l.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return xs(a.bytesValue).isEqual(xs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return xt(a.geoPointValue.latitude)===xt(l.geoPointValue.latitude)&&xt(a.geoPointValue.longitude)===xt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return xt(a.integerValue)===xt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const d=xt(a.doubleValue),m=xt(l.doubleValue);return d===m?Ed(d)===Ed(m):isNaN(d)&&isNaN(m)}return!1}(n,e);case 9:return Bo(n.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(a,l){const d=a.mapValue.fields||{},m=l.mapValue.fields||{};if(A_(d)!==A_(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Vr(d[g],m[g])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function Qc(n,e){return(n.values||[]).find(t=>Vr(t,e))!==void 0}function Fo(n,e){if(n===e)return 0;const t=_s(n),i=_s(e);if(t!==i)return Ie(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,e.booleanValue);case 2:return function(l,d){const m=xt(l.integerValue||l.doubleValue),g=xt(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(n,e);case 3:return R_(n.timestampValue,e.timestampValue);case 4:return R_(Kc(n),Kc(e));case 5:return fg(n.stringValue,e.stringValue);case 6:return function(l,d){const m=xs(l),g=xs(d);return m.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(l,d){const m=l.split("/"),g=d.split("/");for(let y=0;y<m.length&&y<g.length;y++){const x=Ie(m[y],g[y]);if(x!==0)return x}return Ie(m.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,d){const m=Ie(xt(l.latitude),xt(d.latitude));return m!==0?m:Ie(xt(l.longitude),xt(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return C_(n.arrayValue,e.arrayValue);case 10:return function(l,d){var m,g,y,x;const w=l.fields||{},E=d.fields||{},S=(m=w[Sd])===null||m===void 0?void 0:m.arrayValue,N=(g=E[Sd])===null||g===void 0?void 0:g.arrayValue,F=Ie(((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0,((x=N==null?void 0:N.values)===null||x===void 0?void 0:x.length)||0);return F!==0?F:C_(S,N)}(n.mapValue,e.mapValue);case 11:return function(l,d){if(l===$h.mapValue&&d===$h.mapValue)return 0;if(l===$h.mapValue)return 1;if(d===$h.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),y=d.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let w=0;w<g.length&&w<x.length;++w){const E=fg(g[w],x[w]);if(E!==0)return E;const S=Fo(m[g[w]],y[x[w]]);if(S!==0)return S}return Ie(g.length,x.length)}(n.mapValue,e.mapValue);default:throw we(23264,{le:t})}}function R_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ie(n,e);const t=vs(n),i=vs(e),a=Ie(t.seconds,i.seconds);return a!==0?a:Ie(t.nanos,i.nanos)}function C_(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Fo(t[a],i[a]);if(l)return l}return Ie(t.length,i.length)}function Ho(n){return mg(n)}function mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=vs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=mg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const d of i)l?l=!1:a+=",",a+=`${d}:${mg(t.fields[d])}`;return a+"}"}(n.mapValue):we(61005,{value:n})}function ad(n){switch(_s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(n);return e?16+ad(e):16;case 5:return 2*n.stringValue.length;case 6:return xs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+ad(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Da(i.fields,(l,d)=>{a+=l.length+ad(d)}),a}(n.mapValue);default:throw we(13486,{value:n})}}function I_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pg(n){return!!n&&"integerValue"in n}function f0(n){return!!n&&"arrayValue"in n}function j_(n){return!!n&&"nullValue"in n}function D_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function od(n){return!!n&&"mapValue"in n}function M5(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vw])===null||t===void 0?void 0:t.stringValue)===xw}function Mc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Da(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Mc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function V5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===k5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!od(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(t)}setAll(e){let t=Wt.emptyPath(),i={},a=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,i,a),i={},a=[],t=m.popLast()}d?i[m.lastSegment()]=Mc(d):a.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());od(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];od(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Da(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Gn(Mc(this.value))}}function _w(n){const e=[];return Da(n.fields,(t,i)=>{const a=new Wt([t]);if(od(i)){const l=_w(i.mapValue).fields;if(l.length===0)e.push(a);else for(const d of l)e.push(a.child(d))}else e.push(a)}),new ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,i,a,l,d,m){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=d,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Ae.min(),Ae.min(),Ae.min(),Gn.empty(),0)}static newFoundDocument(e,t,i,a){return new sn(e,1,t,Ae.min(),i,a,0)}static newNoDocument(e,t){return new sn(e,2,t,Ae.min(),Ae.min(),Gn.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Ae.min(),Ae.min(),Gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.position=e,this.inclusive=t}}function O_(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],d=n.position[a];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(d.referenceValue),t.key):i=Fo(d,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function P_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function L5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{}class At extends bw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new z5(e,t,i):t==="array-contains"?new H5(e,i):t==="in"?new q5(e,i):t==="not-in"?new G5(e,i):t==="array-contains-any"?new $5(e,i):new At(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new B5(e,i):new F5(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fo(t,this.value)):t!==null&&_s(this.value)===_s(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends bw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new or(e,t)}matches(e){return ww(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ww(n){return n.op==="and"}function Ew(n){return U5(n)&&ww(n)}function U5(n){for(const e of n.filters)if(e instanceof or)return!1;return!0}function gg(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+Ho(n.value);if(Ew(n))return n.filters.map(e=>gg(e)).join(",");{const e=n.filters.map(t=>gg(t)).join(",");return`${n.op}(${e})`}}function Tw(n,e){return n instanceof At?function(i,a){return a instanceof At&&i.op===a.op&&i.field.isEqual(a.field)&&Vr(i.value,a.value)}(n,e):n instanceof or?function(i,a){return a instanceof or&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,d,m)=>l&&Tw(d,a.filters[m]),!0):!1}(n,e):void we(19439)}function Sw(n){return n instanceof At?function(t){return`${t.field.canonicalString()} ${t.op} ${Ho(t.value)}`}(n):n instanceof or?function(t){return t.op.toString()+" {"+t.getFilters().map(Sw).join(" ,")+"}"}(n):"Filter"}class z5 extends At{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class B5 extends At{constructor(e,t){super(e,"in",t),this.keys=Aw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class F5 extends At{constructor(e,t){super(e,"not-in",t),this.keys=Aw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Aw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class H5 extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return f0(t)&&Qc(t.arrayValue,this.value)}}class q5 extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Qc(this.value.arrayValue,t)}}class G5 extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qc(this.value.arrayValue,t)}}class $5 extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!f0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Qc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,t=null,i=[],a=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=d,this.endAt=m,this.Pe=null}}function k_(n,e=null,t=[],i=[],a=null,l=null,d=null){return new K5(n,e,t,i,a,l,d)}function m0(n){const e=Ne(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>gg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ho(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ho(i)).join(",")),e.Pe=t}return e.Pe}function p0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!L5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Tw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!P_(n.startAt,e.startAt)&&P_(n.endAt,e.endAt)}function yg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t=null,i=[],a=[],l=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Y5(n,e,t,i,a,l,d,m){return new il(n,e,t,i,a,l,d,m)}function g0(n){return new il(n)}function M_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Nw(n){return n.collectionGroup!==null}function Vc(n){const e=Ne(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Mt(Wt.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Xc(l,i))}),t.has(Wt.keyField().canonicalString())||e.Te.push(new Xc(Wt.keyField(),i))}return e.Te}function Dr(n){const e=Ne(n);return e.Ie||(e.Ie=Q5(e,Vc(n))),e.Ie}function Q5(n,e){if(n.limitType==="F")return k_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Xc(a.field,l)});const t=n.endAt?new Ad(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ad(n.startAt.position,n.startAt.inclusive):null;return k_(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vg(n,e){const t=n.filters.concat([e]);return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Nd(n,e,t){return new il(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rf(n,e){return p0(Dr(n),Dr(e))&&n.limitType===e.limitType}function Rw(n){return`${m0(Dr(n))}|lt:${n.limitType}`}function Do(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>Sw(a)).join(", ")}]`),tf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Ho(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Ho(a)).join(",")),`Target(${i})`}(Dr(n))}; limitType=${n.limitType})`}function sf(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Vc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(d,m,g){const y=O_(d,m,g);return d.inclusive?y<=0:y<0}(i.startAt,Vc(i),a)||i.endAt&&!function(d,m,g){const y=O_(d,m,g);return d.inclusive?y>=0:y>0}(i.endAt,Vc(i),a))}(n,e)}function X5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Cw(n){return(e,t)=>{let i=!1;for(const a of Vc(n)){const l=W5(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function W5(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,d,m){const g=d.data.field(l),y=m.data.field(l);return g!==null&&y!==null?Fo(g,y):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return dw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new ut(ve.comparator);function Ti(){return J5}const Iw=new ut(ve.comparator);function Nc(...n){let e=Iw;for(const t of n)e=e.insert(t.key,t);return e}function jw(n){let e=Iw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ga(){return Lc()}function Dw(){return Lc()}function Lc(){return new Oa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Z5=new ut(ve.comparator),eC=new Mt(ve.comparator);function Ve(...n){let e=eC;for(const t of n)e=e.add(t);return e}const tC=new Mt(Ie);function nC(){return tC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function Ow(n){return{integerValue:""+n}}function rC(n,e){return I5(e)?Ow(e):y0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function iC(n,e,t){return n instanceof Wc?function(a,l){const d={fields:{[pw]:{stringValue:mw},[yw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&d0(l)&&(l=nf(l)),l&&(d.fields[gw]=l),{mapValue:d}}(t,e):n instanceof Jc?kw(n,e):n instanceof Zc?Mw(n,e):function(a,l){const d=Pw(a,l),m=V_(d)+V_(a.Ee);return pg(d)&&pg(a.Ee)?Ow(m):y0(a.serializer,m)}(n,e)}function sC(n,e,t){return n instanceof Jc?kw(n,e):n instanceof Zc?Mw(n,e):t}function Pw(n,e){return n instanceof Rd?function(i){return pg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Wc extends af{}class Jc extends af{constructor(e){super(),this.elements=e}}function kw(n,e){const t=Vw(e);for(const i of n.elements)t.some(a=>Vr(a,i))||t.push(i);return{arrayValue:{values:t}}}class Zc extends af{constructor(e){super(),this.elements=e}}function Mw(n,e){let t=Vw(e);for(const i of n.elements)t=t.filter(a=>!Vr(a,i));return{arrayValue:{values:t}}}class Rd extends af{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function V_(n){return xt(n.integerValue||n.doubleValue)}function Vw(n){return f0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t){this.field=e,this.transform=t}}function oC(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Jc&&a instanceof Jc||i instanceof Zc&&a instanceof Zc?Bo(i.elements,a.elements,Vr):i instanceof Rd&&a instanceof Rd?Vr(i.Ee,a.Ee):i instanceof Wc&&a instanceof Wc}(n.transform,e.transform)}class lC{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ld(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class of{}function Lw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zw(n.key,Or.none()):new hu(n.key,n.data,Or.none());{const t=n.data,i=Gn.empty();let a=new Mt(Wt.comparator);for(let l of e.fields)if(!a.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?i.delete(l):i.set(l,d),a=a.add(l)}return new Pa(n.key,i,new ar(a.toArray()),Or.none())}}function cC(n,e,t){n instanceof hu?function(a,l,d){const m=a.value.clone(),g=U_(a.fieldTransforms,l,d.transformResults);m.setAll(g),l.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Pa?function(a,l,d){if(!ld(a.precondition,l))return void l.convertToUnknownDocument(d.version);const m=U_(a.fieldTransforms,l,d.transformResults),g=l.data;g.setAll(Uw(a)),g.setAll(m),l.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(n,e,t):function(a,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Uc(n,e,t,i){return n instanceof hu?function(l,d,m,g){if(!ld(l.precondition,d))return m;const y=l.value.clone(),x=z_(l.fieldTransforms,g,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Pa?function(l,d,m,g){if(!ld(l.precondition,d))return m;const y=z_(l.fieldTransforms,g,d),x=d.data;return x.setAll(Uw(l)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,d,m){return ld(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(n,e,t)}function uC(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=Pw(i.transform,a||null);l!=null&&(t===null&&(t=Gn.empty()),t.set(i.field,l))}return t||null}function L_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Bo(i,a,(l,d)=>oC(l,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hu extends of{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Pa extends of{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Uw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function U_(n,e,t){const i=new Map;$e(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let a=0;a<t.length;a++){const l=n[a],d=l.transform,m=e.data.field(l.field);i.set(l.field,sC(d,m,t[a]))}return i}function z_(n,e,t){const i=new Map;for(const a of n){const l=a.transform,d=t.data.field(a.field);i.set(a.field,iC(l,d,e))}return i}class zw extends of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hC extends of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&cC(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Uc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Uc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Dw();return this.mutations.forEach(a=>{const l=e.get(a.key),d=l.overlayedDocument;let m=this.applyToLocalView(d,l.mutatedFields);m=t.has(a.key)?null:m;const g=Lw(d,m);g!==null&&i.set(a.key,g),d.isValidDocument()||d.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(t,i)=>L_(t,i))&&Bo(this.baseMutations,e.baseMutations,(t,i)=>L_(t,i))}}class v0{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){$e(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let a=function(){return Z5}();const l=e.mutations;for(let d=0;d<l.length;d++)a=a.insert(l[d].key,i[d].version);return new v0(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Be;function pC(n){switch(n){case te.OK:return we(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function Bw(n){if(n===void 0)return Ei("GRPC error has no .code"),te.UNKNOWN;switch(n){case Tt.OK:return te.OK;case Tt.CANCELLED:return te.CANCELLED;case Tt.UNKNOWN:return te.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return te.INTERNAL;case Tt.UNAVAILABLE:return te.UNAVAILABLE;case Tt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Tt.NOT_FOUND:return te.NOT_FOUND;case Tt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Tt.ABORTED:return te.ABORTED;case Tt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Tt.DATA_LOSS:return te.DATA_LOSS;default:return we(39323,{code:n})}}(Be=Tt||(Tt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new hs([4294967295,4294967295],0);function B_(n){const e=lw().encode(n),t=new ew;return t.update(e),new Uint8Array(t.digest())}function F_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new hs([t,i],0),new hs([a,l],0)]}class x0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Rc(`Invalid padding: ${t}`);if(i<0)throw new Rc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Rc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Rc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=hs.fromNumber(this.fe)}pe(e,t,i){let a=e.add(t.multiply(hs.fromNumber(i)));return a.compare(gC)===1&&(a=new hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=B_(e),[i,a]=F_(t);for(let l=0;l<this.hashCount;l++){const d=this.pe(i,a,l);if(!this.ye(d))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new x0(l,a,t);return i.forEach(m=>d.insert(m)),d}insert(e){if(this.fe===0)return;const t=B_(e),[i,a]=F_(t);for(let l=0;l<this.hashCount;l++){const d=this.pe(i,a,l);this.we(d)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new lf(Ae.min(),a,new ut(Ie),Ti(),Ve())}}class du{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new du(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=a}}class Fw{constructor(e,t){this.targetId=e,this.De=t}}class Hw{constructor(e,t,i=Jt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class H_{constructor(){this.ve=0,this.Ce=q_(),this.Fe=Jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ve(),t=Ve(),i=Ve();return this.Ce.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:we(38017,{changeType:l})}}),new du(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=q_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class yC{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ti(),this.je=Kh(),this.Je=Kh(),this.He=new ut(Ie)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,a)=>{this.nt(a)&&t(a)})}it(e){const t=e.targetId,i=e.De.count,a=this.st(t);if(a){const l=a.target;if(yg(l))if(i===0){const d=new ve(l.path);this.Xe(t,d,sn.newNoDocument(d,Ae.min()))}else $e(i===1,20013,{expectedCount:i});else{const d=this.ot(t);if(d!==i){const m=this._t(e),g=m?this.ut(m,e,d):1;if(g!==0){this.rt(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let d,m;try{d=xs(i).toUint8Array()}catch(g){if(g instanceof fw)return ps("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new x0(d,a,l)}catch(g){return ps(g instanceof Rc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const d=this.We.lt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,l,null),a++)}),a}Pt(e){const t=new Map;this.Ge.forEach((l,d)=>{const m=this.st(d);if(m){if(l.current&&yg(m.target)){const g=new ve(m.target.path);this.Tt(g).has(d)||this.It(d,g)||this.Xe(d,g,sn.newNoDocument(g,e))}l.Ne&&(t.set(d,l.Le()),l.ke())}});let i=Ve();this.Je.forEach((l,d)=>{let m=!0;d.forEachWhile(g=>{const y=this.st(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(l))}),this.ze.forEach((l,d)=>d.setReadTime(e));const a=new lf(e,t,this.He,this.ze,i);return this.ze=Ti(),this.je=Kh(),this.Je=Kh(),this.He=new ut(Ie),a}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const a=this.tt(e);this.It(e,t)?a.qe(t,1):a.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new H_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Mt(Ie),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Mt(Ie),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new H_),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Kh(){return new ut(ve.comparator)}function q_(){return new ut(ve.comparator)}const vC={asc:"ASCENDING",desc:"DESCENDING"},xC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class bC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xg(n,e){return n.useProto3Json||tf(e)?e:{value:e}}function Cd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wC(n,e){return Cd(n,e.toTimestamp())}function Pr(n){return $e(!!n,49232),Ae.fromTimestamp(function(t){const i=vs(t);return new it(i.seconds,i.nanos)}(n))}function _0(n,e){return _g(n,e).canonicalString()}function _g(n,e){const t=function(a){return new rt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Gw(n){const e=rt.fromString(n);return $e(Xw(e),10190,{key:e.toString()}),e}function bg(n,e){return _0(n.databaseId,e.path)}function Gp(n,e){const t=Gw(e);if(t.get(1)!==n.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(Kw(t))}function $w(n,e){return _0(n.databaseId,e)}function EC(n){const e=Gw(n);return e.length===4?rt.emptyPath():Kw(e)}function wg(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Kw(n){return $e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function G_(n,e,t){return{name:bg(n,e),fields:t.value.mapValue.fields}}function TC(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(y,x){return y.useProto3Json?($e(x===void 0||typeof x=="string",58123),Jt.fromBase64String(x||"")):($e(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Jt.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const x=y.code===void 0?te.UNKNOWN:Bw(y.code);return new he(x,y.message||"")}(d);t=new Hw(i,a,l,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Gp(n,i.document.name),l=Pr(i.document.updateTime),d=i.document.createTime?Pr(i.document.createTime):Ae.min(),m=new Gn({mapValue:{fields:i.document.fields}}),g=sn.newFoundDocument(a,l,d,m),y=i.targetIds||[],x=i.removedTargetIds||[];t=new cd(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Gp(n,i.document),l=i.readTime?Pr(i.readTime):Ae.min(),d=sn.newNoDocument(a,l),m=i.removedTargetIds||[];t=new cd([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Gp(n,i.document),l=i.removedTargetIds||[];t=new cd([],l,a,null)}else{if(!("filter"in e))return we(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,d=new mC(a,l),m=i.targetId;t=new Fw(m,d)}}return t}function SC(n,e){let t;if(e instanceof hu)t={update:G_(n,e.key,e.value)};else if(e instanceof zw)t={delete:bg(n,e.key)};else if(e instanceof Pa)t={update:G_(n,e.key,e.data),updateMask:PC(e.fieldMask)};else{if(!(e instanceof hC))return we(16599,{Rt:e.type});t={verify:bg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,d){const m=d.transform;if(m instanceof Wc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rd)return{fieldPath:d.field.canonicalString(),increment:m.Ee};throw we(20930,{transform:d.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:wC(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)}(n,e.precondition)),t}function AC(n,e){return n&&n.length>0?($e(e!==void 0,14353),n.map(t=>function(a,l){let d=a.updateTime?Pr(a.updateTime):Pr(l);return d.isEqual(Ae.min())&&(d=Pr(l)),new lC(d,a.transformResults||[])}(t,e))):[]}function NC(n,e){return{documents:[$w(n,e.path)]}}function RC(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=$w(n,a);const l=function(y){if(y.length!==0)return Qw(or.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(y){if(y.length!==0)return y.map(x=>function(E){return{field:Oo(E.field),direction:jC(E.dir)}}(x))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=xg(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:t,parent:a}}function CC(n){let e=EC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){$e(i===1,65062);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=function(w){const E=Yw(w);return E instanceof or&&Ew(E)?E.getFilters():[E]}(t.where));let d=[];t.orderBy&&(d=function(w){return w.map(E=>function(N){return new Xc(Po(N.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(E))}(t.orderBy));let m=null;t.limit&&(m=function(w){let E;return E=typeof w=="object"?w.value:w,tf(E)?null:E}(t.limit));let g=null;t.startAt&&(g=function(w){const E=!!w.before,S=w.values||[];return new Ad(S,E)}(t.startAt));let y=null;return t.endAt&&(y=function(w){const E=!w.before,S=w.values||[];return new Ad(S,E)}(t.endAt)),Y5(e,a,d,l,m,"F",g,y)}function IC(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Yw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Po(t.unaryFilter.field);return At.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Po(t.unaryFilter.field);return At.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Po(t.unaryFilter.field);return At.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Po(t.unaryFilter.field);return At.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return At.create(Po(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return or.create(t.compositeFilter.filters.map(i=>Yw(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function jC(n){return vC[n]}function DC(n){return xC[n]}function OC(n){return _C[n]}function Oo(n){return{fieldPath:n.canonicalString()}}function Po(n){return Wt.fromServerFormat(n.fieldPath)}function Qw(n){return n instanceof At?function(t){if(t.op==="=="){if(D_(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NAN"}};if(j_(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(D_(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NAN"}};if(j_(t.value))return{unaryFilter:{field:Oo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oo(t.field),op:DC(t.op),value:t.value}}}(n):n instanceof or?function(t){const i=t.getFilters().map(a=>Qw(a));return i.length===1?i[0]:{compositeFilter:{op:OC(t.op),filters:i}}}(n):we(54877,{filter:n})}function PC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t,i,a,l=Ae.min(),d=Ae.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.gt=e}}function MC(n){const e=CC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.Dn=new LC}addToCollectionParentIndex(e,t){return this.Dn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(ys.min())}updateCollectionGroup(e,t,i){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class LC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Mt(rt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ww=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(Ww,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new qo(0)}static ur(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="LruGarbageCollector",UC=1048576;function Y_([n,e],[t,i]){const a=Ie(n,t);return a===0?Ie(e,i):a}class zC{constructor(e){this.Tr=e,this.buffer=new Mt(Y_),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Y_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){de(K_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){rl(t)?de(K_,"Ignoring IndexedDB error during garbage collection: ",t):await nl(t)}await this.Rr(3e5)})}}class FC{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ie.resolve(ef.ue);const i=new zC(t);return this.Vr.forEachTarget(e,a=>i.Er(a.sequenceNumber)).next(()=>this.Vr.gr(e,a=>i.Er(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve($_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,a,l,d,m,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,d=Date.now(),this.nthSequenceNumber(e,a))).next(w=>(i=w,m=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(y=Date.now(),jo()<=Me.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-x}ms
	Determined least recently used ${a} in `+(m-d)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w})))}}function HC(n,e){return new FC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.changes=new Oa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ie.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Uc(i.mutation,a,ar.empty(),it.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ve()){const a=ga();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let d=Nc();return l.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=ga();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ve()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,i,a){let l=Ti();const d=Lc(),m=function(){return Lc()}();return t.forEach((g,y)=>{const x=i.get(y.key);a.has(y.key)&&(x===void 0||x.mutation instanceof Pa)?l=l.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),Uc(x.mutation,y,x.mutation.getFieldMask(),it.now())):d.set(y.key,ar.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((y,x)=>d.set(y,x)),t.forEach((y,x)=>{var w;return m.set(y,new GC(x,(w=d.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,t){const i=Lc();let a=new ut((d,m)=>d-m),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let x=i.get(g)||ar.empty();x=m.applyToLocalView(y,x),i.set(g,x);const w=(a.get(m.batchId)||Ve()).add(g);a=a.insert(m.batchId,w)})}).next(()=>{const d=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,x=g.value,w=Dw();x.forEach(E=>{if(!l.has(E)){const S=Lw(t.get(E),i.get(E));S!==null&&w.set(E,S),l=l.add(E)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ie.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const d=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ie.resolve(ga());let m=$c,g=l;return d.next(y=>ie.forEach(y,(x,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),l.get(x)?ie.resolve():this.remoteDocumentCache.getEntry(e,x).next(E=>{g=g.insert(x,E)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,g,y,Ve())).next(x=>({batchId:m,changes:jw(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let a=Nc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let d=Nc();return this.indexManager.getCollectionParents(e,l).next(m=>ie.forEach(m,g=>{const y=function(w,E){return new il(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,a).next(x=>{x.forEach((w,E)=>{d=d.insert(w,E)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(d=>{l.forEach((g,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,sn.newInvalidDocument(x)))});let m=Nc();return d.forEach((g,y)=>{const x=l.get(g);x!==void 0&&Uc(x.mutation,y,ar.empty(),it.now()),sf(t,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ie.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Pr(a.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(a){return{name:a.name,query:MC(a.bundledQuery),readTime:Pr(a.readTime)}}(t)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.overlays=new ut(ve.comparator),this.kr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ga();return ie.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.wt(e,t,l)}),ie.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.kr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(i)),ie.resolve()}getOverlaysForCollection(e,t,i){const a=ga(),l=t.length+1,d=new ve(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>i&&a.set(g.getKey(),g)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new ut((y,x)=>y-x);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let x=l.get(y.largestBatchId);x===null&&(x=ga(),l=l.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const m=ga(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,x)=>m.set(y,x)),!(m.size()>=a)););return ie.resolve(m)}wt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const d=this.kr.get(a.largestBatchId).delete(i.key);this.kr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new fC(t,i));let l=this.kr.get(t);l===void 0&&(l=Ve(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(){this.qr=new Mt(Ht.Qr),this.$r=new Mt(Ht.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Ht(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Ht(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new ve(new rt([])),i=new Ht(t,e),a=new Ht(t,e+1),l=[];return this.$r.forEachInRange([i,a],d=>{this.Wr(d),l.push(d.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new ve(new rt([])),i=new Ht(t,e),a=new Ht(t,e+1);let l=Ve();return this.$r.forEachInRange([i,a],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ht(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ve.comparator(e.key,t.key)||Ie(e.Hr,t.Hr)}static Ur(e,t){return Ie(e.Hr,t.Hr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Mt(Ht.Qr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dC(l,t,i,a);this.mutationQueue.push(d);for(const m of a)this.Yr=this.Yr.add(new Ht(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,t){return ie.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?h0:this.er-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ht(t,0),a=new Ht(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,a],d=>{const m=this.Zr(d.Hr);l.push(m)}),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Mt(Ie);return t.forEach(a=>{const l=new Ht(a,0),d=new Ht(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,d],m=>{i=i.add(m.Hr)})}),ie.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const d=new Ht(new ve(l),0);let m=new Mt(Ie);return this.Yr.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===a&&(m=m.add(g.Hr)),!0)},d),ie.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(i=>{const a=this.Zr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){$e(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ie.forEach(t.mutations,a=>{const l=new Ht(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new Ht(t,0),a=this.Yr.firstAfterOrEqual(i);return ie.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.ni=e,this.docs=function(){return new ut(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,d=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ie.resolve(i?i.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let i=Ti();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():sn.newInvalidDocument(a))}),ie.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Ti();const d=t.path,m=new ve(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||A5(S5(x),i)<=0||(a.has(x.key)||sf(t,x))&&(l=l.insert(x.key,x.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,t,i,a){we(9500)}ri(e,t){return ie.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new JC(this)}getSize(e){return ie.resolve(this.size)}}class JC extends qC{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Or.addEntry(e,a)):this.Or.removeEntry(i)}),ie.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.persistence=e,this.ii=new Oa(t=>m0(t),p0),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.si=0,this.oi=new b0,this.targetCount=0,this._i=qo.ar()}forEachTarget(e,t){return this.ii.forEach((i,a)=>t(a)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),ie.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.hr(t),ie.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ii.forEach((d,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.ii.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),ie.waitFor(l).next(()=>a)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return ie.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),ie.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(d=>{l.push(a.markPotentiallyOrphaned(e,d))}),ie.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return ie.resolve(i)}containsKey(e,t){return ie.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t){this.ai={},this.overlays={},this.ui=new ef(0),this.ci=!1,this.ci=!0,this.li=new QC,this.referenceDelegate=e(this),this.hi=new ZC(this),this.indexManager=new VC,this.remoteDocumentCache=function(a){return new WC(a)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new kC(t),this.Ti=new KC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new XC(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const a=new eI(this.ui.next());return this.referenceDelegate.Ii(),i(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ei(e,t){return ie.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class eI extends R5{constructor(e){super(),this.currentSequenceNumber=e}}class w0{constructor(e){this.persistence=e,this.Ai=new b0,this.Ri=null}static Vi(e){return new w0(e)}get mi(){if(this.Ri)return this.Ri;throw we(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),ie.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(a=>this.mi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.mi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.mi,i=>{const a=ve.fromPath(i);return this.fi(e,a).next(l=>{l||t.removeEntry(a,Ae.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ie.or([()=>ie.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Id{constructor(e,t){this.persistence=e,this.gi=new Oa(i=>j5(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=HC(this,t)}static Vi(e,t){return new Id(e,t)}Ii(){}di(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return ie.forEach(this.gi,(i,a)=>this.Sr(e,i,a).next(l=>l?ie.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(e,d=>this.Sr(e,d,t).next(m=>{m||(i++,l.removeEntry(d,Ae.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ie.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ad(e.data.value)),t}Sr(e,t,i){return ie.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.gi.get(t);return ie.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=a}static Es(e,t){let i=Ve(),a=Ve();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new E0(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return vS()?8:C5(an())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ps(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.ys(e,t,a,i).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new tI;return this.ws(e,t,d).next(m=>{if(l.result=m,this.Rs)return this.Ss(e,t,d,m.size)})}).next(()=>l.result)}Ss(e,t,i,a){return i.documentReadCount<this.Vs?(jo()<=Me.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(jo()<=Me.DEBUG&&de("QueryEngine","Query:",Do(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.fs*a?(jo()<=Me.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):ie.resolve())}ps(e,t){if(M_(t))return ie.resolve(null);let i=Dr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Nd(t,null,"F"),i=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const d=Ve(...l);return this.gs.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,i).next(g=>{const y=this.bs(t,m);return this.Ds(t,y,d,g.readTime)?this.ps(e,Nd(t,null,"F")):this.vs(e,y,t,g)}))})))}ys(e,t,i,a){return M_(t)||a.isEqual(Ae.min())?ie.resolve(null):this.gs.getDocuments(e,i).next(l=>{const d=this.bs(t,l);return this.Ds(t,d,i,a)?ie.resolve(null):(jo()<=Me.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Do(t)),this.vs(e,d,t,T5(a,$c)).next(m=>m))})}bs(e,t){let i=new Mt(Cw(e));return t.forEach((a,l)=>{sf(e,l)&&(i=i.add(l))}),i}Ds(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(e,t,i){return jo()<=Me.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Do(t)),this.gs.getDocumentsMatchingQuery(e,t,ys.min(),i)}vs(e,t,i,a){return this.gs.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LocalStore",rI=3e8;class iI{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.Fs=new ut(Ie),this.Ms=new Oa(l=>m0(l),p0),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $C(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function sI(n,e,t,i){return new iI(n,e,t,i)}async function Zw(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const d=[],m=[];let g=Ve();for(const y of a){d.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of l){m.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return t.localDocuments.getDocuments(i,g).next(y=>({Bs:y,removedBatchIds:d,addedBatchIds:m}))})})}function aI(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,g,y,x){const w=y.batch,E=w.keys();let S=ie.resolve();return E.forEach(N=>{S=S.next(()=>x.getEntry(g,N)).next(F=>{const P=y.docVersions.get(N);$e(P!==null,48541),F.version.compareTo(P)<0&&(w.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),x.addEntry(F)))})}),S.next(()=>m.mutationQueue.removeMutationBatch(g,w))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let g=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function eE(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function oI(n,e){const t=Ne(n),i=e.snapshotVersion;let a=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Os.newChangeBuffer({trackRemovals:!0});a=t.Fs;const m=[];e.targetChanges.forEach((x,w)=>{const E=a.get(w);if(!E)return;m.push(t.hi.removeMatchingKeys(l,x.removedDocuments,w).next(()=>t.hi.addMatchingKeys(l,x.addedDocuments,w)));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(Jt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):x.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(x.resumeToken,i)),a=a.insert(w,S),function(F,P,H){return F.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=rI?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,S,x)&&m.push(t.hi.updateTargetData(l,S))});let g=Ti(),y=Ve();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))}),m.push(lI(l,d,e.documentUpdates).next(x=>{g=x.Ls,y=x.ks})),!i.isEqual(Ae.min())){const x=t.hi.getLastRemoteSnapshotVersion(l).next(w=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i));m.push(x)}return ie.waitFor(m).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,y)).next(()=>g)}).then(l=>(t.Fs=a,l))}function lI(n,e,t){let i=Ve(),a=Ve();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let d=Ti();return t.forEach((m,g)=>{const y=l.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):de(T0,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Ls:d,ks:a}})}function cI(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=h0),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function uI(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.hi.getTargetData(i,e).next(l=>l?(a=l,ie.resolve(a)):t.hi.allocateTargetId(i).next(d=>(a=new os(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Fs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function Eg(n,e,t){const i=Ne(n),a=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,a))}catch(d){if(!rl(d))throw d;de(T0,`Failed to update sequence numbers for target ${e}: ${d}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(a.target)}function Q_(n,e,t){const i=Ne(n);let a=Ae.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",d=>function(g,y,x){const w=Ne(g),E=w.Ms.get(x);return E!==void 0?ie.resolve(w.Fs.get(E)):w.hi.getTargetData(y,x)}(i,d,Dr(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(d,m.targetId).next(g=>{l=g})}).next(()=>i.Cs.getDocumentsMatchingQuery(d,e,t?a:Ae.min(),t?l:Ve())).next(m=>(hI(i,X5(e),m),{documents:m,qs:l})))}function hI(n,e,t){let i=n.xs.get(e)||Ae.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.xs.set(e,i)}class X_{constructor(){this.activeTargetIds=nC()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dI{constructor(){this.Fo=new X_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new X_,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="ConnectivityMonitor";class J_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){de(W_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){de(W_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=null;function Tg(){return Yh===null?Yh=function(){return 268435456+Math.round(2147483648*Math.random())}():Yh++,"0x"+Yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="RestConnection",mI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pI{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.Ko=this.databaseId.database===Td?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,l){const d=Tg(),m=this.Go(e,t.toUriEncodedString());de($p,`Sending RPC '${e}' ${d}:`,m,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,a,l);const{host:y}=new URL(m),x=Ss(y);return this.jo(e,m,g,i,x).then(w=>(de($p,`Received RPC '${e}' ${d}: `,w),w),w=>{throw ps($p,`RPC '${e}' ${d} failed with error: `,w,"url: ",m,"request:",i),w})}Jo(e,t,i,a,l,d){return this.Wo(e,t,i,a,l)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}Go(e,t){const i=mI[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class yI extends pI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,a,l){const d=Tg();return new Promise((m,g)=>{const y=new tw;y.setWithCredentials(!0),y.listenOnce(nw.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case sd.NO_ERROR:const w=y.getResponseJson();de(nn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),m(w);break;case sd.TIMEOUT:de(nn,`RPC '${e}' ${d} timed out`),g(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:const E=y.getStatus();if(de(nn,`RPC '${e}' ${d} failed with status:`,E,"response text:",y.getResponseText()),E>0){let S=y.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S==null?void 0:S.error;if(N&&N.status&&N.message){const F=function(H){const Q=H.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Q)>=0?Q:te.UNKNOWN}(N.status);g(new he(F,N.message))}else g(new he(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(te.UNAVAILABLE,"Connection failed."));break;default:we(9055,{c_:e,streamId:d,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{de(nn,`RPC '${e}' ${d} completed.`)}});const x=JSON.stringify(a);de(nn,`RPC '${e}' ${d} sending request:`,a),y.send(t,"POST",x,i,15)})}P_(e,t,i){const a=Tg(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=sw(),m=iw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const x=l.join("");de(nn,`Creating RPC '${e}' stream ${a}: ${x}`,g);const w=d.createWebChannel(x,g);this.T_(w);let E=!1,S=!1;const N=new gI({Ho:P=>{S?de(nn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(E||(de(nn,`Opening RPC '${e}' stream ${a} transport.`),w.open(),E=!0),de(nn,`RPC '${e}' stream ${a} sending:`,P),w.send(P))},Yo:()=>w.close()}),F=(P,H,Q)=>{P.listen(H,U=>{try{Q(U)}catch(J){setTimeout(()=>{throw J},0)}})};return F(w,Ac.EventType.OPEN,()=>{S||(de(nn,`RPC '${e}' stream ${a} transport opened.`),N.s_())}),F(w,Ac.EventType.CLOSE,()=>{S||(S=!0,de(nn,`RPC '${e}' stream ${a} transport closed`),N.__(),this.I_(w))}),F(w,Ac.EventType.ERROR,P=>{S||(S=!0,ps(nn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),N.__(new he(te.UNAVAILABLE,"The operation could not be completed")))}),F(w,Ac.EventType.MESSAGE,P=>{var H;if(!S){const Q=P.data[0];$e(!!Q,16349);const U=Q,J=(U==null?void 0:U.error)||((H=U[0])===null||H===void 0?void 0:H.error);if(J){de(nn,`RPC '${e}' stream ${a} received error:`,J);const ne=J.status;let oe=function(C){const k=Tt[C];if(k!==void 0)return Bw(k)}(ne),I=J.message;oe===void 0&&(oe=te.INTERNAL,I="Unknown error status: "+ne+" with message "+J.message),S=!0,N.__(new he(oe,I)),w.close()}else de(nn,`RPC '${e}' stream ${a} received:`,Q),N.a_(Q)}}),F(m,rw.STAT_EVENT,P=>{P.stat===dg.PROXY?de(nn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===dg.NOPROXY&&de(nn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(n){return new bC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),a=Math.max(0,t-i);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="PersistentStream";class nE{constructor(e,t,i,a,l,d,m,g){this.Fi=e,this.w_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new tE(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.b_===t&&this.W_(i,a)},i=>{e(()=>{const a=new he(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(a)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(a=>{i(()=>this.G_(a))}),this.stream.onMessage(a=>{i(()=>++this.C_==1?this.j_(a):this.onNext(a))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return de(Z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(de(Z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vI extends nE{constructor(e,t,i,a,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,d),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=TC(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ae.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Pr(d.readTime):Ae.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=wg(this.serializer),t.addTarget=function(l,d){let m;const g=d.target;if(m=yg(g)?{documents:NC(l,g)}:{query:RC(l,g).Vt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=qw(l,d.resumeToken);const y=xg(l,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Cd(l,d.snapshotVersion.toTimestamp());const y=xg(l,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const i=IC(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=wg(this.serializer),t.removeTarget=e,this.k_(t)}}class xI extends nE{constructor(e,t,i,a,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,d),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=AC(e.writeResults,e.commitTime),i=Pr(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=wg(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>SC(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class bI extends _I{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Wo(e,_g(t,i),a,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(te.UNKNOWN,l.toString())})}Jo(e,t,i,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Jo(e,_g(t,i),a,d,m,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(te.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class wI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ei(t),this._a=!1):de("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class EI{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(d=>{i.enqueueAndForget(async()=>{ka(this)&&(de(Aa,"Restarting streams for network reachability change."),await async function(g){const y=Ne(g);y.Ia.add(4),await fu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await uf(y)}(this))})}),this.Aa=new wI(i,a)}}async function uf(n){if(ka(n))for(const e of n.da)await e(!0)}async function fu(n){for(const e of n.da)await e(!1)}function rE(n,e){const t=Ne(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),R0(t)?N0(t):sl(t).x_()&&A0(t,e))}function S0(n,e){const t=Ne(n),i=sl(t);t.Ta.delete(e),i.x_()&&iE(t,e),t.Ta.size===0&&(i.x_()?i.B_():ka(t)&&t.Aa.set("Unknown"))}function A0(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sl(n).H_(e)}function iE(n,e){n.Ra.$e(e),sl(n).Y_(e)}function N0(n){n.Ra=new yC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),sl(n).start(),n.Aa.aa()}function R0(n){return ka(n)&&!sl(n).M_()&&n.Ta.size>0}function ka(n){return Ne(n).Ia.size===0}function sE(n){n.Ra=void 0}async function TI(n){n.Aa.set("Online")}async function SI(n){n.Ta.forEach((e,t)=>{A0(n,e)})}async function AI(n,e){sE(n),R0(n)?(n.Aa.la(e),N0(n)):n.Aa.set("Unknown")}async function NI(n,e,t){if(n.Aa.set("Online"),e instanceof Hw&&e.state===2&&e.cause)try{await async function(a,l){const d=l.cause;for(const m of l.targetIds)a.Ta.has(m)&&(await a.remoteSyncer.rejectListen(m,d),a.Ta.delete(m),a.Ra.removeTarget(m))}(n,e)}catch(i){de(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jd(n,i)}else if(e instanceof cd?n.Ra.Ye(e):e instanceof Fw?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Ae.min()))try{const i=await eE(n.localStore);t.compareTo(i)>=0&&await function(l,d){const m=l.Ra.Pt(d);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=l.Ta.get(y);x&&l.Ta.set(y,x.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,y)=>{const x=l.Ta.get(g);if(!x)return;l.Ta.set(g,x.withResumeToken(Jt.EMPTY_BYTE_STRING,x.snapshotVersion)),iE(l,g);const w=new os(x.target,g,y,x.sequenceNumber);A0(l,w)}),l.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(i){de(Aa,"Failed to raise snapshot:",i),await jd(n,i)}}async function jd(n,e,t){if(!rl(e))throw e;n.Ia.add(1),await fu(n),n.Aa.set("Offline"),t||(t=()=>eE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Aa,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await uf(n)})}function aE(n,e){return e().catch(t=>jd(n,t,e))}async function hf(n){const e=Ne(n),t=bs(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:h0;for(;RI(e);)try{const a=await cI(e.localStore,i);if(a===null){e.Pa.length===0&&t.B_();break}i=a.batchId,CI(e,a)}catch(a){await jd(e,a)}oE(e)&&lE(e)}function RI(n){return ka(n)&&n.Pa.length<10}function CI(n,e){n.Pa.push(e);const t=bs(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function oE(n){return ka(n)&&!bs(n).M_()&&n.Pa.length>0}function lE(n){bs(n).start()}async function II(n){bs(n).na()}async function jI(n){const e=bs(n);for(const t of n.Pa)e.X_(t.mutations)}async function DI(n,e,t){const i=n.Pa.shift(),a=v0.from(i,e,t);await aE(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await hf(n)}async function OI(n,e){e&&bs(n).Z_&&await async function(i,a){if(function(d){return pC(d)&&d!==te.ABORTED}(a.code)){const l=i.Pa.shift();bs(i).N_(),await aE(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await hf(i)}}(n,e),oE(n)&&lE(n)}async function eb(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),de(Aa,"RemoteStore received new credentials");const i=ka(t);t.Ia.add(3),await fu(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await uf(t)}async function PI(n,e){const t=Ne(n);e?(t.Ia.delete(2),await uf(t)):e||(t.Ia.add(2),await fu(t),t.Aa.set("Unknown"))}function sl(n){return n.Va||(n.Va=function(t,i,a){const l=Ne(t);return l.ia(),new vI(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Zo:TI.bind(null,n),e_:SI.bind(null,n),n_:AI.bind(null,n),J_:NI.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),R0(n)?N0(n):n.Aa.set("Unknown")):(await n.Va.stop(),sE(n))})),n.Va}function bs(n){return n.ma||(n.ma=function(t,i,a){const l=Ne(t);return l.ia(),new xI(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:II.bind(null,n),n_:OI.bind(null,n),ea:jI.bind(null,n),ta:DI.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await hf(n)):(await n.ma.stop(),n.Pa.length>0&&(de(Aa,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const d=Date.now()+i,m=new C0(e,t,d,a,l);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function I0(n,e){if(Ei("AsyncQueue",`${e}: ${n}`),rl(n))return new he(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Nc(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Uo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.fa=new ut(ve.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):we(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Go{constructor(e,t,i,a,l,d,m,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,a,l){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Go(e,t,Uo.emptySet(t),d,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class MI{constructor(){this.queries=nb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const a=Ne(t),l=a.queries;a.queries=nb(),l.forEach((d,m)=>{for(const g of m.wa)g.onError(i)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function nb(){return new Oa(n=>Rw(n),rf)}async function cE(n,e){const t=Ne(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.ba()&&(i=2):(l=new kI,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(a,!0);break;case 1:l.ya=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(d){const m=I0(d,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&j0(t)}async function uE(n,e){const t=Ne(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const d=l.wa.indexOf(e);d>=0&&(l.wa.splice(d,1),l.wa.length===0?a=e.ba()?0:1:!l.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function VI(n,e){const t=Ne(n);let i=!1;for(const a of e){const l=a.query,d=t.queries.get(l);if(d){for(const m of d.wa)m.Ca(a)&&(i=!0);d.ya=a}}i&&j0(t)}function LI(n,e,t){const i=Ne(n),a=i.queries.get(e);if(a)for(const l of a.wa)l.onError(t);i.queries.delete(e)}function j0(n){n.Da.forEach(e=>{e.next()})}var Sg,rb;(rb=Sg||(Sg={})).Fa="default",rb.Cache="cache";class hE{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Sg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.key=e}}class fE{constructor(e){this.key=e}}class UI{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ve(),this.mutatedKeys=Ve(),this.Xa=Cw(e),this.eu=new Uo(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new tb,a=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,d=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,w)=>{const E=a.get(x),S=sf(this.query,w)?w:null,N=!!E&&this.mutatedKeys.has(E.key),F=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let P=!1;E&&S?E.data.isEqual(S.data)?N!==F&&(i.track({type:3,doc:S}),P=!0):this.iu(E,S)||(i.track({type:2,doc:S}),P=!0,(g&&this.Xa(S,g)>0||y&&this.Xa(S,y)<0)&&(m=!0)):!E&&S?(i.track({type:0,doc:S}),P=!0):E&&!S&&(i.track({type:1,doc:E}),P=!0,(g||y)&&(m=!0)),P&&(S?(d=d.add(S),l=F?l.add(x):l.delete(x)):(d=d.delete(x),l=l.delete(x)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),l=l.delete(x.key),i.track({type:1,doc:x})}return{eu:d,ru:i,Ds:m,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((x,w)=>function(S,N){const F=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{At:P})}};return F(S)-F(N)}(x.type,w.type)||this.Xa(x.doc,w.doc)),this.su(i),a=a!=null&&a;const m=t&&!a?this.ou():[],g=this.Za.size===0&&this.current&&!a?1:0,y=g!==this.Ya;return this.Ya=g,d.length!==0||y?{snapshot:new Go(this.query,e.eu,l,d,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new tb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ve(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new fE(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new dE(i))}),t}uu(e){this.Ha=e.qs,this.Za=Ve();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Go.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const D0="SyncEngine";class zI{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class BI{constructor(e){this.key=e,this.lu=!1}}class FI{constructor(e,t,i,a,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Oa(m=>Rw(m),rf),this.Tu=new Map,this.Iu=new Set,this.du=new ut(ve.comparator),this.Eu=new Map,this.Au=new b0,this.Ru={},this.Vu=new Map,this.mu=qo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function HI(n,e,t=!0){const i=xE(n);let a;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await mE(i,e,t,!0),a}async function qI(n,e){const t=xE(n);await mE(t,e,!0,!1)}async function mE(n,e,t,i){const a=await uI(n.localStore,Dr(e)),l=a.targetId,d=n.sharedClientState.addLocalQueryTarget(l,t);let m;return i&&(m=await GI(n,e,l,d==="current",a.resumeToken)),n.isPrimaryClient&&t&&rE(n.remoteStore,a),m}async function GI(n,e,t,i,a){n.gu=(w,E,S)=>async function(F,P,H,Q){let U=P.view.nu(H);U.Ds&&(U=await Q_(F.localStore,P.query,!1).then(({documents:I})=>P.view.nu(I,U)));const J=Q&&Q.targetChanges.get(P.targetId),ne=Q&&Q.targetMismatches.get(P.targetId)!=null,oe=P.view.applyChanges(U,F.isPrimaryClient,J,ne);return sb(F,P.targetId,oe._u),oe.snapshot}(n,w,E,S);const l=await Q_(n.localStore,e,!0),d=new UI(e,l.qs),m=d.nu(l.documents),g=du.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),y=d.applyChanges(m,n.isPrimaryClient,g);sb(n,t,y._u);const x=new zI(e,t,d);return n.Pu.set(e,x),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),y.snapshot}async function $I(n,e,t){const i=Ne(n),a=i.Pu.get(e),l=i.Tu.get(a.targetId);if(l.length>1)return i.Tu.set(a.targetId,l.filter(d=>!rf(d,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Eg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&S0(i.remoteStore,a.targetId),Ag(i,a.targetId)}).catch(nl)):(Ag(i,a.targetId),await Eg(i.localStore,a.targetId,!0))}async function KI(n,e){const t=Ne(n),i=t.Pu.get(e),a=t.Tu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),S0(t.remoteStore,i.targetId))}async function YI(n,e,t){const i=t8(n);try{const a=await function(d,m){const g=Ne(d),y=it.now(),x=m.reduce((S,N)=>S.add(N.key),Ve());let w,E;return g.persistence.runTransaction("Locally write mutations","readwrite",S=>{let N=Ti(),F=Ve();return g.Os.getEntries(S,x).next(P=>{N=P,N.forEach((H,Q)=>{Q.isValidDocument()||(F=F.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(S,N)).next(P=>{w=P;const H=[];for(const Q of m){const U=uC(Q,w.get(Q.key).overlayedDocument);U!=null&&H.push(new Pa(Q.key,U,_w(U.value.mapValue),Or.exists(!0)))}return g.mutationQueue.addMutationBatch(S,y,H,m)}).next(P=>{E=P;const H=P.applyToLocalDocumentSet(w,F);return g.documentOverlayCache.saveOverlays(S,P.batchId,H)})}).then(()=>({batchId:E.batchId,changes:jw(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(d,m,g){let y=d.Ru[d.currentUser.toKey()];y||(y=new ut(Ie)),y=y.insert(m,g),d.Ru[d.currentUser.toKey()]=y}(i,a.batchId,t),await mu(i,a.changes),await hf(i.remoteStore)}catch(a){const l=I0(a,"Failed to persist write");t.reject(l)}}async function pE(n,e){const t=Ne(n);try{const i=await oI(t.localStore,e);e.targetChanges.forEach((a,l)=>{const d=t.Eu.get(l);d&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.lu=!0:a.modifiedDocuments.size>0?$e(d.lu,14607):a.removedDocuments.size>0&&($e(d.lu,42227),d.lu=!1))}),await mu(t,i,e)}catch(i){await nl(i)}}function ib(n,e,t){const i=Ne(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Pu.forEach((l,d)=>{const m=d.view.va(e);m.snapshot&&a.push(m.snapshot)}),function(d,m){const g=Ne(d);g.onlineState=m;let y=!1;g.queries.forEach((x,w)=>{for(const E of w.wa)E.va(m)&&(y=!0)}),y&&j0(g)}(i.eventManager,e),a.length&&i.hu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function QI(n,e,t){const i=Ne(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Eu.get(e),l=a&&a.key;if(l){let d=new ut(ve.comparator);d=d.insert(l,sn.newNoDocument(l,Ae.min()));const m=Ve().add(l),g=new lf(Ae.min(),new Map,new ut(Ie),d,m);await pE(i,g),i.du=i.du.remove(l),i.Eu.delete(e),O0(i)}else await Eg(i.localStore,e,!1).then(()=>Ag(i,e,t)).catch(nl)}async function XI(n,e){const t=Ne(n),i=e.batch.batchId;try{const a=await aI(t.localStore,e);yE(t,i,null),gE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await mu(t,a)}catch(a){await nl(a)}}async function WI(n,e,t){const i=Ne(n);try{const a=await function(d,m){const g=Ne(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let x;return g.mutationQueue.lookupMutationBatch(y,m).next(w=>($e(w!==null,37113),x=w.keys(),g.mutationQueue.removeMutationBatch(y,w))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x)).next(()=>g.localDocuments.getDocuments(y,x))})}(i.localStore,e);yE(i,e,t),gE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await mu(i,a)}catch(a){await nl(a)}}function gE(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function yE(n,e,t){const i=Ne(n);let a=i.Ru[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Ru[i.currentUser.toKey()]=a}}function Ag(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Tu.get(e))n.Pu.delete(i),t&&n.hu.pu(i,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(i=>{n.Au.containsKey(i)||vE(n,i)})}function vE(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(S0(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),O0(n))}function sb(n,e,t){for(const i of t)i instanceof dE?(n.Au.addReference(i.key,e),JI(n,i)):i instanceof fE?(de(D0,"Document no longer in limbo: "+i.key),n.Au.removeReference(i.key,e),n.Au.containsKey(i.key)||vE(n,i.key)):we(19791,{yu:i})}function JI(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Iu.has(i)||(de(D0,"New document in limbo: "+t),n.Iu.add(i),O0(n))}function O0(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new ve(rt.fromString(e)),i=n.mu.next();n.Eu.set(i,new BI(t)),n.du=n.du.insert(t,i),rE(n.remoteStore,new os(Dr(g0(t.path)),i,"TargetPurposeLimboResolution",ef.ue))}}async function mu(n,e,t){const i=Ne(n),a=[],l=[],d=[];i.Pu.isEmpty()||(i.Pu.forEach((m,g)=>{d.push(i.gu(g,e,t).then(y=>{var x;if((y||t)&&i.isPrimaryClient){const w=y?!y.fromCache:(x=t==null?void 0:t.targetChanges.get(g.targetId))===null||x===void 0?void 0:x.current;i.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){a.push(y);const w=E0.Es(g.targetId,y);l.push(w)}}))}),await Promise.all(d),i.hu.J_(a),await async function(g,y){const x=Ne(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ie.forEach(y,E=>ie.forEach(E.Is,S=>x.persistence.referenceDelegate.addReference(w,E.targetId,S)).next(()=>ie.forEach(E.ds,S=>x.persistence.referenceDelegate.removeReference(w,E.targetId,S)))))}catch(w){if(!rl(w))throw w;de(T0,"Failed to update sequence numbers: "+w)}for(const w of y){const E=w.targetId;if(!w.fromCache){const S=x.Fs.get(E),N=S.snapshotVersion,F=S.withLastLimboFreeSnapshotVersion(N);x.Fs=x.Fs.insert(E,F)}}}(i.localStore,l))}async function ZI(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){de(D0,"User change. New user:",e.toKey());const i=await Zw(t.localStore,e);t.currentUser=e,function(l,d){l.Vu.forEach(m=>{m.forEach(g=>{g.reject(new he(te.CANCELLED,d))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await mu(t,i.Bs)}}function e8(n,e){const t=Ne(n),i=t.Eu.get(e);if(i&&i.lu)return Ve().add(i.key);{let a=Ve();const l=t.Tu.get(e);if(!l)return a;for(const d of l){const m=t.Pu.get(d);a=a.unionWith(m.view.tu)}return a}}function xE(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QI.bind(null,e),e.hu.J_=VI.bind(null,e.eventManager),e.hu.pu=LI.bind(null,e.eventManager),e}function t8(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WI.bind(null,e),e}class Dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return sI(this.persistence,new nI,e.initialUser,this.serializer)}Du(e){return new Jw(w0.Vi,this.serializer)}bu(e){return new dI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dd.provider={build:()=>new Dd};class n8 extends Dd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){$e(this.persistence.referenceDelegate instanceof Id,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new BC(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Jw(i=>Id.Vi(i,t),this.serializer)}}class Ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ib(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZI.bind(null,this.syncEngine),await PI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MI}()}createDatastore(e){const t=cf(e.databaseInfo.databaseId),i=function(l){return new yI(l)}(e.databaseInfo);return function(l,d,m,g){return new bI(l,d,m,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,d,m){return new EI(i,a,l,d,m)}(this.localStore,this.datastore,e.asyncQueue,t=>ib(this.syncEngine,t,0),function(){return J_.C()?new J_:new fI}())}createSyncEngine(e,t){return function(a,l,d,m,g,y,x){const w=new FI(a,l,d,m,g,y);return x&&(w.fu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ne(a);de(Aa,"RemoteStore shutting down."),l.Ia.add(5),await fu(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ng.provider={build:()=>new Ng};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class r8{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=rn.UNAUTHENTICATED,this.clientId=u0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async d=>{de(ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(i,d=>(de(ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=I0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Yp(n,e){n.asyncQueue.verifyOperationInProgress(),de(ws,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Zw(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>{ps("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{de("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(a=>{ps("Terminating Firestore due to IndexedDb database deletion failed",a)})}),n._offlineComponents=e}async function ab(n,e){n.asyncQueue.verifyOperationInProgress();const t=await i8(n);de(ws,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>eb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>eb(e.remoteStore,a)),n._onlineComponents=e}async function i8(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(ws,"Using user provided OfflineComponentProvider");try{await Yp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;ps("Error using user provided cache. Falling back to memory cache: "+t),await Yp(n,new Dd)}}else de(ws,"Using default OfflineComponentProvider"),await Yp(n,new n8(void 0));return n._offlineComponents}async function bE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(ws,"Using user provided OnlineComponentProvider"),await ab(n,n._uninitializedComponentsProvider._online)):(de(ws,"Using default OnlineComponentProvider"),await ab(n,new Ng))),n._onlineComponents}function s8(n){return bE(n).then(e=>e.syncEngine)}async function wE(n){const e=await bE(n),t=e.eventManager;return t.onListen=HI.bind(null,e.syncEngine),t.onUnlisten=$I.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KI.bind(null,e.syncEngine),t}function a8(n,e,t={}){const i=new vi;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,m,g,y){const x=new _E({next:E=>{x.Ou(),d.enqueueAndForget(()=>uE(l,w));const S=E.docs.has(m);!S&&E.fromCache?y.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&g&&g.source==="server"?y.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:E=>y.reject(E)}),w=new hE(g0(m.path),x,{includeMetadataChanges:!0,ka:!0});return cE(l,w)}(await wE(n),n.asyncQueue,e,t,i)),i.promise}function o8(n,e,t={}){const i=new vi;return n.asyncQueue.enqueueAndForget(async()=>function(l,d,m,g,y){const x=new _E({next:E=>{x.Ou(),d.enqueueAndForget(()=>uE(l,w)),E.fromCache&&g.source==="server"?y.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:E=>y.reject(E)}),w=new hE(m,x,{includeMetadataChanges:!0,ka:!0});return cE(l,w)}(await wE(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="firestore.googleapis.com",lb=!0;class cb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TE,this.ssl=lb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ww;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UC)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new f5;switch(i.type){case"firstParty":return new y5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=ob.get(t);i&&(de("ComponentProvider","Removing Datastore"),ob.delete(t),i.terminate())}(this),Promise.resolve()}}function l8(n,e,t,i={}){var a;n=gs(n,df);const l=Ss(e),d=n._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:n._getEmulatorOptions()}),g=`${e}:${t}`;l&&($g(`https://${g}`),Kg("Firestore",!0)),d.host!==TE&&d.host!==g&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},d),{host:g,ssl:l,emulatorOptions:i});if(!ba(y,m)&&(n._setSettings(y),i.mockUserToken)){let x,w;if(typeof i.mockUserToken=="string")x=i.mockUserToken,w=rn.MOCK_USER;else{x=h2(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new rn(E)}n._authCredentials=new m5(new ow(x,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class Rt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(uu(t,Rt._jsonSchema))return new Rt(e,i||null,new ve(rt.fromString(t.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Nt("string",Rt._jsonSchemaVersion),referencePath:Nt("string")};class ds extends Ns{constructor(e,t,i){super(e,t,g0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ve(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function pu(n,e,...t){if(n=Ct(n),cw("collection","path",e),n instanceof df){const i=rt.fromString(e,...t);return w_(i),new ds(n,null,i)}{if(!(n instanceof Rt||n instanceof ds))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return w_(i),new ds(n.firestore,null,i)}}function P0(n,e,...t){if(n=Ct(n),arguments.length===1&&(e=u0.newId()),cw("doc","path",e),n instanceof df){const i=rt.fromString(e,...t);return b_(i),new Rt(n,null,new ve(i))}{if(!(n instanceof Rt||n instanceof ds))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return b_(i),new Rt(n.firestore,n instanceof ds?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="AsyncQueue";class hb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new tE(this,"async_queue_retry"),this.oc=()=>{const i=Kp();i&&de(ub,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=Kp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Kp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new vi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!rl(e))throw e;de(ub,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,Ei("INTERNAL UNHANDLED ERROR: ",db(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const a=C0.createAndSchedule(this,e,t,i,l=>this.lc(l));return this.ec.push(a),a}ac(){this.tc&&we(47125,{hc:db(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function db(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class gu extends df{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new hb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hb(e),this._firestoreClient=void 0,await e}}}function c8(n,e){const t=typeof n=="object"?n:Xg(),i=typeof n=="string"?n:Td,a=Qd(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=l2("firestore");l&&l8(a,...l)}return a}function k0(n){if(n._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||u8(n),n._firestoreClient}function u8(n){var e,t,i;const a=n._freezeSettings(),l=function(m,g,y,x){return new P5(m,g,y,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,EE(x.experimentalLongPollingOptions),x.useFetchStreams,x.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new r8(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Jt.fromBase64String(e))}catch(t){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $n(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Nt("string",$n._jsonSchemaVersion),bytes:Nt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(uu(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:Nt("string",kr._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uu(e,Mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Mr(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mr._jsonSchemaVersion="firestore/vectorValue/1.0",Mr._jsonSchema={type:Nt("string",Mr._jsonSchemaVersion),vectorValues:Nt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=/^__.*__$/;class d8{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}function SE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ec:n})}}class L0{constructor(e,t,i,a,l,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new L0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:i,mc:!1});return a.fc(e),a}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Rc({path:i,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Od(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(SE(this.Ec)&&h8.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class f8{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||cf(e)}Dc(e,t,i,a=!1){return new L0({Ec:e,methodName:t,bc:i,path:Wt.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U0(n){const e=n._freezeSettings(),t=cf(n._databaseId);return new f8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AE(n,e,t,i,a,l={}){const d=n.Dc(l.merge||l.mergeFields?2:0,e,t,a);CE("Data must be an object, but it was:",d,i);const m=NE(i,d);let g,y;if(l.merge)g=new ar(d.fieldMask),y=d.fieldTransforms;else if(l.mergeFields){const x=[];for(const w of l.mergeFields){const E=p8(e,w,t);if(!d.contains(E))throw new he(te.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);y8(x,E)||x.push(E)}g=new ar(x),y=d.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,y=d.fieldTransforms;return new d8(new Gn(m),g,y)}class z0 extends V0{_toFieldTransform(e){return new aC(e.path,new Wc)}isEqual(e){return e instanceof z0}}function m8(n,e,t,i=!1){return B0(t,n.Dc(i?4:3,e))}function B0(n,e){if(RE(n=Ct(n)))return CE("Unsupported field value:",e,n),NE(n,e);if(n instanceof V0)return function(i,a){if(!SE(a.Ec))throw a.wc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,a){const l=[];let d=0;for(const m of i){let g=B0(m,a.yc(d));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),d++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Ct(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return rC(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=it.fromDate(i);return{timestampValue:Cd(a.serializer,l)}}if(i instanceof it){const l=new it(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cd(a.serializer,l)}}if(i instanceof kr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $n)return{bytesValue:qw(a.serializer,i._byteString)};if(i instanceof Rt){const l=a.databaseId,d=i.firestore._databaseId;if(!d.isEqual(l))throw a.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Mr)return function(d,m){return{mapValue:{fields:{[vw]:{stringValue:xw},[Sd]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return y0(m.serializer,y)})}}}}}}(i,a);throw a.wc(`Unsupported field value: ${Zd(i)}`)}(n,e)}function NE(n,e){const t={};return dw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(n,(i,a)=>{const l=B0(a,e.Vc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function RE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof kr||n instanceof $n||n instanceof Rt||n instanceof V0||n instanceof Mr)}function CE(n,e,t){if(!RE(t)||!uw(t)){const i=Zd(t);throw i==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+i)}}function p8(n,e,t){if((e=Ct(e))instanceof M0)return e._internalPath;if(typeof e=="string")return IE(n,e);throw Od("Field path arguments must be of type string or ",n,!1,void 0,t)}const g8=new RegExp("[~\\*/\\[\\]]");function IE(n,e,t){if(e.search(g8)>=0)throw Od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new M0(...e.split("."))._internalPath}catch{throw Od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Od(n,e,t,i,a){const l=i&&!i.isEmpty(),d=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||d)&&(g+=" (found",l&&(g+=` in field ${i}`),d&&(g+=` in document ${a}`),g+=")"),new he(te.INVALID_ARGUMENT,m+n+g)}function y8(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ff("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class v8 extends jE{data(){return super.data()}}function ff(n,e){return typeof e=="string"?IE(n,e):e instanceof M0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F0{}class H0 extends F0{}function mf(n,e,...t){let i=[];e instanceof F0&&i.push(e),i=i.concat(t),function(l){const d=l.filter(g=>g instanceof q0).length,m=l.filter(g=>g instanceof pf).length;if(d>1||d>0&&m>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class pf extends H0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new pf(e,t,i)}_apply(e){const t=this._parse(e);return OE(e._query,t),new Ns(e.firestore,e.converter,vg(e._query,t))}_parse(e){const t=U0(e.firestore);return function(l,d,m,g,y,x,w){let E;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){mb(w,x);const N=[];for(const F of w)N.push(fb(g,l,F));E={arrayValue:{values:N}}}else E=fb(g,l,w)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||mb(w,x),E=m8(m,d,w,x==="in"||x==="not-in");return At.create(y,x,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function DE(n,e,t){const i=e,a=ff("where",n);return pf._create(a,i,t)}class q0 extends F0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new q0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let d=a;const m=l.getFlattenedFilters();for(const g of m)OE(d,g),d=vg(d,g)}(e._query,t),new Ns(e.firestore,e.converter,vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class G0 extends H0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new G0(e,t)}_apply(e){const t=function(a,l,d){if(a.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(l,d)}(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,function(a,l){const d=a.explicitOrderBy.concat([l]);return new il(a.path,a.collectionGroup,d,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function gf(n,e="asc"){const t=e,i=ff("orderBy",n);return G0._create(i,t)}class $0 extends H0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new $0(e,t,i)}_apply(e){return new Ns(e.firestore,e.converter,Nd(e._query,this._limit,this._limitType))}}function K0(n){return E5("limit",n),$0._create("limit",n,"F")}function fb(n,e,t){if(typeof(t=Ct(t))=="string"){if(t==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nw(e)&&t.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(rt.fromString(t));if(!ve.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return I_(n,new ve(i))}if(t instanceof Rt)return I_(n,t._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zd(t)}.`)}function mb(n,e){if(!Array.isArray(n)||n.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OE(n,e){const t=function(a,l){for(const d of a)for(const m of d.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _8{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Da(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Sd].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(d=>xt(d.doubleValue));return new Mr(l)}convertGeoPoint(e){return new kr(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=nf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const t=vs(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);$e(Xw(i),9688,{name:e});const a=new Yc(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return a.isEqual(t)||Ei(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Cc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends jE{constructor(e,t,i,a,l,d){super(e,t,i,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(ff("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:Nt("string",va._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class ud extends va{data(e={}){return super.data(e)}}class zo{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Cc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new ud(this._firestore,this._userDataWriter,i.key,i,new Cc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map(m=>{const g=new ud(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Cc(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const g=new ud(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Cc(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,x=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),x=d.indexOf(m.doc.key)),{type:b8(m.type),doc:g,oldIndex:y,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=u0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function b8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(n){n=gs(n,Rt);const e=gs(n.firestore,gu);return a8(k0(e),n._key).then(t=>T8(e,n,t))}zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:Nt("string",zo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class ME extends _8{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function yf(n){n=gs(n,Ns);const e=gs(n.firestore,gu),t=k0(e),i=new ME(e);return x8(n._query),o8(t,n._query).then(a=>new zo(e,i,n,a))}function w8(n,e,t){n=gs(n,Rt);const i=gs(n.firestore,gu),a=PE(n.converter,e);return VE(i,[AE(U0(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Or.none())])}function E8(n,e){const t=gs(n.firestore,gu),i=P0(n),a=PE(n.converter,e);return VE(t,[AE(U0(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Or.exists(!1))]).then(()=>i)}function VE(n,e){return function(i,a){const l=new vi;return i.asyncQueue.enqueueAndForget(async()=>YI(await s8(i),a,l)),l.promise}(k0(n),e)}function T8(n,e,t){const i=t.docs.get(e._key),a=new ME(n);return new va(n,a,e._key,i,new Cc(t.hasPendingWrites,t.fromCache),e.converter)}function LE(){return new z0("serverTimestamp")}(function(e,t=!0){(function(a){tl=a})(ja),wa(new ms("firestore",(i,{instanceIdentifier:a,options:l})=>{const d=i.getProvider("app").getImmediate(),m=new gu(new p5(i.getProvider("auth-internal")),new v5(d,i.getProvider("app-check-internal")),function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(y.options.projectId,x)}(d,a),d);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Ir(g_,y_,e),Ir(g_,y_,"esm2017")})();var S8="firebase",A8="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(S8,A8,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebasestorage.googleapis.com",zE="storageBucket",N8=2*60*1e3,R8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends Ur{constructor(e,t,i=0){super(Qp(e),`Firebase Storage: ${t} (${Qp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Qp(n){return"storage/"+n}function Y0(){const n="An unknown error occurred, please check the error payload for server response.";return new pt(mt.UNKNOWN,n)}function C8(n){return new pt(mt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function I8(n){return new pt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function j8(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(mt.UNAUTHENTICATED,n)}function D8(){return new pt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function O8(n){return new pt(mt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function P8(){return new pt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k8(){return new pt(mt.CANCELED,"User canceled the upload/download.")}function M8(n){return new pt(mt.INVALID_URL,"Invalid URL '"+n+"'.")}function V8(n){return new pt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function L8(){return new pt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zE+"' property when initializing the app?")}function U8(){return new pt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function z8(){return new pt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function B8(n){return new pt(mt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rg(n){return new pt(mt.INVALID_ARGUMENT,n)}function BE(){return new pt(mt.APP_DELETED,"The Firebase app was deleted.")}function F8(n){return new pt(mt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zc(n,e){return new pt(mt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function bc(n){throw new pt(mt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Cn.makeFromUrl(e,t)}catch{return new Cn(e,"")}if(i.path==="")return i;throw V8(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+a+d,"i"),g={bucket:1,path:3};function y(J){J.path_=decodeURIComponent(J.path)}const x="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${w}/${x}/b/${a}/o${E}`,"i"),N={bucket:1,path:3},F=t===UE?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",H=new RegExp(`^https?://${F}/${a}/${P}`,"i"),U=[{regex:m,indices:g,postModify:l},{regex:S,indices:N,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let J=0;J<U.length;J++){const ne=U[J],oe=ne.regex.exec(e);if(oe){const I=oe[ne.indices.bucket];let R=oe[ne.indices.path];R||(R=""),i=new Cn(I,R),ne.postModify(i);break}}if(i==null)throw M8(e);return i}}class H8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(n,e,t){let i=1,a=null,l=null,d=!1,m=0;function g(){return m===2}let y=!1;function x(...P){y||(y=!0,e.apply(null,P))}function w(P){a=setTimeout(()=>{a=null,n(S,g())},P)}function E(){l&&clearTimeout(l)}function S(P,...H){if(y){E();return}if(P){E(),x.call(null,P,...H);return}if(g()||d){E(),x.call(null,P,...H);return}i<64&&(i*=2);let U;m===1?(m=2,U=0):U=(i+Math.random())*1e3,w(U)}let N=!1;function F(P){N||(N=!0,E(),!y&&(a!==null?(P||(m=2),clearTimeout(a),w(0)):P||(m=1)))}return w(0),l=setTimeout(()=>{d=!0,F(!0)},t),F}function G8(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(n){return n!==void 0}function K8(n){return typeof n=="object"&&!Array.isArray(n)}function Q0(n){return typeof n=="string"||n instanceof String}function pb(n){return X0()&&n instanceof Blob}function X0(){return typeof Blob<"u"}function gb(n,e,t,i){if(i<e)throw Rg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Rg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function FE(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var xa;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(xa||(xa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,t,i,a,l,d,m,g,y,x,w,E=!0,S=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=w,this.retry=E,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,F)=>{this.resolve_=N,this.reject_=F,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Qh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const d=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&l.addUploadProgressListener(d),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(d),this.pendingConnection_=null;const m=l.getErrorCode()===xa.NO_ERROR,g=l.getStatus();if(!m||Y8(g,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===xa.ABORT;i(!1,new Qh(!1,null,x));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new Qh(y,l))})},t=(i,a)=>{const l=this.resolve_,d=this.reject_,m=a.connection;if(a.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());$8(g)?l(g):l()}catch(g){d(g)}else if(m!==null){const g=Y0();g.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,g)):d(g)}else if(a.canceled){const g=this.appDelete_?BE():k8();d(g)}else{const g=P8();d(g)}};this.canceled_?t(!1,new Qh(!1,null,!0)):this.backoffId_=q8(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&G8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function X8(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function W8(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function J8(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Z8(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function ej(n,e,t,i,a,l,d=!0,m=!1){const g=FE(n.urlParams),y=n.url+g,x=Object.assign({},n.headers);return J8(x,e),X8(x,t),W8(x,l),Z8(x,i),new Q8(y,n.method,x,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,d,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nj(...n){const e=tj();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(X0())return new Blob(n);throw new pt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rj(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(n){if(typeof atob>"u")throw B8("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xp{constructor(e,t){this.data=e,this.contentType=t||null}}function sj(n,e){switch(n){case Cr.RAW:return new Xp(HE(e));case Cr.BASE64:case Cr.BASE64URL:return new Xp(qE(n,e));case Cr.DATA_URL:return new Xp(oj(e),lj(e))}throw Y0()}function HE(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,d=n.charCodeAt(++t);i=65536|(l&1023)<<10|d&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function aj(n){let e;try{e=decodeURIComponent(n)}catch{throw zc(Cr.DATA_URL,"Malformed data URL.")}return HE(e)}function qE(n,e){switch(n){case Cr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw zc(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Cr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw zc(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=ij(e)}catch(a){throw a.message.includes("polyfill")?a:zc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class GE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw zc(Cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=cj(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function oj(n){const e=new GE(n);return e.base64?qE(Cr.BASE64,e.rest):aj(e.rest)}function lj(n){return new GE(n).contentType}function cj(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,t){let i=0,a="";pb(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(pb(this.data_)){const i=this.data_,a=rj(i,e,t);return a===null?null:new ss(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ss(i,!0)}}static getBlob(...e){if(X0()){const t=e.map(i=>i instanceof ss?i.data_:i);return new ss(nj.apply(null,t))}else{const t=e.map(d=>Q0(d)?sj(Cr.RAW,d).data:d.data_);let i=0;t.forEach(d=>{i+=d.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)a[l++]=d[m]}),new ss(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(n){let e;try{e=JSON.parse(n)}catch{return null}return K8(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function hj(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function KE(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(n,e){return e}class hn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||dj}}let Xh=null;function fj(n){return!Q0(n)||n.length<2?n:KE(n)}function YE(){if(Xh)return Xh;const n=[];n.push(new hn("bucket")),n.push(new hn("generation")),n.push(new hn("metageneration")),n.push(new hn("name","fullPath",!0));function e(l,d){return fj(d)}const t=new hn("name");t.xform=e,n.push(t);function i(l,d){return d!==void 0?Number(d):d}const a=new hn("size");return a.xform=i,n.push(a),n.push(new hn("timeCreated")),n.push(new hn("updated")),n.push(new hn("md5Hash",null,!0)),n.push(new hn("cacheControl",null,!0)),n.push(new hn("contentDisposition",null,!0)),n.push(new hn("contentEncoding",null,!0)),n.push(new hn("contentLanguage",null,!0)),n.push(new hn("contentType",null,!0)),n.push(new hn("metadata","customMetadata",!0)),Xh=n,Xh}function mj(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Cn(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function pj(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const d=t[l];i[d.local]=d.xform(i,e[d.server])}return mj(i,n),i}function QE(n,e,t){const i=$E(e);return i===null?null:pj(n,i,t)}function gj(n,e,t,i){const a=$E(e);if(a===null||!Q0(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const d=encodeURIComponent;return l.split(",").map(y=>{const x=n.bucket,w=n.fullPath,E="/b/"+d(x)+"/o/"+d(w),S=W0(E,t,i),N=FE({alt:"media",token:y});return S+N})[0]}function yj(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class XE{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(n){if(!n)throw Y0()}function vj(n,e){function t(i,a){const l=QE(n,a,e);return WE(l!==null),l}return t}function xj(n,e){function t(i,a){const l=QE(n,a,e);return WE(l!==null),gj(l,a,n.host,n._protocol)}return t}function JE(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=D8():a=j8():t.getStatus()===402?a=I8(n.bucket):t.getStatus()===403?a=O8(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function _j(n){const e=JE(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=C8(n.path)),l.serverResponse=a.serverResponse,l}return t}function bj(n,e,t){const i=e.fullServerUrl(),a=W0(i,n.host,n._protocol),l="GET",d=n.maxOperationRetryTime,m=new XE(a,l,xj(n,t),d);return m.errorHandler=_j(e),m}function wj(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Ej(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=wj(null,e)),i}function Tj(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function m(){let U="";for(let J=0;J<2;J++)U=U+Math.random().toString().slice(2);return U}const g=m();d["Content-Type"]="multipart/related; boundary="+g;const y=Ej(e,i,a),x=yj(y,t),w="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,E=`\r
--`+g+"--",S=ss.getBlob(w,i,E);if(S===null)throw U8();const N={name:y.fullPath},F=W0(l,n.host,n._protocol),P="POST",H=n.maxUploadRetryTime,Q=new XE(F,P,vj(n,t),H);return Q.urlParams=N,Q.headers=d,Q.body=S.uploadData(),Q.errorHandler=JE(e),Q}class Sj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xa.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xa.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xa.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a,l){if(this.sent_)throw bc("cannot .send() more than once");if(Ss(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const d in l)l.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,l[d].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Aj extends Sj{initXhr(){this.xhr_.responseType="text"}}function ZE(){return new Aj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t){this._service=e,t instanceof Cn?this._location=t:this._location=Cn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Na(e,t)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KE(this._location.path)}get storage(){return this._service}get parent(){const e=uj(this._location.path);if(e===null)return null;const t=new Cn(this._location.bucket,e);return new Na(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw F8(e)}}function Nj(n,e,t){n._throwIfRoot("uploadBytes");const i=Tj(n.storage,n._location,YE(),new ss(e,!0),t);return n.storage.makeRequestWithTokens(i,ZE).then(a=>({metadata:a,ref:n}))}function Rj(n){n._throwIfRoot("getDownloadURL");const e=bj(n.storage,n._location,YE());return n.storage.makeRequestWithTokens(e,ZE).then(t=>{if(t===null)throw z8();return t})}function Cj(n,e){const t=hj(n._location.path,e),i=new Cn(n._location.bucket,t);return new Na(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(n){return/^[A-Za-z]+:\/\//.test(n)}function jj(n,e){return new Na(n,e)}function e4(n,e){if(n instanceof J0){const t=n;if(t._bucket==null)throw L8();const i=new Na(t,t._bucket);return e!=null?e4(i,e):i}else return e!==void 0?Cj(n,e):n}function Dj(n,e){if(e&&Ij(e)){if(n instanceof J0)return jj(n,e);throw Rg("To use ref(service, url), the first argument must be a Storage instance.")}else return e4(n,e)}function yb(n,e){const t=e==null?void 0:e[zE];return t==null?null:Cn.makeFromBucketSpec(t,n)}function Oj(n,e,t,i={}){n.host=`${e}:${t}`;const a=Ss(e);a&&($g(`https://${n.host}/b`),Kg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:h2(l,n.app.options.projectId))}class J0{constructor(e,t,i,a,l,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=d,this._bucket=null,this._host=UE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=N8,this._maxUploadRetryTime=R8,this._requests=new Set,a!=null?this._bucket=Cn.makeFromBucketSpec(a,this._host):this._bucket=yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Na(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new H8(BE());{const d=ej(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const vb="@firebase/storage",xb="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="storage";function Pj(n,e,t){return n=Ct(n),Nj(n,e,t)}function kj(n){return n=Ct(n),Rj(n)}function Mj(n,e){return n=Ct(n),Dj(n,e)}function Vj(n=Xg(),e){n=Ct(n);const i=Qd(n,t4).getImmediate({identifier:e}),a=l2("storage");return a&&Lj(i,...a),i}function Lj(n,e,t,i={}){Oj(n,e,t,i)}function Uj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new J0(t,i,a,e,ja)}function zj(){wa(new ms(t4,Uj,"PUBLIC").setMultipleInstances(!0)),Ir(vb,xb,""),Ir(vb,xb,"esm2017")}zj();const Bj={apiKey:"AIzaSyCAgxz3RRCpM30oKAkL0LbX7oO36aWF5M0",authDomain:"toptuitions-b9828.firebaseapp.com",projectId:"toptuitions-b9828",storageBucket:"toptuitions-b9828.firebasestorage.app",messagingSenderId:"111342017678",appId:"1:111342017678:web:ec857910374a5f3515bddf"},Z0=m2(Bj),as=h5(Z0),Ma=c8(Z0),Fj=Vj(Z0);function Qt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Hj=typeof Symbol=="function"&&Symbol.observable||"@@observable",_b=Hj,Wp=()=>Math.random().toString(36).substring(7).split("").join("."),qj={INIT:`@@redux/INIT${Wp()}`,REPLACE:`@@redux/REPLACE${Wp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wp()}`},Pd=qj;function ey(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function n4(n,e,t){if(typeof n!="function")throw new Error(Qt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Qt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Qt(1));return t(n4)(n,e)}let i=n,a=e,l=new Map,d=l,m=0,g=!1;function y(){d===l&&(d=new Map,l.forEach((P,H)=>{d.set(H,P)}))}function x(){if(g)throw new Error(Qt(3));return a}function w(P){if(typeof P!="function")throw new Error(Qt(4));if(g)throw new Error(Qt(5));let H=!0;y();const Q=m++;return d.set(Q,P),function(){if(H){if(g)throw new Error(Qt(6));H=!1,y(),d.delete(Q),l=null}}}function E(P){if(!ey(P))throw new Error(Qt(7));if(typeof P.type>"u")throw new Error(Qt(8));if(typeof P.type!="string")throw new Error(Qt(17));if(g)throw new Error(Qt(9));try{g=!0,a=i(a,P)}finally{g=!1}return(l=d).forEach(Q=>{Q()}),P}function S(P){if(typeof P!="function")throw new Error(Qt(10));i=P,E({type:Pd.REPLACE})}function N(){const P=w;return{subscribe(H){if(typeof H!="object"||H===null)throw new Error(Qt(11));function Q(){const J=H;J.next&&J.next(x())}return Q(),{unsubscribe:P(Q)}},[_b](){return this}}}return E({type:Pd.INIT}),{dispatch:E,subscribe:w,getState:x,replaceReducer:S,[_b]:N}}function Gj(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Pd.INIT})>"u")throw new Error(Qt(12));if(typeof t(void 0,{type:Pd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Qt(13))})}function $j(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const d=e[l];typeof n[d]=="function"&&(t[d]=n[d])}const i=Object.keys(t);let a;try{Gj(t)}catch(l){a=l}return function(d={},m){if(a)throw a;let g=!1;const y={};for(let x=0;x<i.length;x++){const w=i[x],E=t[w],S=d[w],N=E(S,m);if(typeof N>"u")throw m&&m.type,new Error(Qt(14));y[w]=N,g=g||N!==S}return g=g||i.length!==Object.keys(d).length,g?y:d}}function kd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function Kj(...n){return e=>(t,i)=>{const a=e(t,i);let l=()=>{throw new Error(Qt(15))};const d={getState:a.getState,dispatch:(g,...y)=>l(g,...y)},m=n.map(g=>g(d));return l=kd(...m)(a.dispatch),{...a,dispatch:l}}}function Yj(n){return ey(n)&&"type"in n&&typeof n.type=="string"}var r4=Symbol.for("immer-nothing"),bb=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function ir(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var $o=Object.getPrototypeOf;function Ra(n){return!!n&&!!n[In]}function Si(n){var e;return n?i4(n)||Array.isArray(n)||!!n[bb]||!!((e=n.constructor)!=null&&e[bb])||xf(n)||_f(n):!1}var Qj=Object.prototype.constructor.toString();function i4(n){if(!n||typeof n!="object")return!1;const e=$o(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Qj}function Md(n,e){vf(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function vf(n){const e=n[In];return e?e.type_:Array.isArray(n)?1:xf(n)?2:_f(n)?3:0}function Cg(n,e){return vf(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function s4(n,e,t){const i=vf(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function Xj(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function xf(n){return n instanceof Map}function _f(n){return n instanceof Set}function ma(n){return n.copy_||n.base_}function Ig(n,e){if(xf(n))return new Map(n);if(_f(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=i4(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[In];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const d=a[l],m=i[d];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(i[d]={configurable:!0,writable:!0,enumerable:m.enumerable,value:n[d]})}return Object.create($o(n),i)}else{const i=$o(n);if(i!==null&&t)return{...n};const a=Object.create(i);return Object.assign(a,n)}}function ty(n,e=!1){return bf(n)||Ra(n)||!Si(n)||(vf(n)>1&&(n.set=n.add=n.clear=n.delete=Wj),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>ty(i,!0))),n}function Wj(){ir(2)}function bf(n){return Object.isFrozen(n)}var Jj={};function Ca(n){const e=Jj[n];return e||ir(0,n),e}var eu;function a4(){return eu}function Zj(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wb(n,e){e&&(Ca("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function jg(n){Dg(n),n.drafts_.forEach(e9),n.drafts_=null}function Dg(n){n===eu&&(eu=n.parent_)}function Eb(n){return eu=Zj(eu,n)}function e9(n){const e=n[In];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Tb(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[In].modified_&&(jg(e),ir(4)),Si(n)&&(n=Vd(e,n),e.parent_||Ld(e,n)),e.patches_&&Ca("Patches").generateReplacementPatches_(t[In].base_,n,e.patches_,e.inversePatches_)):n=Vd(e,t,[]),jg(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==r4?n:void 0}function Vd(n,e,t){if(bf(e))return e;const i=e[In];if(!i)return Md(e,(a,l)=>Sb(n,i,e,a,l,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return Ld(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,d=!1;i.type_===3&&(l=new Set(a),a.clear(),d=!0),Md(l,(m,g)=>Sb(n,i,a,m,g,t,d)),Ld(n,a,!1),t&&n.patches_&&Ca("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function Sb(n,e,t,i,a,l,d){if(Ra(a)){const m=l&&e&&e.type_!==3&&!Cg(e.assigned_,i)?l.concat(i):void 0,g=Vd(n,a,m);if(s4(t,i,g),Ra(g))n.canAutoFreeze_=!1;else return}else d&&t.add(a);if(Si(a)&&!bf(a)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Vd(n,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&Ld(n,a)}}function Ld(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&ty(e,t)}function t9(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:a4(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=ny;t&&(a=[i],l=tu);const{revoke:d,proxy:m}=Proxy.revocable(a,l);return i.draft_=m,i.revoke_=d,m}var ny={get(n,e){if(e===In)return n;const t=ma(n);if(!Cg(t,e))return n9(n,t,e);const i=t[e];return n.finalized_||!Si(i)?i:i===Jp(n.base_,e)?(Zp(n),n.copy_[e]=Pg(i,n)):i},has(n,e){return e in ma(n)},ownKeys(n){return Reflect.ownKeys(ma(n))},set(n,e,t){const i=o4(ma(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const a=Jp(ma(n),e),l=a==null?void 0:a[In];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(Xj(t,a)&&(t!==void 0||Cg(n.base_,e)))return!0;Zp(n),Og(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Jp(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Zp(n),Og(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ma(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){ir(11)},getPrototypeOf(n){return $o(n.base_)},setPrototypeOf(){ir(12)}},tu={};Md(ny,(n,e)=>{tu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});tu.deleteProperty=function(n,e){return tu.set.call(this,n,e,void 0)};tu.set=function(n,e,t){return ny.set.call(this,n[0],e,t,n[0])};function Jp(n,e){const t=n[In];return(t?ma(t):n)[e]}function n9(n,e,t){var a;const i=o4(e,t);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(n.draft_):void 0}function o4(n,e){if(!(e in n))return;let t=$o(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=$o(t)}}function Og(n){n.modified_||(n.modified_=!0,n.parent_&&Og(n.parent_))}function Zp(n){n.copy_||(n.copy_=Ig(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var r9=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const d=this;return function(g=l,...y){return d.produce(g,x=>t.call(this,x,...y))}}typeof t!="function"&&ir(6),i!==void 0&&typeof i!="function"&&ir(7);let a;if(Si(e)){const l=Eb(this),d=Pg(e,void 0);let m=!0;try{a=t(d),m=!1}finally{m?jg(l):Dg(l)}return wb(l,i),Tb(a,l)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===r4&&(a=void 0),this.autoFreeze_&&ty(a,!0),i){const l=[],d=[];Ca("Patches").generateReplacementPatches_(e,a,l,d),i(l,d)}return a}else ir(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(d,...m)=>this.produceWithPatches(d,g=>e(g,...m));let i,a;return[this.produce(e,t,(d,m)=>{i=d,a=m}),i,a]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Si(n)||ir(8),Ra(n)&&(n=i9(n));const e=Eb(this),t=Pg(n,void 0);return t[In].isManual_=!0,Dg(e),t}finishDraft(n,e){const t=n&&n[In];(!t||!t.isManual_)&&ir(9);const{scope_:i}=t;return wb(i,e),Tb(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}t>-1&&(e=e.slice(t+1));const i=Ca("Patches").applyPatches_;return Ra(n)?i(n,e):this.produce(n,a=>i(a,e))}};function Pg(n,e){const t=xf(n)?Ca("MapSet").proxyMap_(n,e):_f(n)?Ca("MapSet").proxySet_(n,e):t9(n,e);return(e?e.scope_:a4()).drafts_.push(t),t}function i9(n){return Ra(n)||ir(10,n),l4(n)}function l4(n){if(!Si(n)||bf(n))return n;const e=n[In];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Ig(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Ig(n,!0);return Md(t,(i,a)=>{s4(t,i,l4(a))}),e&&(e.finalized_=!1),t}var jn=new r9,c4=jn.produce;jn.produceWithPatches.bind(jn);jn.setAutoFreeze.bind(jn);jn.setUseStrictShallowCopy.bind(jn);jn.applyPatches.bind(jn);jn.createDraft.bind(jn);jn.finishDraft.bind(jn);function u4(n){return({dispatch:t,getState:i})=>a=>l=>typeof l=="function"?l(t,i,n):a(l)}var s9=u4(),a9=u4,o9=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kd:kd.apply(null,arguments)};function Ab(n,e){function t(...i){if(e){let a=e(...i);if(!a)throw new Error(xi(0));return{type:n,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>Yj(i)&&i.type===n,t}var h4=class Ic extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Ic.prototype)}static get[Symbol.species](){return Ic}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Ic(...e[0].concat(this)):new Ic(...e.concat(this))}};function Nb(n){return Si(n)?c4(n,()=>{}):n}function Rb(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function l9(n){return typeof n=="boolean"}var c9=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let d=new h4;return t&&(l9(t)?d.push(s9):d.push(a9(t.extraArgument))),d},u9="RTK_autoBatch",Cb=n=>e=>{setTimeout(e,n)},h9=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let a=!0,l=!1,d=!1;const m=new Set,g=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Cb(10):n.type==="callback"?n.queueNotification:Cb(n.timeout),y=()=>{d=!1,l&&(l=!1,m.forEach(x=>x()))};return Object.assign({},i,{subscribe(x){const w=()=>a&&x(),E=i.subscribe(w);return m.add(x),()=>{E(),m.delete(x)}},dispatch(x){var w;try{return a=!((w=x==null?void 0:x.meta)!=null&&w[u9]),l=!a,l&&(d||(d=!0,g(y))),i.dispatch(x)}finally{a=!0}}})},d9=n=>function(t){const{autoBatch:i=!0}=t??{};let a=new h4(n);return i&&a.push(h9(typeof i=="object"?i:void 0)),a};function f9(n){const e=c9(),{reducer:t=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:d=void 0}=n||{};let m;if(typeof t=="function")m=t;else if(ey(t))m=$j(t);else throw new Error(xi(1));let g;typeof i=="function"?g=i(e):g=e();let y=kd;a&&(y=o9({trace:!1,...typeof a=="object"&&a}));const x=Kj(...g),w=d9(x);let E=typeof d=="function"?d(w):w();const S=y(...E);return n4(m,l,S)}function d4(n){const e={},t=[];let i;const a={addCase(l,d){const m=typeof l=="string"?l:l.type;if(!m)throw new Error(xi(28));if(m in e)throw new Error(xi(29));return e[m]=d,a},addMatcher(l,d){return t.push({matcher:l,reducer:d}),a},addDefaultCase(l){return i=l,a}};return n(a),[e,t,i]}function m9(n){return typeof n=="function"}function p9(n,e){let[t,i,a]=d4(e),l;if(m9(n))l=()=>Nb(n());else{const m=Nb(n);l=()=>m}function d(m=l(),g){let y=[t[g.type],...i.filter(({matcher:x})=>x(g)).map(({reducer:x})=>x)];return y.filter(x=>!!x).length===0&&(y=[a]),y.reduce((x,w)=>{if(w)if(Ra(x)){const S=w(x,g);return S===void 0?x:S}else{if(Si(x))return c4(x,E=>w(E,g));{const E=w(x,g);if(E===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return x},m)}return d.getInitialState=l,d}var g9=Symbol.for("rtk-slice-createasyncthunk");function y9(n,e){return`${n}/${e}`}function v9({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[g9];return function(a){const{name:l,reducerPath:d=l}=a;if(!l)throw new Error(xi(11));const m=(typeof a.reducers=="function"?a.reducers(_9()):a.reducers)||{},g=Object.keys(m),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},x={addCase(U,J){const ne=typeof U=="string"?U:U.type;if(!ne)throw new Error(xi(12));if(ne in y.sliceCaseReducersByType)throw new Error(xi(13));return y.sliceCaseReducersByType[ne]=J,x},addMatcher(U,J){return y.sliceMatchers.push({matcher:U,reducer:J}),x},exposeAction(U,J){return y.actionCreators[U]=J,x},exposeCaseReducer(U,J){return y.sliceCaseReducersByName[U]=J,x}};g.forEach(U=>{const J=m[U],ne={reducerName:U,type:y9(l,U),createNotation:typeof a.reducers=="function"};w9(J)?T9(ne,J,x,e):b9(ne,J,x)});function w(){const[U={},J=[],ne=void 0]=typeof a.extraReducers=="function"?d4(a.extraReducers):[a.extraReducers],oe={...U,...y.sliceCaseReducersByType};return p9(a.initialState,I=>{for(let R in oe)I.addCase(R,oe[R]);for(let R of y.sliceMatchers)I.addMatcher(R.matcher,R.reducer);for(let R of J)I.addMatcher(R.matcher,R.reducer);ne&&I.addDefaultCase(ne)})}const E=U=>U,S=new Map;let N;function F(U,J){return N||(N=w()),N(U,J)}function P(){return N||(N=w()),N.getInitialState()}function H(U,J=!1){function ne(I){let R=I[U];return typeof R>"u"&&J&&(R=P()),R}function oe(I=E){const R=Rb(S,J,()=>new WeakMap);return Rb(R,I,()=>{const C={};for(const[k,V]of Object.entries(a.selectors??{}))C[k]=x9(V,I,P,J);return C})}return{reducerPath:U,getSelectors:oe,get selectors(){return oe(ne)},selectSlice:ne}}const Q={name:l,reducer:F,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:P,...H(d),injectInto(U,{reducerPath:J,...ne}={}){const oe=J??d;return U.inject({reducerPath:oe,reducer:F},ne),{...Q,...H(oe,!0)}}};return Q}}function x9(n,e,t,i){function a(l,...d){let m=e(l);return typeof m>"u"&&i&&(m=t()),n(m,...d)}return a.unwrapped=n,a}var ry=v9();function _9(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function b9({type:n,reducerName:e,createNotation:t},i,a){let l,d;if("reducer"in i){if(t&&!E9(i))throw new Error(xi(17));l=i.reducer,d=i.prepare}else l=i;a.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,d?Ab(n,d):Ab(n))}function w9(n){return n._reducerDefinitionType==="asyncThunk"}function E9(n){return n._reducerDefinitionType==="reducerWithPrepare"}function T9({type:n,reducerName:e},t,i,a){if(!a)throw new Error(xi(18));const{payloadCreator:l,fulfilled:d,pending:m,rejected:g,settled:y,options:x}=t,w=a(n,l,x);i.exposeAction(e,w),d&&i.addCase(w.fulfilled,d),m&&i.addCase(w.pending,m),g&&i.addCase(w.rejected,g),y&&i.addMatcher(w.settled,y),i.exposeCaseReducer(e,{fulfilled:d||Wh,pending:m||Wh,rejected:g||Wh,settled:y||Wh})}function Wh(){}function xi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const S9={user:null,userType:null,userProfile:null,isAuthenticated:!1,loading:!1,error:null},f4=ry({name:"auth",initialState:S9,reducers:{setLoading:(n,e)=>{n.loading=e.payload},setError:(n,e)=>{n.error=e.payload,n.loading=!1},login:(n,e)=>{n.user=e.payload.user,n.userType=e.payload.userType,n.userProfile=e.payload.userProfile||null,n.isAuthenticated=!0,n.loading=!1,n.error=null},updateProfile:(n,e)=>{n.userProfile={...n.userProfile,...e.payload}},logout:n=>{n.user=null,n.userType=null,n.userProfile=null,n.isAuthenticated=!1,n.loading=!1,n.error=null},clearError:n=>{n.error=null}}}),{login:hd,logout:Bc,updateProfile:T7,setLoading:di,setError:Io,clearError:S7}=f4.actions,al=n=>n.auth.user,Rs=n=>n.auth.userType,wf=n=>n.auth.userProfile,Cs=n=>n.auth.isAuthenticated,A9=f4.reducer;var m4={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ib=ls.createContext&&ls.createContext(m4),N9=["attr","size","title"];function R9(n,e){if(n==null)return{};var t=C9(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function C9(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Ud(){return Ud=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ud.apply(this,arguments)}function jb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function zd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jb(Object(t),!0).forEach(function(i){I9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jb(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function I9(n,e,t){return e=j9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function j9(n){var e=D9(n,"string");return typeof e=="symbol"?e:e+""}function D9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function p4(n){return n&&n.map((e,t)=>ls.createElement(e.tag,zd({key:t},e.attr),p4(e.child)))}function Te(n){return e=>ls.createElement(O9,Ud({attr:zd({},n.attr)},e),p4(n.child))}function O9(n){var e=t=>{var{attr:i,size:a,title:l}=n,d=R9(n,N9),m=a||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),ls.createElement("svg",Ud({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,d,{className:g,style:zd(zd({color:n.color||t.color},t.style),n.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&ls.createElement("title",null,l),n.children)};return Ib!==void 0?ls.createElement(Ib.Consumer,null,t=>e(t)):e(m4)}function P9(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function k9(n){return Te({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(n)}function kg(n){return Te({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function Mg(n){return Te({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function M9(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function iy(n){return Te({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(n)}function Rr(n){return Te({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(n)}function V9(n){return Te({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function Bd(n){return Te({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(n)}function dd(n){return Te({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(n)}function Db(n){return Te({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(n)}function L9(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(n)}function Es(n){return Te({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(n)}function sy(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(n)}function Jh(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function Ko(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(n)}function ol(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(n)}function g4(n){return Te({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(n)}function yu(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function y4(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(n)}function v4(n){return Te({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(n)}function U9(n){return Te({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function Fd(n){return Te({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(n)}function Ts(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(n)}function Ob(n){return Te({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function z9(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(n)}function Pb(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(n)}function B9(n){return Te({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(n)}function Ia(n){return Te({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(n)}function kb(n){return Te({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"},child:[]}]})(n)}function Vg(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(n)}function ay(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(n)}function fd(n){return Te({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}function F9(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(n)}function x4(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(n)}function _a(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(n)}function H9(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(n)}function _4(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function mi(n){return Te({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(n)}function Hd(n){return Te({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function b4(n){return Te({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(n)}function Ef(n){return Te({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4zm323-128.4l-27.8-28.1c-4.6-4.7-12.1-4.7-16.8-.1l-104.8 104-45.5-45.8c-4.6-4.7-12.1-4.7-16.8-.1l-28.1 27.9c-4.7 4.6-4.7 12.1-.1 16.8l81.7 82.3c4.6 4.7 12.1 4.7 16.8.1l141.3-140.2c4.6-4.7 4.7-12.2.1-16.8z"},child:[]}]})(n)}function q9(n){return Te({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(n)}function qd(n){return Te({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(n)}function G9(n){return Te({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Yo(n){return Te({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}function w4(n){return Te({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(n)}const $9=()=>{var J;const n=Fe(al),e=Fe(Cs),t=Fe(Rs),i=Jo(),a=Xn(),l=Lr(),[d,m]=L.useState(!1),[g,y]=L.useState(!1),[x,w]=L.useState(!1);L.useEffect(()=>{const ne=()=>{w(window.scrollY>20)};return window.addEventListener("scroll",ne),()=>window.removeEventListener("scroll",ne)},[]),L.useEffect(()=>{m(!1),y(!1)},[l]);const E=async()=>{try{await H2(as),i(Bc()),localStorage.removeItem("userType"),a("/"),y(!1),m(!1)}catch(ne){console.error("Logout error:",ne)}},S=ne=>{a(ne),m(!1),y(!1)},N=()=>t==="tuition_owner"?"/tuition-dashboard":"/student-dashboard",F=()=>t==="tuition_owner"?"Tuition Dashboard":"Student Dashboard",P=()=>t==="tuition_owner"?h.jsx(Es,{className:"text-xl"}):h.jsx(Fd,{className:"text-xl"}),H=ne=>l.pathname===ne,Q=(n==null?void 0:n.displayName)||((J=n==null?void 0:n.email)==null?void 0:J.split("@")[0])||"User",U=n==null?void 0:n.photoURL;return h.jsxs("nav",{className:`fixed top-0 left-0 w-full z-50 transition-all duration-300 ${x?"bg-white/95 backdrop-blur-md shadow-lg":"bg-white shadow-md"}`,children:[h.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 py-3 md:py-4 flex justify-between items-center",children:[h.jsx("div",{className:"flex items-center",children:h.jsx(ye,{to:"/",className:"flex items-center gap-2",children:h.jsxs("span",{className:"text-2xl md:text-3xl font-extrabold tracking-wide",children:[h.jsx("span",{className:"text-black",children:"Top"}),h.jsx("span",{className:" bg-clip-text bg-gradient-to-r text-blue-600",children:"Tuitions"})]})})}),h.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[h.jsxs(ye,{to:"/",className:`flex items-center gap-2 font-semibold transition-all duration-300 ${H("/")?"text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:[h.jsx(Ob,{className:"text-lg"}),"Home"]}),h.jsxs(ye,{to:"/all-tuitions",className:`flex items-center gap-2 font-semibold transition-all duration-300 ${H("/all-tuitions")?"text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:[h.jsx(_a,{className:"text-lg"}),"Tuitions"]}),h.jsxs(ye,{to:"/feed",className:`flex items-center gap-2 font-semibold transition-all duration-300 ${H("/feed")?"text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:[h.jsx(kb,{className:"text-lg"}),"Feed"]}),h.jsxs(ye,{to:"/about",className:`flex items-center gap-2 font-semibold transition-all duration-300 ${H("/about")?"text-blue-600":"text-gray-700 hover:text-blue-600"}`,children:[h.jsx(Pb,{className:"text-lg"}),"About"]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"hidden lg:flex gap-4 items-center",children:[h.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-gray-600 hover:text-pink-600 transition",children:h.jsx(kg,{})}),h.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-2xl text-gray-600 hover:text-blue-600 transition",children:h.jsx(Mg,{})})]}),e&&n?h.jsxs("div",{className:"relative",children:[h.jsx("button",{onClick:()=>y(!g),className:"focus:outline-none group",children:U?h.jsx("img",{src:U,alt:"Profile",className:"w-10 h-10 md:w-12 md:h-12 rounded-full object-cover border-2 border-blue-500 shadow-md group-hover:scale-110 transition-transform duration-300"}):h.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-lg md:text-2xl font-bold shadow-md group-hover:scale-110 transition-transform duration-300",children:Q.charAt(0).toUpperCase()})}),g&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>y(!1)}),h.jsxs("div",{className:"absolute right-0 mt-4 w-80 bg-white rounded-2xl shadow-2xl border border-gray-200 overflow-hidden z-50 animate-[slideDown_0.3s_ease-out]",children:[h.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 text-center border-b",children:[U?h.jsx("img",{src:U,alt:"Profile",className:"w-20 h-20 rounded-full mx-auto border-4 border-white shadow-lg"}):h.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 mx-auto flex items-center justify-center text-white text-4xl font-bold shadow-lg",children:Q.charAt(0).toUpperCase()}),h.jsx("p",{className:"mt-4 font-bold text-xl text-gray-800",children:Q}),h.jsx("p",{className:"text-sm text-gray-600",children:n.email}),h.jsx("div",{className:"mt-3 inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-blue-100 border border-blue-200",children:t==="tuition_owner"?h.jsxs(h.Fragment,{children:[h.jsx(Es,{className:"text-purple-600"}),h.jsx("span",{className:"text-sm font-semibold text-purple-700",children:"Tuition Owner"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Fd,{className:"text-blue-600"}),h.jsx("span",{className:"text-sm font-semibold text-blue-700",children:"Student"})]})})]}),h.jsxs("div",{className:"py-2",children:[h.jsxs("button",{onClick:()=>S(N()),className:"w-full px-6 py-3 flex items-center gap-4 text-gray-700 hover:bg-blue-50 transition font-semibold",children:[P(),h.jsx("span",{children:F()})]}),h.jsxs("button",{onClick:()=>S(t==="student"?"/profile":"/tuition-profile"),className:"w-full px-6 py-3 flex items-center gap-4 text-gray-700 hover:bg-blue-50 transition font-semibold",children:[h.jsx(q9,{className:"text-xl"}),"My Profile"]}),t==="tuition_owner"&&h.jsxs("button",{onClick:()=>S("/create-post"),className:"w-full px-6 py-3 flex items-center gap-4 text-gray-700 hover:bg-blue-50 transition font-semibold",children:[h.jsx(Bd,{className:"text-xl"}),"Create Post"]})]}),h.jsx("div",{className:"border-t"}),h.jsxs("button",{onClick:E,className:"w-full px-6 py-3 flex items-center gap-4 text-red-600 hover:bg-red-50 transition font-bold",children:[h.jsx(_4,{className:"text-xl"}),"Logout"]})]})]})]}):h.jsx(ye,{to:"/login",className:"bg-black text-white px-6 py-2.5 md:px-8 md:py-3 rounded-full font-bold hover:bg-neutral-900 shadow-lg hover:shadow-xl transition-all duration-300 text-sm md:text-base",children:"Sign In"}),h.jsx("button",{className:"md:hidden text-3xl text-gray-700 hover:text-blue-600 transition",onClick:()=>m(!d),children:d?h.jsx(Hd,{}):h.jsx(V9,{})})]})]}),d&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>m(!1)}),h.jsx("div",{className:"fixed top-[72px] left-0 right-0 bg-white shadow-2xl z-50 md:hidden animate-[slideDown_0.3s_ease-out] max-h-[calc(100vh-72px)] overflow-y-auto",children:h.jsxs("div",{className:"py-6 px-4 space-y-2",children:[h.jsxs(ye,{to:"/",className:`flex items-center gap-3 px-4 py-3 rounded-xl font-semibold transition ${H("/")?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(Ob,{className:"text-xl"}),"Home"]}),h.jsxs(ye,{to:"/all-tuitions",className:`flex items-center gap-3 px-4 py-3 rounded-xl font-semibold transition ${H("/all-tuitions")?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(_a,{className:"text-xl"}),"Tuitions"]}),h.jsxs(ye,{to:"/feed",className:`flex items-center gap-3 px-4 py-3 rounded-xl font-semibold transition ${H("/feed")?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(kb,{className:"text-xl"}),"Feed"]}),h.jsxs(ye,{to:"/about",className:`flex items-center gap-3 px-4 py-3 rounded-xl font-semibold transition ${H("/about")?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(Pb,{className:"text-xl"}),"About"]}),h.jsxs("div",{className:"flex gap-4 justify-center pt-4 border-t mt-4",children:[h.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-3xl text-pink-600 hover:scale-110 transition",children:h.jsx(kg,{})}),h.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-3xl text-blue-600 hover:scale-110 transition",children:h.jsx(Mg,{})})]})]})})]})]})},K9=()=>h.jsxs("footer",{className:"bg-gradient-to-br from-gray-900 via-indigo-900 to-purple-900 text-white",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[h.jsxs("div",{children:[h.jsx(ye,{to:"/",className:"inline-block mb-4",children:h.jsxs("h2",{className:"text-4xl font-bold",children:["Top",h.jsx("span",{className:"text-blue-400",children:"Tuitions"})]})}),h.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"India's leading platform to discover and connect with top tuition centers. Find the perfect coaching for your academic success."}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition backdrop-blur-sm","aria-label":"Facebook",children:h.jsx(P9,{className:"text-lg"})}),h.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition backdrop-blur-sm","aria-label":"Twitter",children:h.jsx(M9,{className:"text-lg"})}),h.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition backdrop-blur-sm","aria-label":"Instagram",children:h.jsx(kg,{className:"text-lg"})}),h.jsx("a",{href:"#",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition backdrop-blur-sm","aria-label":"LinkedIn",children:h.jsx(Mg,{className:"text-lg"})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold mb-4 text-blue-300",children:"Quick Links"}),h.jsxs("ul",{className:"space-y-3",children:[h.jsx("li",{children:h.jsx(ye,{to:"/",className:"text-gray-300 hover:text-white hover:translate-x-1 inline-flex items-center transition",children:" Home"})}),h.jsx("li",{children:h.jsx(ye,{to:"/all-tuitions",className:"text-gray-300 hover:text-white hover:translate-x-1 inline-flex items-center transition",children:" Browse Tuitions"})}),h.jsx("li",{children:h.jsx(ye,{to:"/feed",className:"text-gray-300 hover:text-white hover:translate-x-1 inline-flex items-center transition",children:" Feed"})}),h.jsx("li",{children:h.jsx(ye,{to:"/about",className:"text-gray-300 hover:text-white hover:translate-x-1 inline-flex items-center transition",children:" About Us"})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold mb-4 text-purple-300",children:"For Users"}),h.jsxs("ul",{className:"space-y-3",children:[h.jsx("li",{children:h.jsx(ye,{to:"/login",className:"text-gray-300 hover:text-white hover:translate-x-1 inline-flex items-center transition",children:" Student Login"})}),h.jsx("li",{children:h.jsx(ye,{to:"/login",className:"text-gray-300 hover:text-white hover:translate-x-1 inline-flex items-center transition",children:" Tuition Owner Login"})}),h.jsx("li",{children:h.jsx(ye,{to:"/student-dashboard",className:"text-gray-300 hover:text-white hover:translate-x-1 inline-flex items-center transition",children:" Student Dashboard"})}),h.jsx("li",{children:h.jsx(ye,{to:"/tuition-dashboard",className:"text-gray-300 hover:text-white hover:translate-x-1 inline-flex items-center transition",children:" Tuition Dashboard"})})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold mb-4 text-pink-300",children:"Contact Us"}),h.jsxs("ul",{className:"space-y-4",children:[h.jsxs("li",{className:"flex items-start gap-3 text-gray-300",children:[h.jsx(Ia,{className:"text-blue-400 mt-1 flex-shrink-0"}),h.jsx("span",{children:"Mumbai, Maharashtra, India"})]}),h.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[h.jsx(ay,{className:"text-green-400 flex-shrink-0"}),h.jsx("span",{children:"+91 9876543210"})]}),h.jsxs("li",{className:"flex items-center gap-3 text-gray-300",children:[h.jsx(yu,{className:"text-purple-400 flex-shrink-0"}),h.jsx("span",{children:"contact@toptuitions.com"})]})]})]})]})}),h.jsx("div",{className:"border-t border-white/10",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[h.jsxs("p",{className:"text-gray-400 text-sm text-center md:text-left",children:[" ",new Date().getFullYear()," TopTuitions. All rights reserved."]}),h.jsxs("div",{className:"flex gap-6 text-sm text-gray-400",children:[h.jsx(ye,{to:"/terms",className:"hover:text-white transition",children:"Terms & Conditions"}),h.jsx(ye,{to:"/privacy",className:"hover:text-white transition",children:"Privacy Policy"})]})]}),h.jsx("div",{className:"text-center mt-6 pt-6 border-t border-white/10",children:h.jsxs("p",{className:"text-gray-400 text-sm flex items-center justify-center gap-2",children:["Designed and Developed with ",h.jsx(Ts,{className:"text-red-500 animate-pulse"})," by"," ",h.jsx("span",{className:"text-blue-400 font-semibold",children:"Sajet Dhopare"})]})})]})})]}),Y9=()=>h.jsxs("div",{className:"flex flex-col min-h-screen",children:[h.jsx($9,{}),h.jsx("main",{className:"flex-grow pt-24",children:h.jsx(Z6,{})}),h.jsx(K9,{})]}),Q9=()=>{const[n,e]=L.useState(""),[t,i]=L.useState("name"),a=Xn(),l=Fe(Cs);Fe(Rs);const d=m=>{m.preventDefault(),n.trim()&&a(`/all-tuitions?${t}=${encodeURIComponent(n)}`)};return h.jsxs("div",{className:"relative w-full min-h-[90vh] flex flex-col items-center justify-center text-white px-4 py-20 overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center animate-[zoomIn_20s_ease-in-out_infinite_alternate]",style:{backgroundImage:"url(/top-Tutions/hero-bg.jpg)"}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900/80 via-indigo-900/75 to-purple-900/80"}),h.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[h.jsx("div",{className:"absolute w-2 h-2 bg-white/30 rounded-full animate-[float_6s_ease-in-out_infinite] top-[20%] left-[10%]"}),h.jsx("div",{className:"absolute w-3 h-3 bg-blue-300/40 rounded-full animate-[float_8s_ease-in-out_infinite] top-[60%] left-[80%]"}),h.jsx("div",{className:"absolute w-2 h-2 bg-purple-300/30 rounded-full animate-[float_7s_ease-in-out_infinite] top-[40%] left-[70%]"}),h.jsx("div",{className:"absolute w-4 h-4 bg-white/20 rounded-full animate-[float_9s_ease-in-out_infinite] top-[80%] left-[20%]"}),h.jsx("div",{className:"absolute w-2 h-2 bg-yellow-300/40 rounded-full animate-[float_5s_ease-in-out_infinite] top-[30%] left-[90%]"})]}),h.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto text-center",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-4 leading-tight animate-[slideDown_0.8s_ease-out]",children:["Find Your Perfect",h.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-orange-400 to-pink-400 animate-[shimmer_3s_ease-in-out_infinite]",children:"Tuition Center"})]}),h.jsx("p",{className:"text-xl md:text-2xl text-blue-100 max-w-3xl mx-auto animate-[slideUp_0.8s_ease-out_0.2s_both]",children:"Connect with top tuition centers, read updates, and enroll in classes that match your goals"})]}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-12 animate-[slideUp_0.8s_ease-out_0.4s_both]",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-md px-6 py-3 rounded-full border border-white/20 hover:bg-white/20 hover:scale-105 transition-all duration-300 cursor-pointer",children:[h.jsx(Fd,{className:"text-yellow-300 animate-bounce"}),h.jsx("span",{className:"font-semibold",children:"1000+ Tuition Centers"})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-md px-6 py-3 rounded-full border border-white/20 hover:bg-white/20 hover:scale-105 transition-all duration-300 cursor-pointer",children:[h.jsx(Yo,{className:"text-green-300 animate-pulse"}),h.jsx("span",{className:"font-semibold",children:"Real-time Updates"})]})]}),h.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:h.jsx("form",{onSubmit:d,className:"bg-white border-2 border-gray-300 rounded-lg shadow-sm p-2 hover:border-blue-600 transition-colors",children:h.jsx("div",{className:"flex flex-col md:flex-row gap-2",children:h.jsxs("div",{className:"flex-1 flex",children:[h.jsx("input",{type:"text",placeholder:"Search by tuition name or location...",value:n,onChange:m=>e(m.target.value),className:"flex-1 px-4 py-3 text-gray-800 text-lg focus:outline-none"}),h.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-8 py-3 rounded-md font-semibold hover:bg-blue-700 transition-colors flex items-center gap-2",children:[h.jsx(_a,{}),h.jsx("span",{className:"hidden md:inline",children:"Search"})]})]})})})}),h.jsxs("div",{className:"flex justify-center gap-6 mb-8 text-sm",children:[h.jsx(ye,{to:"/all-tuitions",className:"text-blue-600 hover:text-blue-700 font-semibold hover:underline",children:"Browse All Tuitions"}),h.jsx("span",{className:"text-gray-400",children:"|"}),h.jsx(ye,{to:"/feed",className:"text-blue-600 hover:text-blue-700 font-semibold hover:underline",children:"View Updates"})]}),!l&&h.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[h.jsx(ye,{to:"/login",className:"bg-blue-600 text-white px-8 py-3 rounded-md font-semibold hover:bg-blue-700 transition-colors text-lg",children:"Get Started"}),h.jsx(ye,{to:"/about",className:"bg-white text-blue-600 border-2 border-blue-600 px-8 py-3 rounded-md font-semibold hover:bg-blue-50 transition-colors text-lg",children:"Learn More"})]})]})]})},X9=n=>`/top-Tutions/${n.startsWith("/")?n.slice(1):n}`,Mb=["images/tuition1.avif","images/tuition2.jpg","images/tuition3.jpg","images/tuition4.jpg","images/tuition5.jpg","images/tuition6.jpg","images/tuition7.jpg","images/tuition8.jpg","images/tuition9.jpg","images/tuition10.jpg","images/tuition11.jpg","images/tuition12.jpg","images/tuition13.jpg","images/tuition14.jpg","images/tuition15.jpg","images/tuition16.jpg","images/tuition17.jpg","images/tuition18.jpg","images/tuition19.jpg","images/tuition20.jpg","images/tuition21.jpg","images/tuition22.jpg","images/tuition23.jpg","images/tuition24.jpg","images/tuition25.jpg"].map(X9),Vb=["FIITJEE","Allen","Aakash","Resonance","Vibrant","Bansal","Narayana","PACE","Motion","Rao IIT","Vidyamandir","Sri Chaitanya","Brilliant","Super 30","Drishti IAS","Vision IAS","Vajiram","Unacademy","Physics Wallah","Vedantu","Byju's","Mahesh Tutorials","Lakshya","Prime","Elite","Quantum","Target Point","Success Forum"],Lb=["Kota","Delhi","Mumbai","Pune","Bangalore","Hyderabad","Chennai","Jaipur","Lucknow","Patna","Ahmedabad","Indore","Bhopal","Nagpur","Online"],Ub=[""," Prime"," Elite"," Pro"," Advanced"," Foundation"," Plus"," Pinnacle"," Junior"],ya=Array.from({length:1e3},(n,e)=>{const t=e%Vb.length,i=Math.floor(e/30)%Lb.length,a=e%9===0?Ub[Math.floor(Math.random()*Ub.length)]:"";return{id:e+1,name:Vb[t]+a,location:Lb[i],rating:Number((4.1+Math.random()*.9).toFixed(1))}}),nu=n=>Mb[(n-1)%Mb.length],W9=()=>{const n=ya.sort((e,t)=>t.rating-e.rating).slice(0,12);return h.jsx("section",{className:"py-20 px-4 bg-white",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:"Top Rated Tuition Centers"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Explore highly-rated tuition centers trusted by thousands of students"})]}),h.jsx("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:n.map(e=>h.jsxs(ye,{to:`/tuition/${e.id}`,className:"group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100 hover:-translate-y-2",children:[h.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100",children:[h.jsx("img",{src:nu(e.id),alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),h.jsxs("div",{className:"absolute top-4 right-4 bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full shadow-lg flex items-center gap-1",children:[h.jsx(mi,{className:"text-yellow-500 text-sm"}),h.jsx("span",{className:"font-bold text-gray-800",children:e.rating})]})]}),h.jsxs("div",{className:"p-5",children:[h.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:e.name}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2 text-sm mb-4",children:[h.jsx(Ia,{className:"text-blue-600"}),e.location]}),h.jsxs("button",{className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2.5 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 flex items-center justify-center gap-2",children:["View Details",h.jsx(Rr,{className:"text-sm"})]})]})]},e.id))}),h.jsx("div",{className:"md:hidden relative",children:h.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide",children:n.map(e=>h.jsxs(ye,{to:`/tuition/${e.id}`,className:"flex-shrink-0 w-[280px] snap-center bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100",children:[h.jsxs("div",{className:"relative h-40 overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100",children:[h.jsx("img",{src:nu(e.id),alt:e.name,className:"w-full h-full object-cover"}),h.jsxs("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full shadow-lg flex items-center gap-1",children:[h.jsx(mi,{className:"text-yellow-500 text-sm"}),h.jsx("span",{className:"font-bold text-gray-800",children:e.rating})]})]}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"text-base font-bold text-gray-800 mb-2 line-clamp-2",children:e.name}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2 text-sm mb-3",children:[h.jsx(Ia,{className:"text-blue-600"}),e.location]}),h.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2 rounded-xl font-semibold text-sm",children:"View Details"})]})]},e.id))})}),h.jsx("div",{className:"text-center mt-12",children:h.jsxs(ye,{to:"/all-tuitions",className:"inline-flex items-center gap-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:["Explore All Tuition Centers",h.jsx(Rr,{})]})})]})})},J9=()=>{const n=[{id:1,tuitionName:"FIITJEE Kota",tuitionImage:"https://via.placeholder.com/400x300?text=FIITJEE",content:" Congratulations to our students! 15 students selected in JEE Advanced 2024. Hard work pays off! Join our next batch starting next month.",timestamp:"2 hours ago",likes:234,comments:45,enrollments:12},{id:2,tuitionName:"Allen Career Institute",tuitionImage:"https://via.placeholder.com/400x300?text=Allen",content:"New NEET batch starting from January 15th! Limited seats available. Expert faculty, comprehensive study material, and regular mock tests. Enroll now!",timestamp:"5 hours ago",likes:189,comments:32,enrollments:8},{id:3,tuitionName:"Resonance Jaipur",tuitionImage:"https://via.placeholder.com/400x300?text=Resonance",content:"Special workshop on Problem Solving Techniques this weekend! Free for all enrolled students. Guest lecture by IIT Delhi Professor. Register now! ",timestamp:"1 day ago",likes:156,comments:28,enrollments:15}];return h.jsx("section",{className:"py-20 px-4 bg-gradient-to-br from-indigo-50 to-purple-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:"Latest Updates"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Stay connected with what's happening at top tuition centers"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:n.map(e=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group border border-gray-100 hover:-translate-y-2",children:[h.jsx("div",{className:"p-5 border-b border-gray-100",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center text-white font-bold text-lg",children:e.tuitionName.charAt(0)}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-800 group-hover:text-blue-600 transition-colors",children:e.tuitionName}),h.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[h.jsx(Ko,{className:"text-[10px]"}),e.timestamp]})]})]})}),h.jsxs("div",{className:"p-5",children:[h.jsx("p",{className:"text-gray-700 line-clamp-4 mb-4 leading-relaxed",children:e.content}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 border-t border-gray-100 pt-4",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Ts,{className:"text-red-500"}),h.jsx("span",{className:"font-semibold",children:e.likes})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(ol,{className:"text-blue-500"}),h.jsx("span",{className:"font-semibold",children:e.comments})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Ef,{className:"text-green-500"}),h.jsx("span",{className:"font-semibold",children:e.enrollments})]})]})]}),h.jsx("div",{className:"px-5 pb-5",children:h.jsx(ye,{to:"/feed",className:"w-full block text-center bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2.5 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-300",children:"View Full Post"})})]},e.id))}),h.jsx("div",{className:"text-center",children:h.jsxs(ye,{to:"/feed",className:"inline-flex items-center gap-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:["View All Updates",h.jsx(Rr,{})]})})]})})},Z9=()=>{const n=Fe(Cs),e=Fe(Rs);return h.jsxs("section",{className:"py-20 px-4 bg-gradient-to-br from-blue-600 via-indigo-700 to-purple-800 relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 opacity-10",children:h.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),h.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[n?h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:e==="student"?"Keep Exploring and Learning! ":"Keep Growing Your Community! "}),h.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-12 max-w-3xl mx-auto",children:e==="student"?"Discover more tuition centers, engage with posts, and find the perfect classes for your academic goals":"Share more updates, connect with students, and build a thriving learning community"}),h.jsx("div",{className:"flex flex-wrap justify-center gap-6",children:e==="student"?h.jsxs(h.Fragment,{children:[h.jsxs(ye,{to:"/feed",className:"inline-flex items-center gap-3 bg-white text-blue-600 px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all duration-300 shadow-lg",children:["Explore Feed",h.jsx(Rr,{})]}),h.jsxs(ye,{to:"/all-tuitions",className:"inline-flex items-center gap-3 bg-white/10 backdrop-blur-md text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-white/20 transition-all duration-300 border-2 border-white/30",children:["Browse Tuitions",h.jsx(Rr,{})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs(ye,{to:"/create-post",className:"inline-flex items-center gap-3 bg-gradient-to-r from-yellow-400 to-orange-500 text-gray-900 px-8 py-4 rounded-xl font-bold text-lg hover:from-yellow-500 hover:to-orange-600 transition-all duration-300 shadow-lg",children:["Create New Post",h.jsx(Rr,{})]}),h.jsxs(ye,{to:"/tuition-dashboard",className:"inline-flex items-center gap-3 bg-white text-blue-600 px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all duration-300 shadow-lg",children:["Go to Dashboard",h.jsx(Rr,{})]})]})})]}):h.jsxs("div",{className:"text-center",children:[h.jsx(x4,{className:"text-7xl text-yellow-300 mx-auto mb-6 animate-bounce"}),h.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:"Ready to Start Your Journey?"}),h.jsx("p",{className:"text-xl md:text-2xl text-blue-100 mb-12 max-w-3xl mx-auto",children:"Join thousands of students and tuition centers already using our platform to achieve their goals"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[h.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-white/20 hover:bg-white/20 transition-all duration-300",children:[h.jsx(qd,{className:"text-6xl text-yellow-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"For Students"}),h.jsx("p",{className:"text-blue-100 mb-6",children:"Discover top tuition centers, read updates, and enroll in classes that match your goals"}),h.jsxs(ye,{to:"/login",className:"inline-flex items-center gap-2 bg-white text-blue-600 px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all duration-300 shadow-lg",children:["Join as Student",h.jsx(Rr,{})]})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl p-8 border-2 border-white/20 hover:bg-white/20 transition-all duration-300",children:[h.jsx(Es,{className:"text-6xl text-green-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"For Tuition Owners"}),h.jsx("p",{className:"text-blue-100 mb-6",children:"Create posts, share achievements, and connect with students to grow your tuition center"}),h.jsxs(ye,{to:"/login",className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-500 to-teal-500 text-white px-8 py-4 rounded-xl font-bold text-lg hover:from-green-600 hover:to-teal-600 transition-all duration-300 shadow-lg",children:["Join as Owner",h.jsx(Rr,{})]})]})]})]}),h.jsx("div",{className:"mt-16 text-center",children:h.jsxs("p",{className:"text-blue-200 text-sm",children:["Trusted by ",h.jsx("span",{className:"font-bold text-white",children:"50,000+ students"})," and ",h.jsx("span",{className:"font-bold text-white",children:"1,000+ tuition centers"})]})})]})]})},e7=()=>{const n=[{icon:h.jsx(Fd,{className:"text-5xl"}),number:"1000+",label:"Tuition Centers",color:"from-blue-500 to-indigo-600",bgColor:"bg-blue-50",iconColor:"text-blue-600"},{icon:h.jsx(Yo,{className:"text-5xl"}),number:"50,000+",label:"Active Students",color:"from-purple-500 to-pink-600",bgColor:"bg-purple-50",iconColor:"text-purple-600"},{icon:h.jsx(Es,{className:"text-5xl"}),number:"5,000+",label:"Expert Teachers",color:"from-green-500 to-teal-600",bgColor:"bg-green-50",iconColor:"text-green-600"},{icon:h.jsx(Ts,{className:"text-5xl"}),number:"100,000+",label:"Happy Reviews",color:"from-orange-500 to-red-600",bgColor:"bg-orange-50",iconColor:"text-orange-600"}];return h.jsx("section",{className:"py-16 px-4 bg-white",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 mb-3",children:"Trusted by Thousands"}),h.jsx("p",{className:"text-lg text-gray-600",children:"Join India's fastest growing education community"})]}),h.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((e,t)=>h.jsxs("div",{className:"group bg-white rounded-2xl p-8 text-center shadow-lg hover:shadow-2xl transition-all duration-300 border-2 border-gray-100 hover:border-transparent hover:-translate-y-2",children:[h.jsx("div",{className:`${e.bgColor} w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300`,children:h.jsx("div",{className:e.iconColor,children:e.icon})}),h.jsx("h3",{className:`text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r ${e.color} bg-clip-text text-transparent`,children:e.number}),h.jsx("p",{className:"text-gray-600 font-semibold text-sm md:text-base",children:e.label})]},t))}),h.jsx("div",{className:"text-center mt-12",children:h.jsxs("p",{className:"text-gray-600 text-lg",children:[h.jsx("span",{className:"font-bold text-blue-600",children:"Growing every day"})," - Be part of something amazing!"]})})]})})},t7=()=>(Xn(),Fe(Cs),Fe(Rs),h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[h.jsx(Q9,{}),h.jsx(e7,{}),h.jsx(W9,{}),h.jsx(J9,{}),h.jsx(Z9,{})]})),n7={items:[],loading:!1,error:null,hasMore:!0,lastVisible:null},E4=ry({name:"posts",initialState:n7,reducers:{setLoading:(n,e)=>{n.loading=e.payload},setError:(n,e)=>{n.error=e.payload,n.loading=!1},setPosts:(n,e)=>{n.items=e.payload,n.loading=!1,n.error=null},addPost:(n,e)=>{n.items.unshift(e.payload),n.loading=!1},updatePost:(n,e)=>{const t=n.items.findIndex(i=>i.id===e.payload.id);t!==-1&&(n.items[t]={...n.items[t],...e.payload})},deletePost:(n,e)=>{n.items=n.items.filter(t=>t.id!==e.payload)},loadMorePosts:(n,e)=>{n.items=[...n.items,...e.payload.posts],n.lastVisible=e.payload.lastVisible,n.hasMore=e.payload.hasMore,n.loading=!1},incrementLikes:(n,e)=>{const t=n.items.find(i=>i.id===e.payload);t&&(t.likes=(t.likes||0)+1)},decrementLikes:(n,e)=>{const t=n.items.find(i=>i.id===e.payload);t&&t.likes>0&&(t.likes-=1)},incrementComments:(n,e)=>{const t=n.items.find(i=>i.id===e.payload);t&&(t.comments=(t.comments||0)+1)},incrementEnrollments:(n,e)=>{const t=n.items.find(i=>i.id===e.payload);t&&(t.enrollments=(t.enrollments||0)+1)},clearPosts:n=>{n.items=[],n.loading=!1,n.error=null,n.hasMore=!0,n.lastVisible=null}}}),{setLoading:r7,setError:A7,setPosts:i7,addPost:s7,updatePost:N7,deletePost:R7,loadMorePosts:C7,incrementLikes:I7,decrementLikes:j7,incrementComments:D7,incrementEnrollments:O7,clearPosts:P7}=E4.actions,a7=n=>n.posts.items,o7=n=>n.posts.loading,l7=E4.reducer,c7=()=>{const n=Jo(),e=Fe(a7),t=Fe(o7),i=Fe(Cs),a=Fe(Rs),[l,d]=L.useState("all"),[m,g]=L.useState("recent");L.useEffect(()=>{(async()=>{n(r7(!0));try{const E=pu(Ma,"posts"),S=mf(E,gf("createdAt","desc"),K0(50)),F=(await yf(S)).docs.map(P=>({id:P.id,...P.data()}));n(i7(F))}catch(E){console.error("Error fetching posts:",E)}})()},[n]);const y=e.length===0?[{id:1,tuitionName:"FIITJEE Kota",tuitionId:"fiitjee_kota",ownerPhoto:null,content:" Congratulations to our students! 15 students selected in JEE Advanced 2024. Hard work pays off! Join our next batch starting next month. Limited seats available. Contact us for details.",images:[],createdAt:new Date(Date.now()-2*60*60*1e3),likes:234,comments:45,enrollments:12},{id:2,tuitionName:"Allen Career Institute",tuitionId:"allen_jaipur",ownerPhoto:null,content:"New NEET batch starting from January 15th!  Expert faculty, comprehensive study material, regular mock tests, and doubt sessions. Early bird discount of 20% for registrations before Dec 31st. Limited seats!",images:[],createdAt:new Date(Date.now()-5*60*60*1e3),likes:189,comments:32,enrollments:8},{id:3,tuitionName:"Resonance Eduventures",tuitionId:"resonance_kota",ownerPhoto:null,content:"Special workshop on Problem Solving Techniques this weekend!  Free for all enrolled students. Guest lecture by IIT Delhi Professor Dr. Sharma. Topics: Advanced calculus, Integration techniques, and Time management. Register now!",images:[],createdAt:new Date(Date.now()-24*60*60*1e3),likes:156,comments:28,enrollments:15}]:e,x=w=>{if(!w)return"Just now";const E=Math.floor((new Date-w)/1e3);return E<60?"Just now":E<3600?`${Math.floor(E/60)} minutes ago`:E<86400?`${Math.floor(E/3600)} hours ago`:`${Math.floor(E/86400)} days ago`};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 pt-20 pb-16 px-4",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Feed"}),h.jsx("p",{className:"text-gray-600",children:"Latest updates from tuition centers"})]}),i&&a==="tuition_owner"&&h.jsxs(ye,{to:"/create-post",className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-lg flex items-center gap-2",children:[h.jsx(fd,{}),"Create Post"]})]})}),h.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-4 mb-8",children:h.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(y4,{className:"text-gray-600"}),h.jsx("span",{className:"font-semibold text-gray-700",children:"Filter:"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>d("all"),className:`px-4 py-2 rounded-lg font-semibold transition ${l==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Posts"}),i&&a==="student"&&h.jsx("button",{onClick:()=>d("enrolled"),className:`px-4 py-2 rounded-lg font-semibold transition ${l==="enrolled"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Enrolled"}),h.jsx("button",{onClick:()=>d("popular"),className:`px-4 py-2 rounded-lg font-semibold transition ${l==="popular"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Popular"})]}),h.jsx("div",{className:"ml-auto",children:h.jsxs("select",{value:m,onChange:w=>g(w.target.value),className:"px-4 py-2 rounded-lg border-2 border-gray-200 font-semibold focus:outline-none focus:border-blue-500",children:[h.jsx("option",{value:"recent",children:"Most Recent"}),h.jsx("option",{value:"popular",children:"Most Popular"})]})})]})}),t&&h.jsxs("div",{className:"text-center py-20",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto"}),h.jsx("p",{className:"text-gray-600 mt-4 font-semibold",children:"Loading posts..."})]}),!t&&h.jsx("div",{className:"space-y-6",children:y.map(w=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100",children:[h.jsx("div",{className:"p-5 border-b border-gray-100",children:h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl shadow-lg",children:w.tuitionName.charAt(0)}),h.jsxs("div",{children:[h.jsx(ye,{to:`/tuition/${w.tuitionId}`,className:"font-bold text-gray-800 hover:text-blue-600 transition-colors text-lg",children:w.tuitionName}),h.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[h.jsx(Ko,{className:"text-xs"}),x(w.createdAt)]})]})]})})}),h.jsxs("div",{className:"p-6",children:[h.jsx("p",{className:"text-gray-800 leading-relaxed whitespace-pre-line",children:w.content}),w.images&&w.images.length>0&&h.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:w.images.map((E,S)=>h.jsx("img",{src:E,alt:"Post",className:"w-full h-48 object-cover rounded-xl"},S))})]}),h.jsxs("div",{className:"px-6 pb-5",children:[h.jsxs("div",{className:"flex items-center gap-6 text-gray-600 border-t border-gray-100 pt-4",children:[h.jsxs("button",{className:"flex items-center gap-2 hover:text-red-500 transition-colors",children:[h.jsx(w4,{className:"text-xl"}),h.jsx("span",{className:"font-semibold",children:w.likes})]}),h.jsxs("button",{className:"flex items-center gap-2 hover:text-blue-500 transition-colors",children:[h.jsx(ol,{className:"text-xl"}),h.jsx("span",{className:"font-semibold",children:w.comments})]}),h.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[h.jsx(Ef,{className:"text-xl"}),h.jsxs("span",{className:"font-semibold",children:[w.enrollments," enrolled"]})]})]}),i&&a==="student"&&h.jsxs("div",{className:"mt-4 flex gap-3",children:[h.jsx("button",{className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-300",children:"Enroll Now"}),h.jsx("button",{className:"px-6 bg-gray-100 text-gray-700 py-3 rounded-xl font-semibold hover:bg-gray-200 transition-all duration-300",children:"Comment"})]})]})]},w.id))}),!t&&y.length===0&&h.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl shadow-lg",children:[h.jsx("p",{className:"text-2xl text-gray-600 mb-4",children:"No posts yet"}),h.jsx("p",{className:"text-gray-500",children:"Check back later for updates from tuition centers"})]}),!i&&h.jsxs("div",{className:"mt-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl p-8 text-center text-white shadow-2xl",children:[h.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Want to engage with posts?"}),h.jsx("p",{className:"text-blue-100 mb-6",children:"Sign up to like, comment, and enroll in classes"}),h.jsx(ye,{to:"/login",className:"inline-block bg-white text-blue-600 px-8 py-3 rounded-xl font-bold hover:bg-gray-100 transition-all duration-300",children:"Sign Up Now"})]})]})})},u7=()=>{const{id:n}=U6(),e=Xn(),t=ya.find(oe=>oe.id===parseInt(n)),i=Fe(Cs),a=Fe(al),l=Fe(Rs),[d,m]=L.useState([]),[g,y]=L.useState(!0),[x,w]=L.useState([{user:"Rahul Sharma",rating:5,text:"Excellent coaching! The faculty is very supportive and knowledgeable.",date:"2 weeks ago"},{user:"Priya Patel",rating:4,text:"Good study material and regular tests. Helped me improve a lot.",date:"1 month ago"},{user:"Arjun Kumar",rating:5,text:"Best tuition in the area. Highly recommended for JEE preparation!",date:"1 month ago"}]),[E,S]=L.useState(""),[N,F]=L.useState(5),[P,H]=L.useState("about");if(L.useEffect(()=>{(async()=>{try{const I=pu(Ma,"posts"),R=mf(I,DE("tuitionId","==",n),gf("createdAt","desc"),K0(10)),k=(await yf(R)).docs.map(V=>({id:V.id,...V.data()}));m(k)}catch(I){console.error("Error fetching posts:",I)}finally{y(!1)}})()},[n]),!t)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Tuition Not Found"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"The tuition center you're looking for doesn't exist."}),h.jsx(ye,{to:"/all-tuitions",className:"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition",children:"Browse All Tuitions"})]})});const Q=ya.filter(oe=>oe.location===t.location&&oe.id!==t.id).slice(0,5),U=()=>{E.trim()&&i&&(w([{user:a.displayName||a.email,rating:N,text:E,date:"Just now"},...x]),S(""),F(5))},J=oe=>{if(!oe)return"Just now";const I=Math.floor((new Date-oe)/1e3);return I<60?"Just now":I<3600?`${Math.floor(I/60)} minutes ago`:I<86400?`${Math.floor(I/3600)} hours ago`:`${Math.floor(I/86400)} days ago`},ne=(x.reduce((oe,I)=>oe+I.rating,0)/x.length).toFixed(1);return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 pt-20 pb-16",children:[h.jsxs("div",{className:"relative w-full h-80 overflow-hidden",children:[h.jsx("img",{src:nu(t.id),alt:t.name,className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-black/30"}),h.jsxs("button",{onClick:()=>e(-1),className:"absolute top-6 left-6 bg-white/10 backdrop-blur-md text-white px-4 py-2 rounded-xl font-semibold hover:bg-white/20 transition flex items-center gap-2 border border-white/30",children:[h.jsx(iy,{}),"Back"]}),h.jsx("button",{className:"absolute top-6 right-6 bg-white/10 backdrop-blur-md text-white p-3 rounded-xl hover:bg-white/20 transition border border-white/30",children:h.jsx(H9,{})}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-3",children:t.name}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-lg",children:[h.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/30",children:[h.jsx(Ia,{className:"text-yellow-300"}),h.jsx("span",{children:t.location})]}),h.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/30",children:[h.jsx(mi,{className:"text-yellow-300"}),h.jsx("span",{className:"font-bold",children:ne}),h.jsxs("span",{className:"text-blue-200",children:["(",x.length," reviews)"]})]})]})]})})]}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-2 flex gap-2",children:[h.jsx("button",{onClick:()=>H("about"),className:`flex-1 py-3 rounded-xl font-semibold transition ${P==="about"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"About"}),h.jsxs("button",{onClick:()=>H("posts"),className:`flex-1 py-3 rounded-xl font-semibold transition ${P==="posts"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:["Posts (",d.length,")"]}),h.jsxs("button",{onClick:()=>H("reviews"),className:`flex-1 py-3 rounded-xl font-semibold transition ${P==="reviews"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:["Reviews (",x.length,")"]})]}),P==="about"&&h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:["About ",t.name]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Description"}),h.jsxs("p",{className:"text-gray-600 leading-relaxed",children:[t.name," is one of the leading coaching institutes in ",t.location,". We provide comprehensive preparation for JEE, NEET, and other competitive exams with experienced faculty and proven teaching methodologies. Our state-of-the-art facilities and personalized attention help students achieve their academic goals."]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:h.jsx(Es,{className:"text-blue-600 text-xl"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:"Expert Faculty"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Experienced teachers from IIT/NIT"})]})]}),h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center flex-shrink-0",children:h.jsx(Yo,{className:"text-green-600 text-xl"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:"Small Batches"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Max 30 students per batch"})]})]}),h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center flex-shrink-0",children:h.jsx(Ko,{className:"text-purple-600 text-xl"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:"Flexible Timings"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"Morning & evening batches"})]})]}),h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center flex-shrink-0",children:h.jsx(mi,{className:"text-orange-600 text-xl"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800",children:"Proven Results"}),h.jsx("p",{className:"text-gray-600 text-sm",children:"95% success rate"})]})]})]}),h.jsxs("div",{className:"border-t pt-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Contact Information"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[h.jsx(ay,{className:"text-blue-600"}),h.jsx("span",{children:"+91 9876543210"})]}),h.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[h.jsx(yu,{className:"text-blue-600"}),h.jsxs("span",{children:["contact@",t.name.toLowerCase().replace(/\s+/g,""),".com"]})]}),h.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[h.jsx(U9,{className:"text-blue-600"}),h.jsxs("a",{href:"#",className:"text-blue-600 hover:underline",children:["www.",t.name.toLowerCase().replace(/\s+/g,""),".com"]})]})]})]})]})]}),P==="posts"&&h.jsx("div",{className:"space-y-6",children:g?h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto"}),h.jsx("p",{className:"text-gray-600 mt-4",children:"Loading posts..."})]}):d.length>0?d.map(oe=>h.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:t.name.charAt(0)}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-800",children:t.name}),h.jsx("p",{className:"text-sm text-gray-500",children:J(oe.createdAt)})]})]})}),h.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:oe.content}),h.jsxs("div",{className:"flex items-center gap-6 text-gray-600 border-t pt-4",children:[h.jsxs("button",{className:"flex items-center gap-2 hover:text-red-500 transition",children:[h.jsx(w4,{}),h.jsx("span",{children:oe.likes||0})]}),h.jsxs("button",{className:"flex items-center gap-2 hover:text-blue-500 transition",children:[h.jsx(ol,{}),h.jsx("span",{children:oe.comments||0})]}),h.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[h.jsx(Ef,{}),h.jsxs("span",{children:[oe.enrollments||0," enrolled"]})]})]})]})},oe.id)):h.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:h.jsx("p",{className:"text-gray-600 text-lg",children:"No posts yet from this tuition center"})})}),P==="reviews"&&h.jsxs("div",{className:"space-y-6",children:[i&&l==="student"?h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Write a Review"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Rating"}),h.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(oe=>h.jsx("button",{onClick:()=>F(oe),className:"text-3xl transition",children:h.jsx(mi,{className:oe<=N?"text-yellow-500":"text-gray-300"})},oe))})]}),h.jsx("textarea",{value:E,onChange:oe=>S(oe.target.value),className:"w-full border-2 border-gray-200 p-4 rounded-xl focus:outline-none focus:border-blue-500 resize-none",rows:"4",placeholder:"Share your experience with this tuition center..."}),h.jsx("button",{onClick:U,disabled:!E.trim(),className:"mt-4 bg-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Review"})]}):i?null:h.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-2xl p-6 text-center",children:[h.jsx("p",{className:"text-gray-700 mb-4",children:"Want to share your experience?"}),h.jsx(ye,{to:"/login",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition",children:"Login to Write a Review"})]}),h.jsx("div",{className:"space-y-4",children:x.map((oe,I)=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[h.jsx("div",{className:"flex items-start justify-between mb-3",children:h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-gray-800",children:oe.user}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx("div",{className:"flex",children:[...Array(5)].map((R,C)=>h.jsx(mi,{className:C<oe.rating?"text-yellow-500":"text-gray-300"},C))}),h.jsx("span",{className:"text-sm text-gray-500",children:oe.date})]})]})}),h.jsx("p",{className:"text-gray-700 leading-relaxed",children:oe.text})]},I))})]})]}),h.jsxs("div",{className:"space-y-6",children:[i&&l==="student"&&h.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl shadow-2xl p-6 text-white",children:[h.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Ready to Join?"}),h.jsxs("p",{className:"text-blue-100 mb-6",children:["Start your journey with ",t.name," today!"]}),h.jsx("button",{className:"w-full bg-white text-blue-600 py-3 rounded-xl font-bold hover:bg-gray-100 transition shadow-lg",children:"Enroll Now"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Nearby Tuitions"}),Q.length>0?h.jsx("div",{className:"space-y-3",children:Q.map(oe=>h.jsxs(ye,{to:`/tuition/${oe.id}`,className:"block bg-gradient-to-br from-blue-50 to-purple-50 p-4 rounded-xl hover:shadow-lg transition border border-gray-100",children:[h.jsx("h4",{className:"font-bold text-gray-800",children:oe.name}),h.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm",children:[h.jsx(mi,{className:"text-yellow-500"}),h.jsx("span",{className:"font-semibold text-gray-700",children:oe.rating})]})]},oe.id))}):h.jsx("p",{className:"text-gray-500 text-center py-4",children:"No nearby tuitions found"})]})]})]})})]})},h7=()=>{const n=[{icon:h.jsx(Yo,{className:"text-4xl text-blue-600"}),title:"Community Driven",description:"Built by students, for students. Share and discover authentic experiences from real users."},{icon:h.jsx(Ts,{className:"text-4xl text-red-500"}),title:"Transparent Reviews",description:"Honest feedback and ratings to help you make informed decisions about your education."},{icon:h.jsx(x4,{className:"text-4xl text-purple-600"}),title:"Easy to Use",description:"Simple, intuitive platform designed to help you find the perfect tuition center quickly."},{icon:h.jsx(sy,{className:"text-4xl text-green-600"}),title:"Real-time Updates",description:"Stay connected with latest posts, achievements, and announcements from tuition centers."}],e=[{icon:h.jsx(Jh,{className:"text-green-500"}),text:"Transparency in education"},{icon:h.jsx(Jh,{className:"text-green-500"}),text:"Empowering student choices"},{icon:h.jsx(Jh,{className:"text-green-500"}),text:"Building trust through reviews"},{icon:h.jsx(Jh,{className:"text-green-500"}),text:"Supporting quality education"}];return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[h.jsxs("div",{className:"relative w-full h-96 overflow-hidden",children:[h.jsx("img",{src:"/top-Tutions/images/blog-bg.png",alt:"About TopTuitions",className:"absolute inset-0 w-full h-full object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/60 via-black/50 to-black/60"}),h.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-white text-center px-4",children:[h.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4 animate-[slideDown_0.6s_ease-out]",children:"About TopTuitions"}),h.jsx("p",{className:"text-xl md:text-2xl text-blue-100 max-w-3xl animate-[slideUp_0.6s_ease-out]",children:"Connecting students with the best tuition centers across India"})]})]}),h.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16",children:[h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 md:p-12 mb-16 border border-gray-100",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx(B9,{className:"text-6xl text-yellow-500 mx-auto mb-4"}),h.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-6",children:"Our Mission"})]}),h.jsxs("div",{className:"space-y-6 text-lg text-gray-700 leading-relaxed",children:[h.jsxs("p",{children:["At ",h.jsx("span",{className:"font-bold text-blue-600",children:"TopTuitions"}),", we believe that finding the right tuition center plays a crucial role in shaping your education. That's why we've built a platform where students can discover, connect, and engage with top coaching institutes across India."]}),h.jsxs("p",{children:["Our goal is to create a transparent ecosystem where students can read real-time updates, genuine reviews, and make informed decisions about their academic journey. We're not just a directory  we're a ",h.jsx("span",{className:"font-semibold text-purple-600",children:"social platform"})," that brings students and tuition centers together."]}),h.jsx("p",{children:"Whether you're preparing for JEE, NEET, or any competitive exam, TopTuitions helps you find the perfect coaching that matches your goals and learning style."})]})]}),h.jsxs("div",{className:"mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-center text-gray-800 mb-12",children:"Why Choose TopTuitions?"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map((t,i)=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 border border-gray-100",children:[h.jsx("div",{className:"mb-4",children:t.icon}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:t.title}),h.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]},i))})]}),h.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-purple-600 rounded-3xl shadow-2xl p-8 md:p-12 mb-16 text-white",children:[h.jsx("h2",{className:"text-4xl font-bold text-center mb-8",children:"Our Core Values"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,i)=>h.jsxs("div",{className:"flex items-center gap-4 bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[h.jsx("div",{className:"text-3xl",children:t.icon}),h.jsx("p",{className:"text-lg font-semibold",children:t.text})]},i))})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-16",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border-t-4 border-blue-500",children:[h.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-2",children:"1000+"}),h.jsx("p",{className:"text-gray-600 font-medium",children:"Tuition Centers"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border-t-4 border-purple-500",children:[h.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-2",children:"50K+"}),h.jsx("p",{className:"text-gray-600 font-medium",children:"Active Students"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border-t-4 border-green-500",children:[h.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-2",children:"15+"}),h.jsx("p",{className:"text-gray-600 font-medium",children:"Cities"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border-t-4 border-orange-500",children:[h.jsx("h3",{className:"text-4xl font-bold text-gray-800 mb-2",children:"4.8"}),h.jsx("p",{className:"text-gray-600 font-medium",children:"Avg Rating"})]})]}),h.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-3xl shadow-2xl p-8 md:p-12 text-center text-white",children:[h.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Ready to Get Started?"}),h.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of students already using TopTuitions to find their perfect coaching"}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[h.jsx(ye,{to:"/all-tuitions",className:"bg-white text-indigo-600 px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition shadow-lg",children:"Browse Tuitions"}),h.jsx(ye,{to:"/login",className:"bg-white/20 backdrop-blur-md text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-white/30 transition border-2 border-white/30",children:"Sign Up Now"})]})]}),h.jsxs("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx(F9,{className:"text-4xl text-blue-600"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Have Questions?"})]}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Visit our help page for answers to common questions and detailed guides on how to use TopTuitions."}),h.jsx(ye,{to:"/help",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition",children:"Visit Help Center"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx(yu,{className:"text-4xl text-purple-600"}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Contact Us"})]}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Have feedback or need support? We'd love to hear from you! Drop us an email anytime."}),h.jsx("a",{href:"mailto:contact@toptuitions.com",className:"inline-block bg-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-purple-700 transition",children:"Email Us"})]})]})]})]})};function d7(){const[n,e]=L.useState(!1),[t,i]=L.useState(""),[a,l]=L.useState(""),[d,m]=L.useState(""),[g,y]=L.useState(""),[x,w]=L.useState(""),[E,S]=L.useState(!1),[N,F]=L.useState(null),[P,H]=L.useState("student"),[Q,U]=L.useState("email"),J=Jo(),ne=Xn(),{isAuthenticated:oe,loading:I}=Fe($=>$.auth);L.useEffect(()=>{if(oe){const $=localStorage.getItem("userType");ne($==="student"?"/student-dashboard":"/tuition-dashboard")}},[oe,ne]);const R=async($,ae)=>{var O;const fe=P0(Ma,"users",$.uid),Oe=await kE(fe);if(Oe.exists())return Oe.data();{const se={email:$.email||$.phoneNumber||"",name:d||$.displayName||((O=$.phoneNumber)==null?void 0:O.slice(-10))||"User",userType:ae,photoURL:$.photoURL||null,bio:"",location:"",createdAt:LE()};return ae==="tuition_owner"&&(se.tuitionName="",se.subjects=[],se.verified=!1),await w8(fe,se),se}},C=async($,ae)=>{try{J(di(!0));const fe=await R($,ae);J(hd({user:{uid:$.uid,email:$.email,displayName:$.displayName,photoURL:$.photoURL},userType:fe.userType,userProfile:fe})),localStorage.setItem("userType",fe.userType)}catch(fe){console.error("Error completing login:",fe),J(Io(fe.message))}},k=async()=>{const $=new fi;try{J(di(!0));const ae=await _R(as,$);await C(ae.user,P)}catch(ae){J(Io(ae.message)),alert("Google Login Failed: "+ae.message)}},V=async $=>{if($.preventDefault(),!d.trim())return alert("Please enter your name");try{J(di(!0));const ae=await zN(as,t,a);await C(ae.user,P)}catch(ae){J(Io(ae.message)),alert("Sign Up Failed: "+ae.message)}},B=async $=>{if($.preventDefault(),t==="adminstudent@123"&&a==="123"){J(hd({user:{uid:"ADMIN-STUDENT-POV",email:"adminstudent@123",displayName:"Admin Student POV"},userType:"student",userProfile:{name:"Admin Student POV",userType:"student",email:"adminstudent@123"}})),localStorage.setItem("userType","student"),ne("/student-dashboard");return}if(t==="adminclassowner@123"&&a==="123"){J(hd({user:{uid:"ADMIN-OWNER-POV",email:"adminclassowner@123",displayName:"Admin Owner POV"},userType:"tuition_owner",userProfile:{name:"Admin Class Owner POV",userType:"tuition_owner",email:"adminclassowner@123"}})),localStorage.setItem("userType","tuition_owner"),ne("/tuition-dashboard");return}try{J(di(!0));const ae=await BN(as,t,a);await C(ae.user,P)}catch(ae){J(Io(ae.message)),alert("Login Failed: "+ae.message)}},D=()=>{window.recaptchaVerifier||(window.recaptchaVerifier=new hR(as,"recaptcha-container",{size:"invisible",callback:()=>{}}))},It=async $=>{var Oe;if($.preventDefault(),!g.match(/^\d{10}$/))return alert("Enter valid 10-digit number");D();const ae=window.recaptchaVerifier,fe="+91"+g;try{J(di(!0));const O=await mR(as,fe,ae);F(O),S(!0),alert("OTP sent to "+fe),J(di(!1))}catch(O){J(Io(O.message)),alert("Failed to send OTP: "+O.message),(Oe=window.recaptchaVerifier)==null||Oe.clear()}},st=async $=>{if($.preventDefault(),x.length!==6)return alert("Enter 6-digit OTP");try{J(di(!0));const ae=await N.confirm(x);await C(ae.user,P)}catch(ae){J(Io(ae.message)),alert("Wrong OTP: "+ae.message)}};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100 py-12 px-4",children:[h.jsx("div",{id:"recaptcha-container"}),h.jsxs("div",{className:"max-w-md w-full",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:E?"Verify OTP":n?"Create Account":"Welcome Back"}),h.jsx("p",{className:"text-gray-600",children:E?"Enter the code sent to your phone":n?"Join our learning community":"Sign in to continue"})]}),h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[!E&&h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"I am a:"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("button",{type:"button",onClick:()=>H("student"),className:`p-4 rounded-xl border-2 transition-all ${P==="student"?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[h.jsx(G9,{className:"text-2xl mx-auto mb-2"}),h.jsx("span",{className:"font-semibold",children:"Student"})]}),h.jsxs("button",{type:"button",onClick:()=>H("tuition_owner"),className:`p-4 rounded-xl border-2 transition-all ${P==="tuition_owner"?"border-blue-600 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"}`,children:[h.jsx(Es,{className:"text-2xl mx-auto mb-2"}),h.jsx("span",{className:"font-semibold",children:"Tuition Owner"})]})]})]}),!E&&h.jsxs("div",{className:"flex gap-2 mb-6 bg-gray-100 p-1 rounded-xl",children:[h.jsxs("button",{onClick:()=>U("email"),className:`flex-1 py-2 rounded-lg font-semibold transition ${Q==="email"?"bg-white shadow":"text-gray-600"}`,children:[h.jsx(yu,{className:"inline mr-2"}),"Email"]}),h.jsxs("button",{onClick:()=>U("phone"),className:`flex-1 py-2 rounded-lg font-semibold transition ${Q==="phone"?"bg-white shadow":"text-gray-600"}`,children:[h.jsx(ay,{className:"inline mr-2"}),"Phone"]})]}),!E&&Q==="email"&&h.jsxs("form",{onSubmit:n?V:B,className:"space-y-4",children:[n&&h.jsx("input",{type:"text",placeholder:"Full Name",value:d,onChange:$=>m($.target.value),className:"w-full p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none transition",required:!0}),h.jsx("input",{type:"email",placeholder:"Email Address",value:t,onChange:$=>i($.target.value),className:"w-full p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none transition",required:!0}),h.jsx("input",{type:"password",placeholder:"Password",value:a,onChange:$=>l($.target.value),className:"w-full p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none transition",required:!0}),h.jsx("button",{type:"submit",disabled:I,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-indigo-700 shadow-lg transition disabled:opacity-50",children:I?"Please wait...":n?"Sign Up":"Login"})]}),!E&&Q==="phone"&&h.jsxs("form",{onSubmit:It,className:"space-y-4",children:[n&&h.jsx("input",{type:"text",placeholder:"Full Name",value:d,onChange:$=>m($.target.value),className:"w-full p-4 border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:outline-none transition",required:!0}),h.jsxs("div",{className:"flex items-center border-2 border-gray-300 rounded-xl overflow-hidden focus-within:border-blue-500 transition",children:[h.jsx("span",{className:"px-4 text-lg bg-gray-100 font-semibold",children:"+91"}),h.jsx("input",{type:"tel",placeholder:"10-digit mobile number",value:g,onChange:$=>y($.target.value.replace(/\D/g,"").slice(0,10)),className:"w-full p-4 focus:outline-none",maxLength:"10",required:!0})]}),h.jsx("button",{type:"submit",disabled:I,className:"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-4 rounded-xl font-bold text-lg hover:from-green-700 hover:to-teal-700 shadow-lg transition disabled:opacity-50",children:I?"Sending...":"Send OTP"})]}),E&&h.jsxs("form",{onSubmit:st,className:"space-y-6",children:[h.jsxs("div",{className:"text-center bg-blue-50 p-4 rounded-xl",children:[h.jsx("p",{className:"text-gray-700 mb-1",children:"OTP sent to"}),h.jsxs("p",{className:"font-bold text-xl text-blue-600",children:["+91 ",g]})]}),h.jsx("input",{type:"text",placeholder:"Enter 6-digit OTP",value:x,onChange:$=>w($.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full p-6 text-center text-3xl tracking-widest border-2 border-gray-300 rounded-xl font-mono focus:border-blue-500 focus:outline-none",maxLength:"6",autoFocus:!0}),h.jsx("button",{type:"submit",disabled:I,className:"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-4 rounded-xl font-bold text-lg hover:from-green-700 hover:to-teal-700 shadow-lg transition disabled:opacity-50",children:I?"Verifying...":"Verify OTP"}),h.jsx("button",{type:"button",onClick:()=>{S(!1),w("")},className:"text-blue-600 hover:underline w-full text-center font-semibold",children:" Change Number"})]}),!E&&h.jsx("div",{className:"text-center mt-6",children:h.jsx("button",{onClick:()=>e(!n),className:"text-blue-600 font-semibold hover:underline",children:n?"Already have an account? Login":"Don't have an account? Sign Up"})}),!E&&h.jsxs("div",{className:"flex items-center my-6",children:[h.jsx("hr",{className:"flex-1 border-gray-300"}),h.jsx("span",{className:"px-4 text-gray-500 font-medium",children:"OR"}),h.jsx("hr",{className:"flex-1 border-gray-300"})]}),!E&&h.jsxs("button",{onClick:k,disabled:I,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 rounded-xl py-4 hover:shadow-lg hover:border-gray-400 transition font-semibold text-lg disabled:opacity-50",children:[h.jsx(k9,{className:"text-red-500 text-xl"}),"Continue with Google"]})]}),h.jsx("p",{className:"text-center text-sm text-gray-600 mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})}const f7={enrolledTuitions:[],likedPosts:[],myComments:[],loading:!1,error:null},T4=ry({name:"enrollments",initialState:f7,reducers:{setLoading:(n,e)=>{n.loading=e.payload},setError:(n,e)=>{n.error=e.payload,n.loading=!1},setEnrolledTuitions:(n,e)=>{n.enrolledTuitions=e.payload,n.loading=!1},addEnrollment:(n,e)=>{n.enrolledTuitions.find(i=>i.tuitionId===e.payload.tuitionId)||n.enrolledTuitions.push(e.payload)},removeEnrollment:(n,e)=>{n.enrolledTuitions=n.enrolledTuitions.filter(t=>t.tuitionId!==e.payload)},setLikedPosts:(n,e)=>{n.likedPosts=e.payload,n.loading=!1},addLike:(n,e)=>{n.likedPosts.includes(e.payload)||n.likedPosts.push(e.payload)},removeLike:(n,e)=>{n.likedPosts=n.likedPosts.filter(t=>t!==e.payload)},setMyComments:(n,e)=>{n.myComments=e.payload,n.loading=!1},addComment:(n,e)=>{n.myComments.push(e.payload)},deleteComment:(n,e)=>{n.myComments=n.myComments.filter(t=>t.id!==e.payload)},clearEnrollments:n=>{n.enrolledTuitions=[],n.likedPosts=[],n.myComments=[],n.loading=!1,n.error=null}}}),{setLoading:k7,setError:M7,setEnrolledTuitions:V7,addEnrollment:L7,removeEnrollment:U7,setLikedPosts:z7,addLike:B7,removeLike:F7,setMyComments:H7,addComment:q7,deleteComment:G7,clearEnrollments:$7}=T4.actions,S4=n=>n.enrollments.enrolledTuitions,A4=n=>n.enrollments.likedPosts,m7=n=>n.enrollments.myComments,p7=T4.reducer,zb=()=>{var H;const n=Jo(),e=Xn(),t=Fe(al),i=Fe(Rs),a=Fe(wf),l=Fe(Cs),d=Fe(S4),m=Fe(A4),g=Fe(m7),[y,x]=L.useState("overview"),[w,E]=L.useState(!1);if(!l||!t)return e("/login"),null;const S=i==="tuition_owner",N=async()=>{try{await H2(as),n(Bc()),localStorage.removeItem("userType"),e("/")}catch(Q){console.error("Logout error:",Q)}},F=(a==null?void 0:a.name)||t.displayName||((H=t.email)==null?void 0:H.split("@")[0])||"User",P=(a==null?void 0:a.photoURL)||t.photoURL;return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 pt-20 pb-16 px-4",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs("button",{onClick:()=>e(-1),className:"mb-6 text-gray-600 hover:text-gray-800 font-semibold flex items-center gap-2 transition",children:[h.jsx(iy,{}),"Back"]}),h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[h.jsx("div",{className:"relative h-48 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600",children:h.jsx("div",{className:"absolute inset-0 opacity-20",children:h.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})})}),h.jsxs("div",{className:"relative px-8 pb-12",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between -mt-20",children:[h.jsxs("div",{className:"relative",children:[P?h.jsx("img",{src:P,alt:"Profile",className:"w-32 h-32 rounded-full border-8 border-white shadow-2xl object-cover"}):h.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-5xl font-bold shadow-2xl border-8 border-white",children:F.charAt(0).toUpperCase()}),h.jsx("button",{className:"absolute bottom-2 right-2 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition",children:h.jsx(L9,{})})]}),h.jsxs("div",{className:"flex gap-3 mt-6 md:mt-0",children:[h.jsxs("button",{onClick:()=>E(!w),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold shadow-lg transition flex items-center gap-2",children:[h.jsx(g4,{}),"Edit Profile"]}),h.jsxs("button",{onClick:N,className:"px-6 py-3 bg-red-50 hover:bg-red-100 text-red-600 rounded-xl font-semibold transition flex items-center gap-2 border-2 border-red-200",children:[h.jsx(_4,{}),"Logout"]})]})]}),h.jsxs("div",{className:"mt-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:F}),h.jsxs("p",{className:"text-lg text-gray-600 flex items-center gap-2 mb-4",children:[h.jsx(yu,{className:"text-blue-600"}),t.email]}),h.jsx("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-gradient-to-r from-blue-100 to-purple-100 border-2 border-blue-200",children:S?h.jsxs(h.Fragment,{children:[h.jsx(Es,{className:"text-xl text-purple-600"}),h.jsx("span",{className:"font-bold text-gray-800",children:"Tuition Owner"})]}):h.jsxs(h.Fragment,{children:[h.jsx(qd,{className:"text-xl text-blue-600"}),h.jsx("span",{className:"font-bold text-gray-800",children:"Student"})]})}),(a==null?void 0:a.bio)&&h.jsx("p",{className:"mt-6 text-gray-700 leading-relaxed max-w-3xl",children:a.bio}),h.jsxs("div",{className:"flex flex-wrap gap-6 mt-6 text-gray-600",children:[(a==null?void 0:a.location)&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ia,{className:"text-blue-600"}),h.jsx("span",{children:a.location})]}),S&&(a==null?void 0:a.tuitionName)&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Es,{className:"text-purple-600"}),h.jsx("span",{children:a.tuitionName})]})]})]}),h.jsxs("div",{className:"mt-12 grid grid-cols-2 md:grid-cols-4 gap-4",children:[!S&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 text-center border border-blue-200",children:[h.jsx(dd,{className:"text-3xl text-blue-600 mx-auto mb-2"}),h.jsx("div",{className:"text-3xl font-bold text-gray-800",children:d.length}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Enrolled"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-pink-100 rounded-2xl p-6 text-center border border-red-200",children:[h.jsx(Ts,{className:"text-3xl text-red-500 mx-auto mb-2"}),h.jsx("div",{className:"text-3xl font-bold text-gray-800",children:m.length}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Liked Posts"})]}),h.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 text-center border border-purple-200",children:[h.jsx(ol,{className:"text-3xl text-purple-600 mx-auto mb-2"}),h.jsx("div",{className:"text-3xl font-bold text-gray-800",children:g.length}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comments"})]})]}),h.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 text-center border border-green-200",children:[h.jsx("div",{className:"text-3xl font-bold text-green-600",children:a?"100%":"60%"}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Complete"})]})]}),h.jsx("div",{className:"mt-12 border-b border-gray-200",children:h.jsxs("div",{className:"flex gap-6",children:[h.jsx("button",{onClick:()=>x("overview"),className:`pb-4 font-semibold transition border-b-2 ${y==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,children:"Overview"}),!S&&h.jsx("button",{onClick:()=>x("activity"),className:`pb-4 font-semibold transition border-b-2 ${y==="activity"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,children:"Activity"}),h.jsx("button",{onClick:()=>x("settings"),className:`pb-4 font-semibold transition border-b-2 ${y==="settings"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"}`,children:"Settings"})]})}),h.jsxs("div",{className:"mt-8",children:[y==="overview"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-8 border border-blue-100",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:S?"Tuition Center Dashboard":"Student Dashboard"}),h.jsx("p",{className:"text-gray-600 mb-6",children:S?"Manage your tuition center, create posts, and connect with students.":"Track your enrolled classes, view updates, and manage your learning journey."}),h.jsx("button",{onClick:()=>e(S?"/tuition-dashboard":"/student-dashboard"),className:"bg-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:bg-blue-700 transition shadow-lg",children:"Go to Dashboard "})]}),S&&h.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-2xl p-8",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quick Actions"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx("button",{onClick:()=>e("/create-post"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition",children:"Create New Post"}),h.jsx("button",{onClick:()=>e("/feed"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition",children:"View Feed"})]})]})]}),y==="activity"&&!S&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Enrolled Tuition Centers"}),d.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(Q=>h.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4",children:[h.jsxs("h4",{className:"font-bold text-gray-800",children:["Tuition #",Q.tuitionId]}),h.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Enrolled on ",Q.enrolledAt]})]},Q.tuitionId))}):h.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-xl p-8 text-center",children:[h.jsx("p",{className:"text-gray-600",children:"No enrolled tuitions yet"}),h.jsx("button",{onClick:()=>e("/all-tuitions"),className:"mt-4 text-blue-600 font-semibold hover:underline",children:"Browse Tuitions "})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Liked Posts"}),m.length>0?h.jsxs("p",{className:"text-gray-600",children:["You've liked ",m.length," posts"]}):h.jsx("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-xl p-8 text-center",children:h.jsx("p",{className:"text-gray-600",children:"No liked posts yet"})})]})]}),y==="settings"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-2xl p-8",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Account Settings"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name"}),h.jsx("input",{type:"text",value:F,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-blue-500",disabled:!w})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),h.jsx("input",{type:"email",value:t.email,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl bg-gray-50",disabled:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),h.jsx("textarea",{value:(a==null?void 0:a.bio)||"",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-blue-500 resize-none",rows:"4",disabled:!w,placeholder:"Tell us about yourself..."})]}),w&&h.jsx("button",{className:"bg-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:bg-blue-700 transition",children:"Save Changes"})]})]}),h.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-8",children:[h.jsx("h3",{className:"text-xl font-bold text-red-600 mb-4",children:"Danger Zone"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Once you delete your account, there is no going back."}),h.jsx("button",{className:"bg-red-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-red-700 transition",children:"Delete Account"})]})]})]})]})]})]})})},g7=()=>{var E;const n=Fe(al),e=Fe(wf),t=Fe(S4),i=Fe(A4),a=Xn(),[l,d]=L.useState([]),[m,g]=L.useState(!0);L.useEffect(()=>{(async()=>{try{const N=pu(Ma,"posts"),F=mf(N,gf("createdAt","desc"),K0(5)),H=(await yf(F)).docs.map(Q=>({id:Q.id,...Q.data()}));d(H)}catch(N){console.error("Error fetching posts:",N)}finally{g(!1)}})()},[t]);const y=[{id:1,tuitionId:1,tuitionName:"FIITJEE Kota",subject:"Mathematics",teacher:"Prof. Sharma",time:"Mon, Wed, Fri 10:00 AM",progress:75,nextClass:"Today, 10:00 AM"},{id:2,tuitionId:2,tuitionName:"Allen Career Institute",subject:"Physics",teacher:"Dr. Rajesh Kumar",time:"Tue, Thu 2:00 PM",progress:60,nextClass:"Tomorrow, 2:00 PM"},{id:3,tuitionId:3,tuitionName:"Resonance",subject:"Chemistry",teacher:"Ms. Priya Singh",time:"Sat 9:00 AM",progress:90,nextClass:"Saturday, 9:00 AM"}],x=(e==null?void 0:e.name)||(n==null?void 0:n.displayName)||((E=n==null?void 0:n.email)==null?void 0:E.split("@")[0])||"Student",w=S=>{if(!S)return"Just now";const N=Math.floor((new Date-S)/1e3);return N<60?"Just now":N<3600?`${Math.floor(N/60)}m ago`:N<86400?`${Math.floor(N/3600)}h ago`:`${Math.floor(N/86400)}d ago`};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 pt-20 pb-16 px-4",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-12 animate-[slideDown_0.6s_ease-out]",children:[h.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-3",children:["Welcome back, ",h.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:[x,"!"]})]}),h.jsx("p",{className:"text-xl text-gray-600",children:"Here's what's happening with your learning journey"})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-12 animate-[slideUp_0.6s_ease-out]",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 text-center border-t-4 border-blue-500 hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[h.jsx(dd,{className:"text-4xl text-blue-600 mx-auto mb-3"}),h.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:y.length}),h.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Enrolled Classes"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 text-center border-t-4 border-red-500 hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[h.jsx(Ts,{className:"text-4xl text-red-500 mx-auto mb-3"}),h.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:i.length}),h.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Liked Posts"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 text-center border-t-4 border-green-500 hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[h.jsx(b4,{className:"text-4xl text-green-600 mx-auto mb-3"}),h.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:"A+"}),h.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Average Grade"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 text-center border-t-4 border-orange-500 hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[h.jsx(v4,{className:"text-4xl text-orange-600 mx-auto mb-3"}),h.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:"12"}),h.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Day Streak"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"My Classes"}),h.jsxs("button",{onClick:()=>a("/all-tuitions"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg flex items-center gap-2",children:[h.jsx(_a,{})," Find New"]})]}),y.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:y.map(S=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 border border-gray-100",children:[h.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-500 to-purple-600 relative flex items-center justify-center",children:[h.jsx(dd,{className:"text-white text-5xl opacity-20"}),h.jsx("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm px-3 py-1.5 rounded-full",children:h.jsxs("span",{className:"text-white font-bold text-sm",children:[S.progress,"%"]})})]}),h.jsxs("div",{className:"p-5",children:[h.jsx(ye,{to:`/tuition/${S.tuitionId}`,className:"text-lg font-bold text-gray-800 hover:text-blue-600 transition line-clamp-1",children:S.tuitionName}),h.jsx("h3",{className:"text-xl font-bold text-blue-600 mb-3",children:S.subject}),h.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(qd,{className:"text-blue-600"}),S.teacher]}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(Db,{className:"text-purple-600"}),S.time]}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(Ko,{className:"text-green-600"}),"Next: ",S.nextClass]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-2",children:[h.jsx("span",{children:"Progress"}),h.jsxs("span",{className:"font-bold",children:[S.progress,"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:h.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600 rounded-full transition-all duration-1000",style:{width:`${S.progress}%`}})})]}),h.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-2.5 rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-md",children:"Continue Learning"})]})]},S.id))}):h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center border-2 border-dashed border-gray-300",children:[h.jsx(dd,{className:"text-6xl text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Classes Yet"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Start your learning journey by enrolling in a class"}),h.jsxs("button",{onClick:()=>a("/all-tuitions"),className:"bg-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:bg-blue-700 transition shadow-lg inline-flex items-center gap-2",children:[h.jsx(_a,{}),"Browse Tuitions"]})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Recent Updates"}),h.jsxs(ye,{to:"/feed",className:"text-blue-600 font-semibold hover:text-blue-700 transition flex items-center gap-2",children:["View All ",h.jsx(Rr,{})]})]}),m?h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto"}),h.jsx("p",{className:"text-gray-600 mt-4",children:"Loading updates..."})]}):l.length>0?h.jsx("div",{className:"space-y-4",children:l.slice(0,3).map(S=>{var N;return h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition border border-gray-100",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg flex-shrink-0",children:((N=S.tuitionName)==null?void 0:N.charAt(0))||"T"}),h.jsxs("div",{className:"flex-1",children:[h.jsx(ye,{to:`/tuition/${S.tuitionId}`,className:"font-bold text-gray-800 hover:text-blue-600 transition",children:S.tuitionName}),h.jsx("p",{className:"text-sm text-gray-500",children:w(S.createdAt)})]})]}),h.jsx("p",{className:"text-gray-700 line-clamp-2 mb-4",children:S.content}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Ts,{className:"text-red-500"}),S.likes||0]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(ol,{className:"text-blue-500"}),S.comments||0]})]})]},S.id)})}):h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[h.jsx(Bd,{className:"text-6xl text-gray-300 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"No updates yet. Enroll in classes to see their posts!"})]})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border-t-4 border-blue-500",children:[h.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[h.jsx(Db,{className:"text-blue-600"}),"Today's Schedule"]}),h.jsx("div",{className:"space-y-3",children:y.filter(S=>S.nextClass.includes("Today")).length>0?y.filter(S=>S.nextClass.includes("Today")).map(S=>h.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border border-blue-200",children:[h.jsx("h4",{className:"font-bold text-gray-800 text-sm",children:S.subject}),h.jsx("p",{className:"text-xs text-gray-600 mt-1",children:S.teacher}),h.jsx("p",{className:"text-xs text-blue-600 font-semibold mt-2",children:S.nextClass})]},S.id)):h.jsx("p",{className:"text-gray-500 text-center py-4 text-sm",children:"No classes today"})})]}),h.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-teal-600 rounded-2xl shadow-xl p-6 text-white",children:[h.jsx(sy,{className:"text-4xl mb-3"}),h.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Keep it up!"}),h.jsx("p",{className:"text-green-100 mb-4",children:"You're making great progress"}),h.jsxs("div",{className:"bg-white/20 rounded-xl p-3 backdrop-blur-sm",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("span",{className:"text-sm",children:"This Week"}),h.jsx("span",{className:"font-bold",children:"85%"})]}),h.jsx("div",{className:"w-full bg-white/30 rounded-full h-2",children:h.jsx("div",{className:"bg-white h-full rounded-full",style:{width:"85%"}})})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quick Actions"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:()=>a("/feed"),className:"w-full bg-blue-50 hover:bg-blue-100 text-blue-600 py-3 rounded-xl font-semibold transition text-left px-4 flex items-center gap-3",children:[h.jsx(Bd,{}),"View Feed"]}),h.jsxs("button",{onClick:()=>a("/all-tuitions"),className:"w-full bg-purple-50 hover:bg-purple-100 text-purple-600 py-3 rounded-xl font-semibold transition text-left px-4 flex items-center gap-3",children:[h.jsx(_a,{}),"Find Classes"]}),h.jsxs("button",{onClick:()=>a("/profile"),className:"w-full bg-green-50 hover:bg-green-100 text-green-600 py-3 rounded-xl font-semibold transition text-left px-4 flex items-center gap-3",children:[h.jsx(qd,{}),"My Profile"]})]})]})]})]}),h.jsx("p",{className:"text-center text-gray-500 mt-16 text-sm",children:"TopTuitions  Your Success, Our Priority"})]})})},y7=()=>{const n=Fe(al),e=Fe(wf),t=Xn(),[i,a]=L.useState("overview"),[l,d]=L.useState([]),[m,g]=L.useState(!0);L.useEffect(()=>{n&&(async()=>{try{const F=pu(Ma,"posts"),P=mf(F,DE("ownerId","==",n.uid),gf("createdAt","desc")),Q=(await yf(P)).docs.map(U=>({id:U.id,...U.data()}));d(Q)}catch(F){console.error("Error fetching posts:",F)}finally{g(!1)}})()},[n]);const y={totalStudents:245,totalPosts:l.length,totalEngagement:l.reduce((N,F)=>N+(F.likes||0)+(F.comments||0),0),enrollmentRate:94},x=[{id:1,studentName:"Rahul Kumar",course:"JEE Advanced",time:"2 hours ago"},{id:2,studentName:"Priya Sharma",course:"NEET Preparation",time:"5 hours ago"},{id:3,studentName:"Arjun Patel",course:"Foundation Course",time:"1 day ago"}],w=[{id:1,subject:"Physics - Mechanics",time:"Today, 2:00 PM",students:35,status:"starting-soon"},{id:2,subject:"Chemistry Organic",time:"Today, 5:00 PM",students:28,status:"scheduled"},{id:3,subject:"Mathematics Advanced",time:"Tomorrow, 10:00 AM",students:42,status:"scheduled"}],E=(e==null?void 0:e.tuitionName)||(e==null?void 0:e.name)||(n==null?void 0:n.displayName)||"Tuition Owner",S=N=>{if(!N)return"Just now";const F=Math.floor((new Date-N)/1e3);return F<60?"Just now":F<3600?`${Math.floor(F/60)}m ago`:F<86400?`${Math.floor(F/3600)}h ago`:`${Math.floor(F/86400)}d ago`};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 pt-20 pb-16 px-4",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"mb-12 animate-[slideDown_0.6s_ease-out]",children:[h.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-3",children:[h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-purple-600",children:E})," Dashboard"]}),h.jsx("p",{className:"text-xl text-gray-600",children:"Manage your tuition center and connect with students"})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 mb-12 animate-[slideUp_0.6s_ease-out]",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 text-center border-t-4 border-blue-500 hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[h.jsx(Yo,{className:"text-4xl text-blue-600 mx-auto mb-3"}),h.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:y.totalStudents}),h.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Total Students"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 text-center border-t-4 border-purple-500 hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[h.jsx(Vg,{className:"text-4xl text-purple-600 mx-auto mb-3"}),h.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:y.totalPosts}),h.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Total Posts"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 text-center border-t-4 border-pink-500 hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[h.jsx(v4,{className:"text-4xl text-pink-600 mx-auto mb-3"}),h.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:y.totalEngagement}),h.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Engagement"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 text-center border-t-4 border-green-500 hover:shadow-2xl hover:-translate-y-1 transition-all duration-300",children:[h.jsx(b4,{className:"text-4xl text-green-600 mx-auto mb-3"}),h.jsxs("h3",{className:"text-3xl font-bold text-gray-800",children:[y.enrollmentRate,"%"]}),h.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Success Rate"})]})]}),h.jsxs("div",{className:"flex gap-3 mb-8 overflow-x-auto bg-white rounded-2xl p-2 shadow-lg",children:[h.jsx("button",{onClick:()=>a("overview"),className:`px-6 py-3 rounded-xl font-semibold transition whitespace-nowrap ${i==="overview"?"bg-indigo-600 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"}`,children:"Overview"}),h.jsxs("button",{onClick:()=>a("posts"),className:`px-6 py-3 rounded-xl font-semibold transition whitespace-nowrap ${i==="posts"?"bg-indigo-600 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"}`,children:["My Posts (",l.length,")"]}),h.jsx("button",{onClick:()=>a("students"),className:`px-6 py-3 rounded-xl font-semibold transition whitespace-nowrap ${i==="students"?"bg-indigo-600 text-white shadow-lg":"text-gray-700 hover:bg-gray-100"}`,children:"Students"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i==="overview"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-3xl shadow-2xl p-8 text-white",children:[h.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Quick Actions"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("button",{onClick:()=>t("/create-post"),className:"bg-white/20 backdrop-blur-md hover:bg-white/30 border-2 border-white/30 p-6 rounded-2xl font-semibold transition text-left flex items-center gap-4",children:[h.jsx(fd,{className:"text-3xl"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg",children:"Create New Post"}),h.jsx("div",{className:"text-sm text-indigo-100",children:"Share updates"})]})]}),h.jsxs("button",{onClick:()=>t("/feed"),className:"bg-white/20 backdrop-blur-md hover:bg-white/30 border-2 border-white/30 p-6 rounded-2xl font-semibold transition text-left flex items-center gap-4",children:[h.jsx(Bd,{className:"text-3xl"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-lg",children:"View Feed"}),h.jsx("div",{className:"text-sm text-indigo-100",children:"See all posts"})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 border border-indigo-100",children:[h.jsx("div",{className:"flex justify-between items-center mb-6",children:h.jsxs("h2",{className:"text-3xl font-bold text-gray-800 flex items-center gap-3",children:[h.jsx(Ko,{className:"text-indigo-600"})," Today's Classes"]})}),h.jsx("div",{className:"space-y-4",children:w.map(N=>h.jsxs("div",{className:`p-6 rounded-2xl border-l-4 transition hover:shadow-lg ${N.status==="starting-soon"?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-500":"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-300"}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800",children:N.subject}),h.jsxs("div",{className:"flex flex-col gap-1 mt-2 text-sm",children:[h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(Ko,{})," ",N.time]}),h.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[h.jsx(Yo,{})," ",N.students," students enrolled"]})]})]}),N.status==="starting-soon"&&h.jsx("span",{className:"bg-green-500 text-white text-xs font-bold px-3 py-1.5 rounded-full animate-pulse",children:"Starting Soon"})]}),h.jsx("button",{className:"w-full bg-indigo-600 text-white py-3 rounded-xl font-semibold hover:bg-indigo-700 transition shadow-md",children:"Start Class"})]},N.id))})]})]}),i==="posts"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"My Posts"}),h.jsxs("button",{onClick:()=>t("/create-post"),className:"bg-indigo-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-indigo-700 transition shadow-lg flex items-center gap-2",children:[h.jsx(fd,{})," New Post"]})]}),m?h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-indigo-600 mx-auto"}),h.jsx("p",{className:"text-gray-600 mt-4",children:"Loading your posts..."})]}):l.length>0?h.jsx("div",{className:"space-y-4",children:l.map(N=>h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition border border-gray-100",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:N.tuitionName}),h.jsx("p",{className:"text-sm text-gray-500",children:S(N.createdAt)})]}),h.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:h.jsx(g4,{})})]}),h.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3",children:N.content}),h.jsxs("div",{className:"flex items-center gap-6 text-sm border-t pt-4",children:[h.jsxs("span",{className:"flex items-center gap-2 text-red-500",children:[h.jsx(Ts,{}),N.likes||0," likes"]}),h.jsxs("span",{className:"flex items-center gap-2 text-blue-500",children:[h.jsx(ol,{}),N.comments||0," comments"]}),h.jsxs("span",{className:"flex items-center gap-2 text-green-500",children:[h.jsx(Ef,{}),N.enrollments||0," enrollments"]})]})]},N.id))}):h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[h.jsx(Vg,{className:"text-6xl text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No posts yet"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Start sharing updates with your students!"}),h.jsxs("button",{onClick:()=>t("/create-post"),className:"bg-indigo-600 text-white px-8 py-3 rounded-xl font-semibold hover:bg-indigo-700 transition shadow-lg inline-flex items-center gap-2",children:[h.jsx(fd,{}),"Create Your First Post"]})]})]}),i==="students"&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Recent Enrollments"}),h.jsx("div",{className:"space-y-4",children:x.map(N=>h.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 hover:shadow-xl transition border border-gray-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg",children:N.studentName.charAt(0)}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-800",children:N.studentName}),h.jsx("p",{className:"text-sm text-gray-600",children:N.course})]})]}),h.jsx("div",{className:"text-right",children:h.jsx("p",{className:"text-sm text-gray-500",children:N.time})})]})},N.id))})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-teal-600 rounded-2xl shadow-xl p-6 text-white",children:[h.jsx(sy,{className:"text-4xl mb-3"}),h.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Great Work!"}),h.jsx("p",{className:"text-green-100 mb-4",children:"Your engagement is trending up"}),h.jsxs("div",{className:"bg-white/20 rounded-xl p-3 backdrop-blur-sm",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("span",{className:"text-sm",children:"This Month"}),h.jsx("span",{className:"font-bold",children:"+24%"})]}),h.jsx("div",{className:"w-full bg-white/30 rounded-full h-2",children:h.jsx("div",{className:"bg-white h-full rounded-full",style:{width:"76%"}})})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-indigo-100",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Profile Status"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Profile Info"}),h.jsx("span",{className:"text-green-600 font-bold",children:""})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"First Post"}),h.jsx("span",{className:l.length>0?"text-green-600 font-bold":"text-gray-400",children:l.length>0?"":""})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:"Contact Info"}),h.jsx("span",{className:"text-green-600 font-bold",children:""})]})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t",children:[h.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[h.jsx("span",{className:"text-gray-600",children:"Completion"}),h.jsx("span",{className:"font-bold text-indigo-600",children:"80%"})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:h.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-full rounded-full",style:{width:"80%"}})})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Quick Links"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx(ye,{to:"/tuition-profile",className:"block bg-indigo-50 hover:bg-indigo-100 text-indigo-600 py-3 rounded-xl font-semibold transition text-center",children:"Edit Profile"}),h.jsx(ye,{to:"/feed",className:"block bg-purple-50 hover:bg-purple-100 text-purple-600 py-3 rounded-xl font-semibold transition text-center",children:"View Feed"}),h.jsx(ye,{to:"/all-tuitions",className:"block bg-pink-50 hover:bg-pink-100 text-pink-600 py-3 rounded-xl font-semibold transition text-center",children:"Browse Tuitions"})]})]})]})]}),h.jsx("p",{className:"text-center text-gray-500 mt-16 text-sm",children:"TopTuitions Tuition Portal  Empowering Education"})]})})},v7=()=>{const n=Xn(),e=Jo(),t=Fe(al),i=Fe(wf),[a,l]=L.useState(""),[d,m]=L.useState([]),[g,y]=L.useState([]),[x,w]=L.useState(!1),[E,S]=L.useState(""),N=Q=>{const U=Array.from(Q.target.files);if(d.length+U.length>4){S("Maximum 4 images allowed");return}m([...d,...U]);const J=U.map(ne=>URL.createObjectURL(ne));y([...g,...J]),S("")},F=Q=>{const U=d.filter((ne,oe)=>oe!==Q),J=g.filter((ne,oe)=>oe!==Q);m(U),y(J)},P=async()=>{const Q=d.map(async U=>{const J=Mj(Fj,`posts/${t.uid}/${Date.now()}_${U.name}`);return await Pj(J,U),kj(J)});return Promise.all(Q)},H=async Q=>{if(Q.preventDefault(),!a.trim()){S("Please write something to post");return}if(a.length>1e3){S("Post content is too long (max 1000 characters)");return}w(!0),S("");try{let U=[];d.length>0&&(U=await P());const J={tuitionName:i.tuitionName||i.name,tuitionId:t.uid,ownerId:t.uid,ownerPhoto:t.photoURL||null,content:a.trim(),images:U,likes:0,comments:0,enrollments:0,createdAt:LE()},ne=await E8(pu(Ma,"posts"),J);e(s7({id:ne.id,...J,createdAt:new Date})),n("/feed")}catch(U){console.error("Error creating post:",U),S("Failed to create post. Please try again."),w(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 pt-20 pb-16 px-4",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-4 font-semibold",children:[h.jsx(iy,{}),"Back"]}),h.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Create New Post"}),h.jsx("p",{className:"text-gray-600",children:"Share updates and announcements with students"})]}),h.jsxs("form",{onSubmit:H,className:"bg-white rounded-3xl shadow-2xl p-8",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-6 border-b border-gray-200",children:[h.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl shadow-lg",children:((i==null?void 0:i.tuitionName)||(i==null?void 0:i.name)||"T").charAt(0)}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:(i==null?void 0:i.tuitionName)||(i==null?void 0:i.name)||"Tuition Center"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Posting as tuition owner"})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("textarea",{value:a,onChange:Q=>l(Q.target.value),placeholder:"What would you like to share? Announcements, achievements, new batches...",className:"w-full h-48 p-4 border-2 border-gray-200 rounded-xl resize-none focus:outline-none focus:border-blue-500 text-gray-800 text-lg",maxLength:1e3}),h.jsx("div",{className:"flex justify-between items-center mt-2",children:h.jsxs("p",{className:"text-sm text-gray-500",children:[a.length,"/1000 characters"]})})]}),g.length>0&&h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Selected Images (",g.length,"/4)"]}),h.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.map((Q,U)=>h.jsxs("div",{className:"relative group",children:[h.jsx("img",{src:Q,alt:`Preview ${U+1}`,className:"w-full h-48 object-cover rounded-xl border-2 border-gray-200"}),h.jsx("button",{type:"button",onClick:()=>F(U),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition opacity-0 group-hover:opacity-100",children:h.jsx(Hd,{})})]},U))})]}),d.length<4&&h.jsx("div",{className:"mb-6",children:h.jsxs("label",{className:"flex items-center justify-center gap-3 bg-gray-100 hover:bg-gray-200 border-2 border-dashed border-gray-300 rounded-xl p-6 cursor-pointer transition",children:[h.jsx(z9,{className:"text-2xl text-gray-600"}),h.jsx("span",{className:"font-semibold text-gray-700",children:"Add Images (Optional - Max 4)"}),h.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:N,className:"hidden"})]})}),E&&h.jsx("div",{className:"mb-6 bg-red-50 border-2 border-red-200 rounded-xl p-4",children:h.jsx("p",{className:"text-red-600 font-semibold",children:E})}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{type:"submit",disabled:x||!a.trim(),className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-lg flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:x?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Posting..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Vg,{}),"Publish Post"]})}),h.jsx("button",{type:"button",onClick:()=>n(-1),disabled:x,className:"px-8 bg-gray-200 text-gray-700 py-4 rounded-xl font-bold text-lg hover:bg-gray-300 transition-all duration-300 disabled:opacity-50",children:"Cancel"})]}),h.jsxs("div",{className:"mt-8 bg-blue-50 border-2 border-blue-100 rounded-xl p-6",children:[h.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:" Tips for Great Posts:"}),h.jsxs("ul",{className:"space-y-2 text-gray-700",children:[h.jsx("li",{children:" Share student achievements and success stories"}),h.jsx("li",{children:" Announce new batch timings and enrollments"}),h.jsx("li",{children:" Post about upcoming workshops or events"}),h.jsx("li",{children:" Share study tips and motivational content"}),h.jsx("li",{children:" Keep it clear, positive, and engaging!"})]})]})]})]})})},x7=()=>{const[n]=I3(),[e,t]=L.useState(n.get("name")||""),[i,a]=L.useState(n.get("location")||"All"),[l,d]=L.useState("rating"),[m,g]=L.useState("grid"),y=["All",...new Set(ya.map(S=>S.location))];L.useEffect(()=>{const S=n.get("name"),N=n.get("location");S&&t(S),N&&a(N)},[n]);const x=L.useMemo(()=>{let S=ya;return e&&(S=S.filter(N=>N.name.toLowerCase().includes(e.toLowerCase()))),i!=="All"&&(S=S.filter(N=>N.location===i)),S=[...S].sort((N,F)=>l==="rating"?F.rating-N.rating:l==="name-asc"?N.name.localeCompare(F.name):l==="name-desc"?F.name.localeCompare(N.name):0),S},[e,i,l]),w=()=>{t(""),a("All"),d("rating")},E=e||i!=="All";return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 pt-24 pb-20 px-4",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12 animate-[slideDown_0.6s_ease-out]",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 mb-4",children:"Explore Tuition Centers"}),h.jsxs("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:["Browse through ",ya.length,"+ top-rated tuition centers across India"]})]}),h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 mb-8 border border-gray-100 animate-[slideUp_0.6s_ease-out]",children:[h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"relative",children:[h.jsx(_a,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),h.jsx("input",{type:"text",placeholder:"Search by tuition name (e.g., FIITJEE, Allen, Resonance...)",value:e,onChange:S=>t(S.target.value),className:"w-full pl-14 pr-12 py-4 rounded-2xl border-2 border-gray-200 focus:outline-none focus:border-blue-500 text-gray-800 text-lg transition-all duration-300"}),e&&h.jsx("button",{onClick:()=>t(""),className:"absolute right-5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition",children:h.jsx(Hd,{})})]})}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-gray-700 font-semibold",children:[h.jsx(y4,{}),h.jsx("span",{children:"Filters:"})]}),h.jsx("select",{value:i,onChange:S=>a(S.target.value),className:"px-5 py-3 rounded-xl border-2 border-gray-200 text-gray-700 font-medium focus:outline-none focus:border-blue-500 bg-white hover:border-gray-300 transition cursor-pointer",children:y.map(S=>h.jsx("option",{value:S,children:S==="All"?" All Locations":` ${S}`},S))}),h.jsxs("select",{value:l,onChange:S=>d(S.target.value),className:"px-5 py-3 rounded-xl border-2 border-gray-200 text-gray-700 font-medium focus:outline-none focus:border-blue-500 bg-white hover:border-gray-300 transition cursor-pointer",children:[h.jsx("option",{value:"rating",children:" Highest Rated"}),h.jsx("option",{value:"name-asc",children:" Name: A  Z"}),h.jsx("option",{value:"name-desc",children:" Name: Z  A"})]}),E&&h.jsxs("button",{onClick:w,className:"ml-auto px-5 py-3 rounded-xl bg-red-50 text-red-600 font-semibold hover:bg-red-100 transition flex items-center gap-2",children:[h.jsx(Hd,{}),"Clear Filters"]})]})]}),h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Showing ",h.jsx("span",{className:"text-blue-600",children:x.length})," of"," ",h.jsx("span",{className:"text-blue-600",children:ya.length})," tuition centers"]}),h.jsxs("div",{className:"flex gap-2 bg-white rounded-xl p-1 shadow-md",children:[h.jsx("button",{onClick:()=>g("grid"),className:`px-4 py-2 rounded-lg font-semibold transition ${m==="grid"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"Grid"}),h.jsx("button",{onClick:()=>g("list"),className:`px-4 py-2 rounded-lg font-semibold transition ${m==="list"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:"List"})]})]}),m==="grid"?h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:x.map(S=>h.jsxs(ye,{to:`/tuition/${S.id}`,className:"group block bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 border border-gray-100",children:[h.jsxs("div",{className:"relative h-40 overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100",children:[h.jsx("img",{src:nu(S.id),alt:S.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),h.jsxs("div",{className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm px-2 py-1 rounded-lg shadow-lg flex items-center gap-1",children:[h.jsx(mi,{className:"text-yellow-500 text-xs"}),h.jsx("span",{className:"font-bold text-gray-800 text-sm",children:S.rating})]})]}),h.jsxs("div",{className:"p-4 text-center",children:[h.jsx("h3",{className:"font-bold text-sm text-gray-800 line-clamp-2 leading-tight mb-2 group-hover:text-blue-600 transition-colors",children:S.name}),h.jsxs("p",{className:"text-xs text-gray-600 flex items-center justify-center gap-1 mb-4",children:[h.jsx(Ia,{className:"text-blue-600"}),S.location]}),h.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-xs font-semibold py-2.5 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-md hover:shadow-lg",children:"View Details"})]})]},S.id))}):h.jsx("div",{className:"space-y-4",children:x.map(S=>h.jsxs(ye,{to:`/tuition/${S.id}`,className:"group flex bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[h.jsx("div",{className:"relative w-48 h-32 flex-shrink-0 overflow-hidden bg-gradient-to-br from-blue-100 to-purple-100",children:h.jsx("img",{src:nu(S.id),alt:S.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),h.jsxs("div",{className:"flex-1 p-5 flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-2 group-hover:text-blue-600 transition-colors",children:S.name}),h.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-2 mb-1",children:[h.jsx(Ia,{className:"text-blue-600"}),S.location]}),h.jsxs("div",{className:"flex items-center gap-1 text-yellow-500",children:[h.jsx(mi,{}),h.jsx("span",{className:"font-bold text-gray-800",children:S.rating}),h.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"(4.5K reviews)"})]})]}),h.jsx("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-md hover:shadow-lg",children:"View Details "})]})]},S.id))}),x.length===0&&h.jsxs("div",{className:"text-center py-20 bg-white rounded-3xl shadow-lg",children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"No tuition centers found"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search or filters to find what you're looking for"}),h.jsx("button",{onClick:w,className:"bg-blue-600 text-white px-8 py-3 rounded-xl font-semibold hover:bg-blue-700 transition",children:"Clear All Filters"})]})]})})},wc=({children:n,allowedUserType:e})=>{const t=Fe(Cs),i=Fe(Rs);return t?e&&i!==e?h.jsx(tg,{to:i==="student"?"/student-dashboard":"/tuition-dashboard",replace:!0}):n:h.jsx(tg,{to:"/login",replace:!0})},_7=()=>{const n=Jo();return L.useEffect(()=>{n(di(!0));const e=qN(as,async t=>{if(t)try{const i=P0(Ma,"users",t.uid),a=await kE(i);if(a.exists()){const l=a.data();n(hd({user:{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},userType:l.userType,userProfile:l}))}else console.error("User profile not found in Firestore"),n(Bc())}catch(i){console.error("Error fetching user profile:",i),n(Bc())}else n(Bc());n(di(!1))});return()=>e()},[n]),h.jsx(t3,{children:h.jsxs(gn,{element:h.jsx(Y9,{}),children:[h.jsx(gn,{path:"/",element:h.jsx(t7,{})}),h.jsx(gn,{path:"/feed",element:h.jsx(c7,{})}),h.jsx(gn,{path:"/about",element:h.jsx(h7,{})}),h.jsx(gn,{path:"/all-tuitions",element:h.jsx(x7,{})}),h.jsx(gn,{path:"/tuition/:id",element:h.jsx(u7,{})}),h.jsx(gn,{path:"/login",element:h.jsx(d7,{})}),h.jsx(gn,{path:"/student-dashboard",element:h.jsx(wc,{allowedUserType:"student",children:h.jsx(g7,{})})}),h.jsx(gn,{path:"/profile",element:h.jsx(wc,{allowedUserType:"student",children:h.jsx(zb,{})})}),h.jsx(gn,{path:"/tuition-dashboard",element:h.jsx(wc,{allowedUserType:"tuition_owner",children:h.jsx(y7,{})})}),h.jsx(gn,{path:"/create-post",element:h.jsx(wc,{allowedUserType:"tuition_owner",children:h.jsx(v7,{})})}),h.jsx(gn,{path:"/tuition-profile",element:h.jsx(wc,{allowedUserType:"tuition_owner",children:h.jsx(zb,{})})}),h.jsx(gn,{path:"*",element:h.jsx(tg,{to:"/",replace:!0})})]})})},b7=f9({reducer:{auth:A9,posts:l7,enrollments:p7},middleware:n=>n({serializableCheck:{ignoredActions:["posts/addPost","posts/updatePost"],ignoredActionPaths:["payload.timestamp","payload.createdAt"],ignoredPaths:["posts.items","enrollments.items"]}})}),w7="/top-Tutions";o6.createRoot(document.getElementById("root")).render(h.jsx(ls.StrictMode,{children:h.jsx(X3,{store:b7,children:h.jsx(S3,{basename:w7,children:h.jsx(_7,{})})})}));
